{"version":3,"sources":["components/App.js","img/burger.svg","redux/actions/productsActions.js","redux/actions/usersActions.js","util/constants.js","util/string.js","components/ScrollReset.js","components/MainWrapper.js","components/shared/Anchor.js","components/app/Header.js","components/app/Footer.js","components/shared/Alert.js","util/component.js","components/shared/AssertContent.js","components/app/Layout.js","components/shared/form/CheckBox.js","components/shared/form/RadioButton.js","components/shared/range_slider/Range.js","components/app/Facets.js","components/app/Product.js","components/app/ProductsListing.js","components/app/ProductGallery.js","components/app/ProductCard.js","components/app/BlogTeaser.js","util/products.js","components/app/ProductDetails.js","components/app/LogIn.js","components/app/Register.js","components/app/Hero.js","components/app/Features.js","components/app/Testimonials.js","components/app/ContentSideImage.js","components/shared/NotImplemented.js","components/app/Home.js","components/app/ProductTeaser.js","components/app/NotFoundView.js","components/shared/Empty.js","components/app/CartBody.js","components/app/CartView.js","components/app/ProfileSettings.js","components/app/OrderList.js","components/app/AddressCard.js","components/app/Account.js","components/shared/authorized.js","components/app/CheckoutView.js","components/shared/Collapse.js","components/app/OrderDetails.js","components/app/BlogRoll.js","components/app/BlogEntry.js","components/app/Search.js","components/Routes.js","redux/actions/themeActions.js","redux/reducers/themeReducer.js","util/array.js","redux/reducers/contentReducer.js","redux/reducers/usersReducer.js","redux/reducers/productsReducer.js","redux/epics/users.js","redux/epics/epics.js","redux/epics/products.js","redux/epics/content.js","redux/store.js","translations/resources.js","translations/i18n.js","util/redux.js","redux/actions/contentActions.js"],"names":["__webpack_require__","r","__webpack_exports__","module","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","react_i18next__WEBPACK_IMPORTED_MODULE_3__","i18next__WEBPACK_IMPORTED_MODULE_4__","react_hot_loader__WEBPACK_IMPORTED_MODULE_5__","_Routes__WEBPACK_IMPORTED_MODULE_6__","_redux_store__WEBPACK_IMPORTED_MODULE_7__","_ScrollReset__WEBPACK_IMPORTED_MODULE_8__","_translations_i18n__WEBPACK_IMPORTED_MODULE_9__","_MainWrapper__WEBPACK_IMPORTED_MODULE_10__","i18next","init","i18nextConfig","hot","props","a","createElement","store","i18n","exports","p","d","FETCH_PRODUCTS","FETCH_PRODUCTS_COMPLETE","FETCH_PRODUCTS_FAILED","FETCH_PRODUCT","FETCH_PRODUCT_COMPLETE","FETCH_PRODUCT_FAILED","FETCH_CART","FETCH_CART_COMPLETE","ADD_TO_CART","ADD_TO_CART_COMPLETE","ADD_TO_CART_FAILED","UPDATE_CART","UPDATE_CART_COMPLETE","UPDATE_CART_FAILED","UPDATE_CART_ITEM_QUANTITY","UPDATE_CART_ITEM_QUANTITY_COMPLETE","UPDATE_CART_ITEM_QUANTITY_FAILED","REMOVE_FROM_CART","REMOVE_FROM_CART_COMPLETE","FACETS_CHANGED","KEYWORDS_CHANGED","FETCH_SHIPPING_METHODS","FETCH_SHIPPING_METHODS_COMPLETE","FETCH_SHIPPING_METHODS_FAILED","CHECKOUT","CHECKOUT_COMPLETE","CHANGE_LOCALE","CHANGE_CURRENCY","SET_STORE_SETTINGS","fetchProduct","fetchProductComplete","fetchProductFailed","fetchProducts","fetchProductsComplete","fetchProductsFailed","fetchCart","fetchCartComplete","fetchCartFailed","addToCart","addToCartComplete","addToCartFailed","removeFromCart","removeFromCartComplete","removeFromCartFailed","updateCartItemQuantity","updateCartItemQuantityComplete","updateCartItemQuantityFailed","updateCart","updateCartComplete","updateCartFailed","fetchShippingMethodsComplete","fetchShippingMethodsFailed","checkout","checkoutComplete","checkoutFailed","changeLocale","changeCurrency","setStoreSettings","FETCH_CART_FAILED","REMOVE_FROM_CART_FAILED","CHECKOUT_FAILED","id","type","payload","response","root","query","cartItem","data","redirect","value","settings","currency","currencies","locale","locales","LOGIN","LOGIN_COMPLETE","LOGIN_FAILED","SET_PERSONA","LOGOUT","LOGOUT_COMPLETE","REGISTRATION_COMPLETE","SUBMIT_REGISTRATION","SUBMIT_REGISTRATION_FAILED","FETCH_ORDERS","FETCH_ORDERS_COMPLETE","FETCH_ORDERS_FAILED","FETCH_ORDER","FETCH_ORDER_COMPLETE","FETCH_ORDER_FAILED","UNAUTHORIZED","SET_LOGIN_REDIRECT","RESET_LOGIN_REDIRECT","ADD_USER_ADDRESS","ADD_USER_ADDRESS_COMPLETE","ADD_USER_ADDRESS_FAILED","EDIT_USER_ADDRESS","EDIT_USER_ADDRESS_COMPLETE","EDIT_USER_ADDRESS_FAILED","REMOVE_USER_ADDRESS","REMOVE_USER_ADDRESS_COMPLETE","REMOVE_USER_ADDRESS_FAILED","SET_USER_ADDRESS_DEFAULTS","SET_USER_ADDRESS_DEFAULTS_COMPLETE","SET_USER_ADDRESS_DEFAULTS_FAILED","submitRegistrationComplete","submitRegistrationFailed","registrationComplete","loginComplete","setPersona","loginFailed","logout","logoutComplete","logoutFailed","fetchOrders","fetchOrdersComplete","fetchOrdersFailed","fetchOrder","fetchOrderComplete","fetchOrderFailed","setLoginRedirect","addAddressComplete","addAddressFailed","editAddressComplete","editAddressFailed","removeAddress","removeAddressComplete","removeAddressFailed","setAddressDefaults","setAddressDefaultsComplete","setAddressDefaultsFailed","LOGOUT_FAILED","SUBMIT_REGISTRATION_COMPLETE","message","user","persona","url","address","Currencies","USD","EUR","capitalize","str","charAt","toUpperCase","substring","toLowerCase","money","amount","concat","parseFloat","toFixed","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","memo","withRouter","useEffect","window","scrollTo","location","pathname","children","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","connect","state","theme","customizer","wrapperClass","classNames","wrapper","squared-corner-theme","squaredCorners","blocks-with-shadow-theme","withBoxShadow","top-navigation","topNavigation","className","Anchor","href","autoTarget","isExternal","find","protocol","includes","Component","Link","resultProps","Object","objectSpread2","to","target","react_default","defaultProps","FlagCodeMap","de","en","en_us","Header","dispatch","useDispatch","_useSelector$store","useSelector","content","name","_useSelector2$query","products","_useState","useState","_useState2","slicedToArray","localesOpen","setLocalesOpen","_useState3","_useState4","currenciesOpen","setCurrenciesOpen","history","useContext","__RouterContext","_useSelector3","users","_useState5","_useState6","searchOpen","setSearchOpen","_useState7","keywords","_useState8","setKeywords","_content$header","header","logo_s","logo_alt_t","logo_url_s","nav","Container","Row","Col","md","src","alt","onClick","document","querySelector","classList","contains","remove","add","hamburger","map","item","index","key","label","react_router_dom","ShoppingCartIcon_default","setTimeout","getElementById","focus","e","SearchIcon_default","PersonCircleOutlineIcon_default","Dropdown","isOpen","toggle","DropdownToggle","caret","react_world_flags_default","code","DropdownMenu","DropdownItem","Popover","placement","PopoverBody","onChange","onKeyPress","push","placeholder","Footer","_useSelector","footer","section_background_image_s","direction","Date","getFullYear","Alert","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onShow","setState","visible","onDismiss","Icon","_this$props","color","icon","dismiss","InformationOutlineIcon_default","ThumbUpOutlineIcon_default","CommentAlertOutlineIcon_default","CloseCircleOutlineIcon_default","es_Alert","PureComponent","getLoginFormDefaults","email","localStorage","getItem","process","rememberMe","useCart","onEmpty","arguments","length","undefined","cart","items","useUser","_ref2","onMissing","useContentBranch","useCartUpdateInFlight","loading","crafterConf","baseUrl","site","Cookie","get","AssertContent","render","variables","requirements","reqs","required","optional","forEach","req","isDescriptor","checker","getter","isOptional","toBeFetched","filter","byIdLoadingKey","FETCH_GRAPH","vars","fetchGraph","errors","error","console","sm","style","padding","shared_Alert","Spinner","React","Children","child","cloneElement","Layout","_ref","_ref$requirements","shared_AssertContent","toConsumableArray","app_Footer","CheckBox","disabled","checked","CheckboxClass","checkbox-btn","htmlFor","background","borderColor","CheckIcon_default","CloseIcon_default","CheckBoxField","defaultChecked","_this$props2","renderCheckBoxField","input","CheckBox_CheckBoxField","assign","meta","initial","RadioButton","currentValue","classes","defineProperty","radio-btn","RadioButtonField","_PureComponent","_getPrototypeOf2","_len","args","Array","_key","apply","radioValue","inherits","createClass","_this$props3","RadioButtonClass","renderRadioButtonField","RadioButton_RadioButtonField","Range","createSliderWithTooltip","Slider","RangeTheme","min","max","marks","tipFormatter","tipOptions","onAfterChange","defaultValue","tipProps","MultipleSelectionFacet","title","facets","onSelection","facet","SingleSelectionFacet","RangeFacet","Range_RangeTheme","HierarchicalFacets","react","cardigans_n_sweaters","Product","product","variants","rating","colors","variant","attributes","some","price","img","images","description","Fragment","build_default","average","widgetEmptyColors","widgetHoverColors","widgetRatedColors","widgetDimensions","widgetSpacings","Widget","ProductListing","byId","values","inputRef","useRef","queryString","qs","search","facetMeta","list","types","entries","_ref3","split","reduce","obj","parseInt","fetch","current","app_Layout","Button","outline","contained","dist_default","containerClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","pageRangeDisplayed","marginPagesDisplayed","activeClassName","initialPage","offset","limit","pageCount","Math","ceil","total","onPageChange","_ref9","nextPage","newQS","nextPageIndex","nextOffset","q","categories","join","onOffsetChanged","selected","disableInitialCallback","previousLabel","ChevronLeftIcon_default","nextLabel","ChevronRightIcon_default","marginBottom","border","ref","onKeywordsChange","facetItem","which","_ref6","collection","_value","_ref7","_ref8","val","onMultipleValueChange","_facet_","_ref4","_ref5","onRangeChange","ProductGallery","_useReducer","useReducer","b","image","currentIndex","lightboxIsOpen","_useReducer2","preventDefault","i","changeImg","react_images_es","onClose","views","isSale","reducer","SubmitReview","isLoggedIn","onSuccess","setValue","comments","setComments","_useState9","_useState10","openModal","setOpenModal","_useState11","_useState12","setMessage","toggleOpen","reviews","Modal","text","changeRating","ButtonToolbar","body","JSON","stringify","method","headers","Content-Type","then","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","json","sent","status","stop","_x","VariantSelection","components","options","getVariantLabel","option","react_select_browser_esm","clearable","classNamePrefix","attr","Option","innerProps","isDisabled","backgroundColor","boxShadow","ProductCard","initialState","setImages","setVariant","_useMergeState","productId","variantId","quantity","_useMergeState2","setCartItem","isInCart","updatesInFlight","iVariant","Card","CardBody","app_ProductGallery","nextQuantity","onStock","BlogPostCard","localId","slug_s","title_s","image_s","summary_html_raw","hideSummary","dangerouslySetInnerHTML","__html","BlogTeaser","posts_o","slice","post","lg","getProducts","params","ajax","useProductsQuery","_useSelector$query","ProductDetails","match","related","setRelated","sub","unsubscribe","keys","oMap","category","ids","products$","of","posts$","posts","forkJoin","pipe","prod","subscribe","app_ProductCard","LogInForm","reduxForm","form","showPassword","setShowPassword","setError","meRemembered","querySelectorAll","onSubmit","login","setItem","removeItem","catchError","loginRedirect","AccountOutlineIcon_default","Field","component","KeyVariantIcon_default","EyeIcon_default","LogIn","initialValues","RegisterFormComponent","handleSubmit","MailRuIcon_default","RegisterForm","RegistrationConfirmation","EmailIcon_default","CheckboxMarkedCircleIcon_default","Register","success","registerConfirmPending","Register_RegistrationConfirmation","Hero","title_t","image_alt_t","content_html_raw","buttons_o","backgroundImage","label_s","link_s","Features","features_o","closingContent_html_raw","openingContent_html_raw","width","description_t","icon_s","Testimonials","testimonials_o","customer_s","description_html_raw","stars_i","rel","stars","StarIcon_default","ContentSideImage","contentAlignment_s","image_alt_s","CopyColumn","xs","ImageColumn","NotImplemented","contentType","ContentTypeMap","/component/hero","/component/two-column","/component/feature-list","/component/testimonials","/component/blog_teaser","/component/product-teaser","_props$numOfProducts_","numOfProducts_i","setProducts","switchMap","_ref$response","random","display","textAlign","Home","home","age","gender","objectId","withTranslation","t","Empty","CartSummary","Table","responsive","productName","CartBody","displayOptions","showPrice","showTax","showTotal","showRemove","showQuantityModifiers","ButtonGroup","RemoveCircleOutlineIcon_default","AddCircleOutlineIcon_default","unitPrice","taxedPrice","totalPrice","DeleteForeverIcon_default","OrderTotals","sum","shippingPrice","CartView","app_CartBody","ChangePasswordForm","reset","setType","setSuccess","_callee2","_context2","SubmissionError","_error","abrupt","_x2","OrderList","ordersTable","orders","hover","created","modified","shippingStatus","orderStatus","paymentStatus","substr","indexOf","Badge","AddressCard","showName","addressName","firstName","lastName","phone","mobile","fax","streetAddressLineOne","streetAddressLineTwo","city","postalCode","country","AddressForm","onCancel","isEditMode","AddressEntry","addressId","backUrl","origin","useMemo","addresses","AddressSelection","returnUrl","newAddressUrl","authorized","displayName","C","_useContext","wrappedComponentRef","remainingProps","objectWithoutProperties","WrappedComponent","hoistStatics","activeTab","tab","setActiveTab","xl","height","middleName","Nav","tabs","NavItem","NavLink","classnames","active","TabContent","TabPane","tabId","app_ProfileSettings","app_AddressCard","isShippingDefault","isBillingDefault","UncontrolledDropdown","ChevronDownIcon_default","onUpdateAddressDefaults","onSetDefaultBilling","onSetDefaultShipping","divider","app_OrderList","cartAddress","_address_","ShippingSelection","selectedValue","CreditCardForm","cardNumber","cvc","expirationDate","nameOnCard","CreditCardIcon_default","minLength","maxLength","CheckoutView","card","shippingAddress","setShippingAddress","billingAddress","setBillingAddress","shippingMethod","setShippingMethod","onAddressSelection","shipping","billing","shippingCondition","billingCondition","methodCondition","checkoutDisabled","small","shippingMethods","_e$target","CollapseComponent","onEntering","MinusIcon_default","onEntered","onExiting","PlusIcon_default","onExited","prevState","collapse","_this$state","Collapse","OrderDetails","order","useOrder","BlogRoll","roll","setRoll","selectedCategory","navItem","blog","categories_o","CategoryListing","KeyboardArrowLeftIcon_default","BlogEntry","slug","bySlug","Post","RelatedPosts","RelatedProducts","author_s","subtitle_s","value_smv","relatedPosts","setRelatedPosts","setItems","floor","ARTICLE","PRODUCT","Search","productResults","setProductResults","contentResults","setContentResults","productsQueryParams","SearchService","crafterQuery","createQuery","bool","multi_match","content-type","getQuery","totalHits","articles","hits","sourceAsMap","catalog","MagnifyIcon_default","SearchResult","link","preview","content_html","Routes","isAuthoring","listen","require","guest","reportNavigation","react_router","exact","path","Account","NotFound404","CHANGE_THEME_TO_DARK","CHANGE_THEME_TO_LIGHT","SET_IS_AUTHORING","CHANGE_BORDER_RADIUS","TOGGLE_BOX_SHADOW","TOGGLE_TOP_NAVIGATION","toLookupTable","array","prop","table","getHeader","getFooter","getHome","sections_o","getPosts","getStore","getCategories","combineEpics","action$","state$","ofType","withLatestFrom","pluck","errorOp","mapOp","isArray","fetchGraphComplete","content__type","_ref10","itemId","tap","ignoreElements","mapTo","addAddress","changeAddress","defaultBillingAddress","defaultShippingAddress","_ref11","_ref12","combineReducers","reduxFormReducer","action","removeProp","FETCH_GRAPH_COMPLETE","rootPayload","FETCH_GRAPH_FAILED","getRootType","registration","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","epicMiddleware","createEpicMiddleware","createStore","applyMiddleware","innerHTML","parse","storeSettings","getAttribute","setIsAuthoring","run","rootEpic","resources","es","config","interpolation","escapeValue","lng","branch","_Users_tfield_Projects_Pokemon_training_react_source_2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","fail","replace"],"mappings":"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","file":"static/js/3.1e5f042d.chunk.js","sourcesContent":["/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { I18nextProvider } from 'react-i18next';\nimport i18next from 'i18next';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { hot } from 'react-hot-loader';\nimport Routes from './Routes';\nimport store from '../redux/store';\nimport ScrollReset from './ScrollReset';\nimport { config as i18nextConfig } from '../translations/i18n';\nimport MainWrapper from './MainWrapper';\n\ni18next.init(i18nextConfig);\n\nfunction App(props) {\n\n  return (\n    <Provider store={store}>\n      <I18nextProvider i18n={i18next}>\n        <BrowserRouter>\n          <ScrollReset>\n            <MainWrapper>\n              <main>\n                <Routes/>\n              </main>\n            </MainWrapper>\n          </ScrollReset>\n        </BrowserRouter>\n      </I18nextProvider>\n    </Provider>\n  );\n}\n\nexport default hot(module)(App);\n","module.exports = __webpack_public_path__ + \"static/media/burger.8282f1ec.svg\";","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const FETCH_PRODUCTS = 'FETCH_PRODUCTS';\nexport const FETCH_PRODUCTS_COMPLETE = 'FETCH_PRODUCTS_COMPLETE';\nexport const FETCH_PRODUCTS_FAILED = 'FETCH_PRODUCTS_FAILED';\n\nexport const FETCH_PRODUCT = 'FETCH_PRODUCT';\nexport const FETCH_PRODUCT_COMPLETE = 'FETCH_PRODUCT_COMPLETE';\nexport const FETCH_PRODUCT_FAILED = 'FETCH_PRODUCT_FAILED';\n\nexport const FETCH_CART = 'FETCH_CART';\nexport const FETCH_CART_COMPLETE = 'FETCH_CART_COMPLETE';\nexport const FETCH_CART_FAILED = 'FETCH_CART_FAILED';\n\nexport const ADD_TO_CART = 'ADD_TO_CART';\nexport const ADD_TO_CART_COMPLETE = 'ADD_TO_CART_COMPLETE';\nexport const ADD_TO_CART_FAILED = 'ADD_TO_CART_FAILED';\n\nexport const UPDATE_CART = 'UPDATE_CART';\nexport const UPDATE_CART_COMPLETE = 'UPDATE_CART_COMPLETE';\nexport const UPDATE_CART_FAILED = 'UPDATE_CART_FAILED';\n\nexport const UPDATE_CART_ITEM_QUANTITY = 'UPDATE_CART_ITEM_QUANTITY';\nexport const UPDATE_CART_ITEM_QUANTITY_COMPLETE = 'UPDATE_CART_ITEM_QUANTITY_COMPLETE';\nexport const UPDATE_CART_ITEM_QUANTITY_FAILED = 'UPDATE_CART_ITEM_QUANTITY_FAILED';\n\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART';\nexport const REMOVE_FROM_CART_COMPLETE = 'REMOVE_FROM_CART_COMPLETE';\nexport const REMOVE_FROM_CART_FAILED = 'REMOVE_FROM_CART_FAILED';\n\nexport const FACETS_CHANGED = 'FACETS_CHANGED';\nexport const KEYWORDS_CHANGED = 'KEYWORDS_CHANGED';\n\nexport const FETCH_SHIPPING_METHODS = '';\nexport const FETCH_SHIPPING_METHODS_COMPLETE = 'FETCH_SHIPPING_METHODS_COMPLETE';\nexport const FETCH_SHIPPING_METHODS_FAILED = 'FETCH_SHIPPING_METHODS_FAILED';\n\nexport const CHECKOUT = 'CHECKOUT';\nexport const CHECKOUT_COMPLETE = 'CHECKOUT_COMPLETE';\nexport const CHECKOUT_FAILED = 'CHECKOUT_FAILED';\n\nexport const CHANGE_LOCALE = 'CHANGE_LOCALE';\nexport const CHANGE_CURRENCY = 'CHANGE_CURRENCY';\nexport const SET_STORE_SETTINGS = 'SET_STORE_SETTINGS';\n\nexport function fetchProduct(id) {\n  return {\n    type: FETCH_PRODUCT,\n    payload: { id }\n  };\n}\n\nexport function fetchProductComplete(response) {\n  return {\n    root: FETCH_PRODUCT,\n    type: FETCH_PRODUCT_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchProductFailed(response) {\n  return {\n    root: FETCH_PRODUCT,\n    type: FETCH_PRODUCT_FAILED,\n    payload: response\n  };\n}\n\nexport function fetchProducts(query) {\n  return {\n    type: FETCH_PRODUCTS,\n    payload: { query }\n  };\n}\n\nexport function fetchProductsComplete(response) {\n  return {\n    root: FETCH_PRODUCTS,\n    type: FETCH_PRODUCTS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchProductsFailed(response) {\n  return {\n    root: FETCH_PRODUCTS,\n    type: FETCH_PRODUCTS_FAILED,\n    payload: response\n  };\n}\n\nexport function fetchCart() {\n  return {\n    type: FETCH_CART\n  };\n}\n\nexport function fetchCartComplete(response) {\n  return {\n    root: FETCH_CART,\n    type: FETCH_CART_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchCartFailed(response) {\n  return {\n    root: FETCH_CART,\n    type: FETCH_CART_FAILED,\n    payload: response\n  };\n}\n\nexport function addToCart(cartItem) {\n  return {\n    type: ADD_TO_CART,\n    payload: cartItem\n  };\n}\n\nexport function addToCartComplete(response) {\n  return {\n    root: ADD_TO_CART,\n    type: ADD_TO_CART_COMPLETE,\n    payload: response\n  };\n}\n\nexport function addToCartFailed(response) {\n  return {\n    root: ADD_TO_CART,\n    type: ADD_TO_CART_FAILED,\n    payload: response\n  };\n}\n\nexport function removeFromCart(data) {\n  return {\n    type: REMOVE_FROM_CART,\n    payload: data\n  };\n}\n\nexport function removeFromCartComplete(data) {\n  return {\n    root: REMOVE_FROM_CART,\n    type: REMOVE_FROM_CART_COMPLETE,\n    payload: data\n  };\n}\n\nexport function removeFromCartFailed(data) {\n  return {\n    root: REMOVE_FROM_CART,\n    type: REMOVE_FROM_CART_FAILED,\n    payload: data\n  };\n}\n\nexport function updateCartItemQuantity(data) {\n  return {\n    type: UPDATE_CART_ITEM_QUANTITY,\n    payload: data\n  };\n}\n\nexport function updateCartItemQuantityComplete(data) {\n  return {\n    root: UPDATE_CART_ITEM_QUANTITY,\n    type: UPDATE_CART_ITEM_QUANTITY_COMPLETE,\n    payload: data\n  };\n}\n\nexport function updateCartItemQuantityFailed(data) {\n  return {\n    root: UPDATE_CART_ITEM_QUANTITY,\n    type: UPDATE_CART_ITEM_QUANTITY_FAILED,\n    payload: data\n  };\n}\n\nexport function updateCart(data) {\n  return {\n    type: UPDATE_CART,\n    payload: data\n  };\n}\n\nexport function updateCartComplete(data) {\n  return {\n    root: UPDATE_CART,\n    type: UPDATE_CART_COMPLETE,\n    payload: data\n  };\n}\n\nexport function updateCartFailed(data) {\n  return {\n    root: UPDATE_CART,\n    type: UPDATE_CART_FAILED,\n    payload: data\n  };\n}\n\nexport function facetsChanged(query) {\n  return {\n    type: FACETS_CHANGED,\n    payload: { query }\n  };\n}\n\nexport function keywordsChanged(keywords) {\n  return {\n    type: KEYWORDS_CHANGED,\n    payload: { keywords }\n  };\n}\n\nexport function fetchShippingMethods() {\n  return {\n    type: FETCH_SHIPPING_METHODS\n  };\n}\n\nexport function fetchShippingMethodsComplete(data) {\n  return {\n    root: FETCH_SHIPPING_METHODS,\n    type: FETCH_SHIPPING_METHODS_COMPLETE,\n    payload: data\n  };\n}\n\nexport function fetchShippingMethodsFailed(data) {\n  return {\n    root: FETCH_SHIPPING_METHODS,\n    type: FETCH_SHIPPING_METHODS_FAILED,\n    payload: data\n  };\n}\n\nexport function checkout(data, redirect) {\n  return {\n    type: CHECKOUT,\n    payload: { data, redirect }\n  };\n}\n\nexport function checkoutComplete(data) {\n  return {\n    root: CHECKOUT,\n    type: CHECKOUT_COMPLETE,\n    payload: data\n  };\n}\n\nexport function checkoutFailed(data) {\n  return {\n    root: CHECKOUT,\n    type: CHECKOUT_FAILED,\n    payload: data\n  };\n}\n\nexport function changeLocale(value) {\n  return {\n    type: CHANGE_LOCALE,\n    payload: { value }\n  };\n}\n\nexport function changeCurrency(value) {\n  return {\n    type: CHANGE_CURRENCY,\n    payload: { value }\n  };\n}\n\nexport function setStoreSettings(settings) {\n  return {\n    type: SET_STORE_SETTINGS,\n    payload: { currency: settings.currencies[0], locale: settings.locales[0] }\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const LOGIN = 'LOGIN';\nexport const LOGIN_COMPLETE = 'LOGIN_COMPLETE';\nexport const LOGIN_FAILED = 'LOGIN_FAILED';\n\nexport const SET_PERSONA = 'SET_PERSONA';\n\nexport const LOGOUT = 'LOGOUT';\nexport const LOGOUT_COMPLETE = 'LOGOUT_COMPLETE';\nexport const LOGOUT_FAILED = 'LOGOUT_FAILED';\n\nexport const REGISTRATION_COMPLETE = 'REGISTRATION_COMPLETE';\nexport const SUBMIT_REGISTRATION = 'SUBMIT_REGISTRATION';\nexport const SUBMIT_REGISTRATION_COMPLETE = 'SUBMIT_REGISTRATION_COMPLETE';\nexport const SUBMIT_REGISTRATION_FAILED = 'SUBMIT_REGISTRATION_FAILED';\n\nexport const FETCH_ORDERS = 'FETCH_ORDERS';\nexport const FETCH_ORDERS_COMPLETE = 'FETCH_ORDERS_COMPLETE';\nexport const FETCH_ORDERS_FAILED = 'FETCH_ORDERS_FAILED';\n\nexport const FETCH_ORDER = 'FETCH_ORDER';\nexport const FETCH_ORDER_COMPLETE = 'FETCH_ORDER_COMPLETE';\nexport const FETCH_ORDER_FAILED = 'FETCH_ORDER_FAILED';\n\nexport const UNAUTHORIZED = 'UNAUTHORIZED';\n\nexport const SET_LOGIN_REDIRECT = 'SET_LOGIN_REDIRECT';\nexport const RESET_LOGIN_REDIRECT = 'RESET_LOGIN_REDIRECT';\n\nexport const ADD_USER_ADDRESS = 'ADD_USER_ADDRESS';\nexport const ADD_USER_ADDRESS_COMPLETE = 'ADD_USER_ADDRESS_COMPLETE';\nexport const ADD_USER_ADDRESS_FAILED = 'ADD_USER_ADDRESS_FAILED';\n\nexport const EDIT_USER_ADDRESS = 'EDIT_USER_ADDRESS';\nexport const EDIT_USER_ADDRESS_COMPLETE = 'EDIT_USER_ADDRESS_COMPLETE';\nexport const EDIT_USER_ADDRESS_FAILED = 'EDIT_USER_ADDRESS_FAILED';\n\nexport const REMOVE_USER_ADDRESS = 'REMOVE_USER_ADDRESS';\nexport const REMOVE_USER_ADDRESS_COMPLETE = 'REMOVE_USER_ADDRESS_COMPLETE';\nexport const REMOVE_USER_ADDRESS_FAILED = 'REMOVE_USER_ADDRESS_FAILED';\n\nexport const SET_USER_ADDRESS_DEFAULTS = 'SET_USER_ADDRESS_DEFAULTS';\nexport const SET_USER_ADDRESS_DEFAULTS_COMPLETE = 'SET_USER_ADDRESS_DEFAULTS_COMPLETE';\nexport const SET_USER_ADDRESS_DEFAULTS_FAILED = 'SET_USER_ADDRESS_DEFAULTS_FAILED';\n\nexport function submitRegistration() {\n  return {\n    type: SUBMIT_REGISTRATION\n  };\n}\n\nexport function submitRegistrationComplete() {\n  return {\n    root: SUBMIT_REGISTRATION,\n    type: SUBMIT_REGISTRATION_COMPLETE\n  };\n}\n\nexport function submitRegistrationFailed(message) {\n  return {\n    root: SUBMIT_REGISTRATION,\n    type: SUBMIT_REGISTRATION_FAILED,\n    payload: message\n  };\n}\n\nexport function registrationComplete() {\n  return {\n    type: REGISTRATION_COMPLETE\n  };\n}\n\nexport function login(data, redirect) {\n  return {\n    type: LOGIN,\n    payload: { data, redirect }\n  };\n}\n\nexport function loginComplete(user) {\n  return {\n    root: LOGIN,\n    type: LOGIN_COMPLETE,\n    payload: user\n  };\n}\n\nexport const setPersona = (persona) => ({\n  type: SET_PERSONA,\n  payload: { persona }\n});\n\nexport function loginFailed(response) {\n  return {\n    root: LOGIN,\n    type: LOGIN_FAILED,\n    payload: response\n  };\n}\n\nexport function logout(redirect) {\n  return {\n    type: LOGOUT,\n    payload: { redirect }\n  };\n}\n\nexport function logoutComplete() {\n  return {\n    root: LOGOUT,\n    type: LOGOUT_COMPLETE\n  };\n}\n\nexport function logoutFailed() {\n  return {\n    root: LOGOUT,\n    type: LOGOUT_FAILED\n  };\n}\n\nexport function fetchOrders() {\n  return {\n    type: FETCH_ORDERS,\n    payload: null\n  };\n}\n\nexport function fetchOrdersComplete(response) {\n  return {\n    root: FETCH_ORDERS,\n    type: FETCH_ORDERS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchOrdersFailed(response) {\n  return {\n    root: FETCH_ORDERS,\n    type: FETCH_ORDERS_FAILED,\n    payload: response\n  };\n}\n\nexport function fetchOrder(id) {\n  return {\n    type: FETCH_ORDER,\n    payload: { id }\n  };\n}\n\nexport function fetchOrderComplete(response) {\n  return {\n    root: FETCH_ORDER,\n    type: FETCH_ORDER_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchOrderFailed(response) {\n  return {\n    root: FETCH_ORDER,\n    type: FETCH_ORDER_FAILED,\n    payload: response\n  };\n}\n\nexport function setLoginRedirect(url) {\n  return {\n    type: SET_LOGIN_REDIRECT,\n    payload: { url }\n  };\n}\n\nexport function resetLoginRedirect() {\n  return {\n    type: RESET_LOGIN_REDIRECT\n  };\n}\n\nexport function addAddress(address) {\n  return {\n    type: ADD_USER_ADDRESS,\n    payload: { address }\n  };\n}\n\nexport function addAddressComplete(response) {\n  return {\n    root: ADD_USER_ADDRESS,\n    type: ADD_USER_ADDRESS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function addAddressFailed(response) {\n  return {\n    root: ADD_USER_ADDRESS,\n    type: ADD_USER_ADDRESS_FAILED,\n    payload: response\n  };\n}\n\nexport function editAddress(address) {\n  return {\n    type: EDIT_USER_ADDRESS,\n    payload: { address }\n  };\n}\n\nexport function editAddressComplete(response) {\n  return {\n    root: EDIT_USER_ADDRESS,\n    type: EDIT_USER_ADDRESS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function editAddressFailed(response) {\n  return {\n    root: EDIT_USER_ADDRESS,\n    type: EDIT_USER_ADDRESS_FAILED,\n    payload: response\n  };\n}\n\nexport function removeAddress(id) {\n  return {\n    type: REMOVE_USER_ADDRESS,\n    payload: { id }\n  };\n}\n\nexport function removeAddressComplete(response) {\n  return {\n    root: REMOVE_USER_ADDRESS,\n    type: REMOVE_USER_ADDRESS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function removeAddressFailed(response) {\n  return {\n    root: REMOVE_USER_ADDRESS,\n    type: REMOVE_USER_ADDRESS_FAILED,\n    payload: response\n  };\n}\n\nexport function setAddressDefaults(address) {\n  return {\n    type: SET_USER_ADDRESS_DEFAULTS,\n    payload: { address }\n  };\n}\n\nexport function setAddressDefaultsComplete(response) {\n  return {\n    root: SET_USER_ADDRESS_DEFAULTS,\n    type: SET_USER_ADDRESS_DEFAULTS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function setAddressDefaultsFailed(response) {\n  return {\n    root: SET_USER_ADDRESS_DEFAULTS,\n    type: SET_USER_ADDRESS_DEFAULTS_FAILED,\n    payload: response\n  };\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const Currencies = {\n  USD: '$',\n  EUR: '€'\n};\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Currencies } from './constants';\n\nexport function capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.substring(1).toLowerCase();\n}\n\nexport function money(amount, currency) {\n  return amount == null ? '' : `${Currencies[currency] || currency || ''}${parseFloat(amount).toFixed(2)}`;\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { memo, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nfunction ScrollReset(props) {\n  useEffect(\n    () => {\n      window.scrollTo(0, 0);\n    },\n    [props.location.pathname]\n  );\n  return props.children;\n}\n\nexport default memo(withRouter(ScrollReset));\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\n\nfunction MainWrapper(props) {\n  const { theme, children } = props;\n\n  const wrapperClass = classNames({\n    'wrapper': true,\n    'squared-corner-theme': theme.squaredCorners,\n    'blocks-with-shadow-theme': theme.withBoxShadow,\n    'top-navigation': theme.topNavigation,\n  });\n\n  return (\n    <div className={theme.className}>\n      <div className={wrapperClass}>\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default connect(state => ({\n  theme: state.theme,\n  customizer: state.customizer,\n}))(MainWrapper);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Anchor(props) {\n\n  const { href, autoTarget } = props;\n\n  const isExternal = !!['http:', 'https:', 'javascript:'].find((protocol) => href.includes(protocol));\n  const Component = isExternal ? 'a' : Link;\n\n  const resultProps = {\n    ...(\n      isExternal\n        ? { href: href }\n        : { to: href }\n    ),\n    ...(\n      autoTarget && isExternal\n        ? { target: \"_blank\" }\n        : {}\n    ),\n    ...props\n  };\n\n  !isExternal && delete resultProps.href;\n  delete resultProps.autoTarget;\n\n  return (\n    <Component {...resultProps}>\n      {props.children}\n    </Component>\n  );\n\n}\n\nAnchor.defaultProps = {\n  href: 'javascript:',\n  autoTarget: true\n};\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useContext, useState } from 'react';\nimport {\n  Col,\n  Container,\n  Popover,\n  PopoverBody,\n  Row,\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem\n} from 'reactstrap';\nimport Anchor from '../shared/Anchor';\nimport { __RouterContext, Link } from 'react-router-dom';\nimport SearchIcon from 'mdi-react/SearchIcon';\nimport PersonCircleOutlineIcon from 'mdi-react/PersonCircleOutlineIcon';\nimport ShoppingCartIcon from 'mdi-react/ShoppingCartIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport hamburger  from '../../img/burger.svg';\nimport Flag from 'react-world-flags';\nimport { changeCurrency, changeLocale } from '../../redux/actions/productsActions';\n\nconst FlagCodeMap = {\n  de: 'de',\n  en: 'us',\n  en_us: 'us'\n};\n\nexport default function Header() {\n\n  const dispatch = useDispatch();\n  const { store: {\n    name,\n    locales,\n    currencies\n  } } = useSelector(state => state.content);\n  const {\n    query: { locale, currency }\n  } = useSelector(state => state.products);\n  const [localesOpen, setLocalesOpen] = useState(false);\n  const [currenciesOpen, setCurrenciesOpen] = useState(false);\n\n  const { history } = useContext(__RouterContext);\n  const { content, users, products } = useSelector(state => state);\n  const { query } = products;\n  const [searchOpen, setSearchOpen] = useState(false);\n  const [keywords, setKeywords] = useState(query.keywords || '');\n\n  const\n    {\n      logo_s,\n      logo_alt_t,\n      logo_url_s\n    } = content.header,\n    { user } = users,\n    nav = content.nav;\n\n  return (\n    <div className=\"landing__menu\">\n      <Container>\n        <Row>\n          <Col md={12}>\n            <div className=\"landing__menu-wrap\">\n              <Anchor className=\"landing__menu-logo\" href={logo_url_s}>\n                <img src={logo_s} alt={logo_alt_t}/> <span className=\"landing__store-name\">{name}</span>\n              </Anchor>\n              <button\n                type=\"button\"\n                className=\"landing__menu-deployer\"\n                onClick={() => {\n                  const nav = document.querySelector('.landing__menu-nav');\n                  if (nav.classList.contains('open')) {\n                    nav.classList.remove('open');\n                  } else {\n                    nav.classList.add('open');\n                  }\n                }}\n              >\n                <img src={hamburger} alt=\"Open Menu\"/>\n              </button>\n              <nav className=\"landing__menu-nav\">\n                {\n                  nav.map((item, index) =>\n                    <Anchor\n                      key={index}\n                      className=\"landing__menu-nav__item\"\n                      href={item.url}\n                    >\n                      {item.label}\n                    </Anchor>\n                  )\n                }\n                <Link\n                  to=\"/cart\"\n                  className=\"landing__menu-nav__item\"\n                  onClick={() => void null}\n                >\n                  <ShoppingCartIcon/>\n                </Link>\n                <button\n                  id=\"headerSearchButton\"\n                  className=\"landing__menu-nav__item\"\n                  onClick={() => {\n                    setSearchOpen(true);\n                    setTimeout(() => {\n                      try {\n                        document.getElementById('globalSearchInput').focus()\n                      } catch(e) {\n\n                      }\n                    })\n                  }}\n                >\n                  <SearchIcon/>\n                </button>\n                {\n                  (user == null)\n                    ? (\n                      <Link className=\"landing__btn\" to=\"/login\">\n                        Sign In\n                      </Link>\n                    ) : (\n                      <Link className=\"landing__menu-nav__item\" to=\"/account\">\n                        <PersonCircleOutlineIcon/>\n                      </Link>\n                    )\n                }\n                <Dropdown className=\"landing__header-locale-dropdown\" isOpen={localesOpen} toggle={() => setLocalesOpen(!localesOpen)}>\n                  <DropdownToggle caret>\n                    {FlagCodeMap[locale] ? <Flag code={FlagCodeMap[locale]}/> : locale}\n                  </DropdownToggle>\n                  <DropdownMenu>\n                    {\n                      (locales || []).map((code) => (\n                        <DropdownItem key={code} onClick={() => dispatch(changeLocale(code))}>\n                          {FlagCodeMap[code] ? <Flag code={FlagCodeMap[code]}/> : code}\n                        </DropdownItem>\n                      ))\n                    }\n                  </DropdownMenu>\n                </Dropdown>\n                <Dropdown className=\"landing__header-currency-dropdown\" isOpen={currenciesOpen} toggle={() => setCurrenciesOpen(!currenciesOpen)}>\n                  <DropdownToggle caret>\n                    {currency}\n                  </DropdownToggle>\n                  <DropdownMenu>\n                    {\n                      (currencies || []).map((code) => (\n                        <DropdownItem key={code} onClick={() => dispatch(changeCurrency(code))}>{code}</DropdownItem>\n                      ))\n                    }\n                  </DropdownMenu>\n                </Dropdown>\n              </nav>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n      <Popover\n        placement=\"bottom\"\n        target=\"headerSearchButton\"\n        isOpen={searchOpen}\n        toggle={() => setSearchOpen(false)}\n      >\n        <PopoverBody className=\"theme-light\">\n          <div className=\"form\">\n            <div className=\"form__form-group-field\">\n              <div className=\"form__form-group-icon\">\n                <SearchIcon/>\n              </div>\n              <input\n                id=\"globalSearchInput\"\n                type=\"text\"\n                name=\"keywords\"\n                value={keywords}\n                onChange={(e) => setKeywords(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && history.push(`/search?q=${e.target.value}`)}\n                placeholder=\"Search...\"\n              />\n            </div>\n          </div>\n        </PopoverBody>\n      </Popover>\n    </div>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useState } from 'react';\nimport { Col, Row, Container, Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport Anchor from \"../shared/Anchor\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport Flag from 'react-world-flags';\nimport { changeCurrency, changeLocale } from '../../redux/actions/productsActions';\n\nconst FlagCodeMap = {\n  de: 'de',\n  en: 'us',\n  en_us: 'us'\n};\n\nfunction Footer(props){\n\n  const dispatch = useDispatch();\n\n  const { footer, store } = useSelector(state => state.content);\n\n  const {\n    logo_s,\n    logo_alt_t,\n    logo_url_s,\n    section_background_image_s\n  } = footer;\n\n  const {\n    name,\n    locales,\n    currencies\n  } = store;\n\n  const {\n    query: { locale, currency }\n  } = useSelector(state => state.products);\n\n  const [localesOpen, setLocalesOpen] = useState(false);\n\n  const [currenciesOpen, setCurrenciesOpen] = useState(false);\n\n  return (\n    <footer className=\"landing__footer\">\n      {\n        section_background_image_s &&\n        <img className=\"landing__footer-background\" src={section_background_image_s} alt=\"\" />\n      }\n      <Container>\n        <Row>\n          <Col md={12}>\n            <Dropdown className=\"landing__footer-locale-dropdown\" direction=\"up\" isOpen={localesOpen} toggle={() => setLocalesOpen(!localesOpen)}>\n              <DropdownToggle caret>\n                {FlagCodeMap[locale] ? <Flag code={FlagCodeMap[locale]}/> : locale}\n              </DropdownToggle>\n              <DropdownMenu>\n                {\n                  (locales || []).map((code) => (\n                    <DropdownItem key={code} onClick={() => dispatch(changeLocale(code))}>\n                      {FlagCodeMap[code] ? <Flag code={FlagCodeMap[code]}/> : code}\n                    </DropdownItem>\n                  ))\n                }\n              </DropdownMenu>\n            </Dropdown>\n            <Dropdown className=\"landing__footer-currency-dropdown\" direction=\"up\" isOpen={currenciesOpen} toggle={() => setCurrenciesOpen(!currenciesOpen)}>\n              <DropdownToggle caret>\n                {currency}\n              </DropdownToggle>\n              <DropdownMenu>\n                {\n                  (currencies || []).map((code) => (\n                    <DropdownItem key={code} onClick={() => dispatch(changeCurrency(code))}>{code}</DropdownItem>\n                  ))\n                }\n              </DropdownMenu>\n            </Dropdown>\n          </Col>\n          <Col md={12}>\n            <p>Powered By</p>\n            <Anchor href={logo_url_s}>\n              <img className=\"landing__footer-logo\" src={logo_s} alt={logo_alt_t}/>\n            </Anchor>\n          </Col>\n          <Col md={12}>\n            © {name} {new Date().getFullYear()}\n          </Col>\n        </Row>\n      </Container>\n    </footer>\n  );\n\n\n\n}\n\nexport default Footer;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { PureComponent } from 'react';\nimport { Alert as AlertReactstrap } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport InformationOutlineIcon from 'mdi-react/InformationOutlineIcon';\nimport ThumbUpOutlineIcon from 'mdi-react/ThumbUpOutlineIcon';\nimport CommentAlertOutlineIcon from 'mdi-react/CommentAlertOutlineIcon';\nimport CloseCircleOutlineIcon from 'mdi-react/CloseCircleOutlineIcon';\n\nclass Alert extends PureComponent {\n  static propTypes = {\n    color: PropTypes.string,\n    icon: PropTypes.bool,\n    className: PropTypes.string,\n    children: PropTypes.element.isRequired,\n  };\n\n  static defaultProps = {\n    color: '',\n    icon: false,\n    className: '',\n    dismiss: true,\n    onDismiss: () => void null\n  };\n\n  constructor() {\n    super();\n\n    this.state = {\n      visible: true,\n    };\n  }\n\n  onShow = () => {\n    this.setState({ visible: true });\n  };\n\n  onDismiss = () => {\n    this.setState({ visible: false });\n    this.props.onDismiss()\n  };\n\n  render() {\n    const { visible } = this.state;\n\n    const {\n      color,\n      className,\n      icon,\n      children,\n      dismiss\n    } = this.props;\n    let Icon;\n\n    switch (color) {\n      case 'info':\n        Icon = <InformationOutlineIcon />;\n        break;\n      case 'success':\n        Icon = <ThumbUpOutlineIcon />;\n        break;\n      case 'warning':\n        Icon = <CommentAlertOutlineIcon />;\n        break;\n      case 'danger':\n        Icon = <CloseCircleOutlineIcon />;\n        break;\n      default:\n        break;\n    }\n\n    if (visible) {\n      return (\n        <AlertReactstrap color={color} className={className} isOpen={visible}>\n          {icon && <div className=\"alert__icon\">{Icon}</div>}\n          {dismiss && <button className=\"close\" type=\"button\" onClick={this.onDismiss}><span className=\"lnr lnr-cross\" /></button>}\n          <div className=\"alert__content\">\n            {children}\n          </div>\n        </AlertReactstrap>\n      );\n    }\n\n    return null;\n\n  }\n}\n\nexport default Alert;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport {\n  ADD_TO_CART, FETCH_CART,\n  fetchCart,\n  REMOVE_FROM_CART,\n  UPDATE_CART,\n  UPDATE_CART_ITEM_QUANTITY\n} from '../redux/actions/productsActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport React, { useEffect } from 'react';\nimport { fetchOrder, setLoginRedirect } from '../redux/actions/usersActions';\nimport { SearchService } from '@craftercms/search';\nimport Cookie from 'js-cookie';\n\nexport function getLoginFormDefaults() {\n  const email = localStorage.getItem(`${process.env.REACT_APP_STORE_KEY}.email`);\n  return {\n    email: email || '',\n    rememberMe: email != null\n  };\n}\n\nexport function useHeader() {\n  return useSelector(state => state.content.header);\n}\n\nexport function useCart({ onEmpty } = {}) {\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.products.cart);\n  useEffect(\n    () => {\n      if (cart == null) {\n        dispatch(fetchCart());\n      } else if (cart.items.length === 0) {\n        onEmpty && onEmpty();\n      }\n    },\n    [cart]\n  );\n  return cart;\n}\n\nexport function useUser({ redirect, onMissing } = {}) {\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.users.user);\n  useEffect(\n    () => {\n      if (user == null) {\n        if (redirect)\n          dispatch(setLoginRedirect(redirect));\n        if (onMissing)\n          onMissing && onMissing();\n      }\n    },\n    []\n  );\n  return user;\n}\n\nexport function useUserBranch() {\n  return useSelector(state => state.users);\n}\n\nexport function useOrder(id) {\n  const dispatch = useDispatch();\n  const order = useSelector(state => state.users.orders[id]);\n  useEffect(\n    () => {\n      if (id && (order == null || order.items == null))\n        dispatch(fetchOrder(id));\n    },\n    [id]\n  );\n  return order;\n}\n\nexport function useProductsBranch() {\n  return useSelector(state => state.products);\n}\n\nexport function useContentBranch() {\n  return useSelector(state => state.content);\n}\n\n\nexport function useCartUpdateInFlight() {\n  const { loading } = useSelector(state => state.products);\n  return (\n    loading[FETCH_CART] ||\n    loading[UPDATE_CART] ||\n    loading[ADD_TO_CART] ||\n    loading[REMOVE_FROM_CART] ||\n    loading[UPDATE_CART_ITEM_QUANTITY]\n  );\n}\n\nexport const crafterConf = {\n  baseUrl: process.env.REACT_APP_CRAFTER_BASE,\n  // By default empty on the .env so preview grabs the crafterSite cookie set by authoring\n  // Dev may use it's .env.local for local development or fix the value.\n  site: process.env.REACT_APP_SITE_ID || Cookie.get('crafterSite')\n};\n\nexport function getQuery(query) {\n  const crafterQuery = SearchService.createQuery('elasticsearch');\n  crafterQuery.query = {\n    query: {\n      bool: {\n        filter: [\n          { multi_match: { query, 'type': 'phrase_prefix' } },\n          { match: { 'content-type': '/component/post' } }\n        ]\n      }\n    }\n  };\n  return crafterQuery;\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect } from 'react';\nimport Spinner from './Spinner';\nimport Alert from './Alert';\nimport { Col, Container, Row } from 'reactstrap';\nimport { useDispatch } from 'react-redux';\nimport { FETCH_GRAPH, fetchGraph } from '../../redux/actions/contentActions';\nimport { useContentBranch } from '../../util/component';\nimport { byIdLoadingKey } from '../../util/redux';\n\nexport function AssertContent(props) {\n\n  const {\n    render,\n    children,\n    variables,\n    requirements\n  } = props;\n\n  const content = useContentBranch();\n  const dispatch = useDispatch();\n\n  const reqs = {};\n  const required = [];\n  const optional = [];\n\n  requirements.forEach((req) => {\n\n    const isDescriptor = typeof req === 'object';\n\n    const name = isDescriptor ? req.name : req;\n    const checker = isDescriptor && req.getter ? req.getter : (content) => content[req];\n    const isOptional = isDescriptor && req.optional;\n    const value = checker(content);\n\n    if (value == null) {\n      (isOptional ? optional : required).push(name);\n    }\n\n    reqs[name] = value;\n\n  });\n\n  useEffect(\n    () => {\n      const toBeFetched = [...required, ...optional].filter(\n        (req) => content.loading[byIdLoadingKey(FETCH_GRAPH, req)] !== true\n      );\n      if (toBeFetched.length) {\n        const vars = [];\n        toBeFetched.forEach((req) =>\n          variables &&\n          variables[req] &&\n          variables[req].forEach((r) => vars.push(r))\n        );\n        dispatch(fetchGraph(\n          toBeFetched,\n          vars\n        ));\n      }\n    }\n  );\n\n  if (content.errors[FETCH_GRAPH]) {\n    try {\n      content.errors[FETCH_GRAPH].forEach((error) => {\n        console.error(error.message);\n      });\n    } catch (e) {\n\n    }\n    return (\n      <aside className=\"landing__section\">\n        <Container>\n          <Row>\n            <Col sm={12} style={{ padding: '50px' }}>\n              <Alert color=\"danger\" className=\"alert--neutral\" icon dismiss={false}>\n                <p>An error occurred fetching site content.</p>\n              </Alert>\n            </Col>\n          </Row>\n        </Container>\n      </aside>\n    );\n  }\n\n  if (required.length > 0) {\n    return <Spinner/>;\n  } else {\n    return (render)\n      ? render(reqs)\n      : React.Children.map(children, (child) => {\n        return React.cloneElement(child, reqs)\n      });\n  }\n\n}\n\nexport default AssertContent;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport AssertContent from '../shared/AssertContent';\n\nexport function Layout({ children, className, requirements = [], variables, render }) {\n  return <AssertContent\n    requirements={['nav', 'header', 'footer', 'store', ...requirements]}\n    variables={variables}\n    render={(reqs) => (\n      <div className={`landing ${className}`}>\n        <Header/>\n        <div className=\"landing__content-wrapper\">\n          {render ? render(reqs) : children}\n        </div>\n        <Footer/>\n      </div>\n    )}/>;\n}\n\nLayout.defaultProps = {\n  className: ''\n};\n\nexport default Layout;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable jsx-a11y/label-has-for */\nimport React, { PureComponent } from 'react';\nimport CheckIcon from 'mdi-react/CheckIcon';\nimport CloseIcon from 'mdi-react/CloseIcon';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport function CheckBox(props) {\n\n  const {\n    disabled,\n    className,\n    name,\n    value,\n    onChange,\n    label,\n    color,\n    checked\n  } = props;\n\n  const CheckboxClass = classNames({\n    'checkbox-btn': true,\n    disabled,\n  });\n\n  return (\n    <label\n      className={`${CheckboxClass} ${className ? ` checkbox-btn--${className}` : ''}`}\n      htmlFor={`${name}[${value}]`}\n    >\n      <input\n        className=\"checkbox-btn__checkbox\"\n        type=\"checkbox\"\n        id={`${name}[${value}]`}\n        name={name}\n        onChange={onChange}\n        checked={checked}\n        disabled={disabled}\n        value={value}\n      />\n      <span\n        className=\"checkbox-btn__checkbox-custom\"\n        style={color ? { background: color, borderColor: color } : {}}\n      >\n        <CheckIcon/>\n      </span>\n      {\n        className === 'button'\n          ? (\n            <span className=\"checkbox-btn__label-svg\">\n              <CheckIcon className=\"checkbox-btn__label-check\"/>\n              <CloseIcon className=\"checkbox-btn__label-uncheck\"/>\n            </span>\n          )\n          : (\n            ''\n          )\n      }\n      <span className=\"checkbox-btn__label\">\n        {label}\n      </span>\n    </label>\n  );\n}\n\nclass CheckBoxField extends PureComponent {\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    name: PropTypes.string.isRequired,\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.bool,\n    ]).isRequired,\n    label: PropTypes.string,\n    defaultChecked: PropTypes.bool,\n    disabled: PropTypes.bool,\n    className: PropTypes.string,\n    color: PropTypes.string,\n  };\n\n  static defaultProps = {\n    label: '',\n    defaultChecked: false,\n    disabled: false,\n    className: '',\n    color: '',\n  };\n\n  componentDidMount() {\n    const { onChange, defaultChecked } = this.props;\n    onChange(defaultChecked);\n  }\n\n  render() {\n    const {\n      disabled, className, name, value, onChange, label, color,\n    } = this.props;\n    const CheckboxClass = classNames({\n      'checkbox-btn': true,\n      disabled,\n    });\n\n    return (\n      <label\n        className={`${CheckboxClass} ${className ? ` checkbox-btn--${className}` : ''}`}\n        htmlFor={name}\n      >\n        <input\n          className=\"checkbox-btn__checkbox\"\n          type=\"checkbox\"\n          id={name}\n          name={name}\n          onChange={onChange}\n          checked={value}\n          disabled={disabled}\n        />\n        <span\n          className=\"checkbox-btn__checkbox-custom\"\n          style={color ? { background: color, borderColor: color } : {}}\n        >\n          <CheckIcon/>\n        </span>\n        {\n          className === 'button'\n            ? (\n              <span className=\"checkbox-btn__label-svg\">\n                <CheckIcon className=\"checkbox-btn__label-check\"/>\n                <CloseIcon className=\"checkbox-btn__label-uncheck\"/>\n              </span>\n            )\n            : (\n              ''\n            )\n        }\n        <span className=\"checkbox-btn__label\">\n          {label}\n        </span>\n      </label>\n    );\n  }\n}\n\nconst renderCheckBoxField = (props) => {\n  const {\n    input, label, defaultChecked, disabled, className, color,\n  } = props;\n  return (\n    <CheckBoxField\n      {...input}\n      label={label}\n      defaultChecked={\n        props.meta.initial != null\n          ? props.meta.initial\n          : defaultChecked\n      }\n      disabled={disabled}\n      className={className}\n      color={color}\n    />\n  );\n};\n\nrenderCheckBoxField.propTypes = {\n  input: PropTypes.shape({\n    onChange: PropTypes.func,\n    name: PropTypes.string,\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.bool,\n    ]),\n  }).isRequired,\n  label: PropTypes.string,\n  defaultChecked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  className: PropTypes.string,\n  color: PropTypes.string,\n};\n\nrenderCheckBoxField.defaultProps = {\n  label: '',\n  defaultChecked: false,\n  disabled: false,\n  className: '',\n  color: '',\n};\n\nexport default renderCheckBoxField;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable jsx-a11y/label-has-for */\nimport React, { PureComponent } from 'react';\nimport CheckIcon from 'mdi-react/CheckIcon';\nimport CloseIcon from 'mdi-react/CloseIcon';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport function RadioButton(props) {\n  const {\n    name,\n    label,\n    value,\n    disabled,\n    onChange,\n    className,\n    currentValue\n  } = props;\n  const classes = classNames({\n    disabled,\n    'radio-btn': true,\n    [`radio-btn--${className}`]: !!className\n  });\n  return (\n    <label className={classes}>\n      <input\n        type=\"radio\"\n        name={name}\n        value={value}\n        onChange={onChange}\n        disabled={disabled}\n        checked={value === currentValue}\n        className=\"radio-btn__radio\"\n      />\n      <span className=\"radio-btn__radio-custom\"/>\n      {className === 'button' ? (\n        <span className=\"radio-btn__label-svg\">\n          <CheckIcon className=\"radio-btn__label-check\"/>\n          <CloseIcon className=\"radio-btn__label-uncheck\"/>\n        </span>\n      ) : ''}\n      <span className=\"radio-btn__label\">{label}</span>\n    </label>\n  );\n}\n\nexport class RadioButtonField extends PureComponent {\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    name: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    label: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    defaultChecked: PropTypes.bool,\n    radioValue: PropTypes.string,\n    disabled: PropTypes.bool,\n    className: PropTypes.string,\n  };\n\n  static defaultProps = {\n    label: '',\n    defaultChecked: false,\n    radioValue: '',\n    disabled: false,\n    className: '',\n  };\n\n  componentDidMount() {\n    const { defaultChecked, onChange, radioValue } = this.props;\n    if (defaultChecked) {\n      onChange(radioValue);\n    }\n  }\n\n  onChange = () => {\n    const { onChange, radioValue } = this.props;\n    onChange(radioValue);\n  };\n\n  render() {\n    const {\n      disabled, className, name, label, radioValue, value,\n    } = this.props;\n    const RadioButtonClass = classNames({\n      'radio-btn': true,\n      disabled,\n    });\n\n    return (\n      <label\n        className={`${RadioButtonClass}${className ? ` radio-btn--${className}` : ''}`}\n      >\n        <input\n          className=\"radio-btn__radio\"\n          name={name}\n          type=\"radio\"\n          onChange={this.onChange}\n          checked={value === radioValue}\n          disabled={disabled}\n        />\n        <span className=\"radio-btn__radio-custom\"/>\n        {className === 'button'\n          ? (\n            <span className=\"radio-btn__label-svg\">\n              <CheckIcon className=\"radio-btn__label-check\"/>\n              <CloseIcon className=\"radio-btn__label-uncheck\"/>\n            </span>\n          ) : ''}\n        <span className=\"radio-btn__label\">{label}</span>\n      </label>\n    );\n  }\n}\n\nconst renderRadioButtonField = (props) => {\n  const {\n    input, label, defaultChecked, disabled, className, radioValue,\n  } = props;\n  return (\n    <RadioButtonField\n      {...input}\n      label={label}\n      defaultChecked={defaultChecked}\n      disabled={disabled}\n      radioValue={radioValue}\n      className={className}\n    />\n  );\n};\n\nrenderRadioButtonField.propTypes = {\n  input: PropTypes.shape({\n    onChange: PropTypes.func,\n    name: PropTypes.string,\n  }).isRequired,\n  label: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  defaultChecked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  radioValue: PropTypes.string,\n  className: PropTypes.string,\n};\n\nrenderRadioButtonField.defaultProps = {\n  label: '',\n  defaultChecked: false,\n  disabled: false,\n  radioValue: '',\n  className: '',\n};\n\nexport default renderRadioButtonField;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable prefer-destructuring */\nimport 'rc-slider/assets/index.css';\nimport React, { PureComponent } from 'react';\nimport Slider from 'rc-slider';\nimport PropTypes from 'prop-types';\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\n\nexport default class RangeTheme extends PureComponent {\n  static propTypes = {\n    marks: PropTypes.shape(),\n    value: PropTypes.arrayOf(PropTypes.number).isRequired,\n    min: PropTypes.number.isRequired,\n    max: PropTypes.number.isRequired,\n    tipFormatter: PropTypes.func,\n  };\n\n  static defaultProps = {\n    marks: {},\n    tipFormatter: value => value,\n    tipOptions: {visible: true}\n  };\n\n  render() {\n    const {\n      min,\n      max,\n      marks,\n      value,\n      tipFormatter,\n      tipOptions,\n      onChange,\n      onAfterChange\n    } = this.props;\n\n    return (\n      <div className=\"slider\">\n        <div className=\"slider__min\">\n          <p>{tipFormatter ? tipFormatter(min) : min}</p>\n        </div>\n        <div className=\"slider__max\">\n          <p>{tipFormatter ? tipFormatter(max) : max}</p>\n        </div>\n        <Range\n          min={min}\n          max={max}\n          defaultValue={value}\n          tipFormatter={tipFormatter}\n          marks={marks}\n          tipProps={tipOptions}\n          onAfterChange={onAfterChange}\n          onChange={onChange}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { Fragment } from 'react';\nimport { CheckBox } from '../shared/form/CheckBox';\nimport renderRadioButtonField from '../shared/form/RadioButton';\nimport Range from '../shared/range_slider/Range';\n\nconst SAMPLE = [\n  { label: 'Dresses', value: 'dresses' },\n  {\n    label: 'Cardigans & Sweaters',\n    value: 'cardigans_n_sweaters',\n    children: [\n      { label: 'Sweaters', value: 'sweaters' },\n      { label: 'Cardigans', value: 'cardigans' },\n      { label: 'Sweatshirts', value: 'sweatshirts' }\n    ]\n  },\n  { label: 'Jumpsuits', value: 'jumpsuits' },\n  { label: 'T-shirts', value: 't-shirts' },\n  { label: 'Jackets', value: 'jackets' }\n];\n\nexport function HierarchicalFacets(props) {\n  const {\n    title,\n    facets,\n    checked,\n    onSelection\n  } = props;\n  return (\n    <nav className=\"hierarchical-facets\">\n      {title && <h2 className=\"facet-list-title\">Clothing</h2>}\n      {\n        facets.map((facet) =>\n          <Fragment key={facet.value}>\n            <a\n              href=\"javascript:\"\n              className={`hierarchical-facets__item ${checked[facet.value] ? 'hierarchical-facets__item--checked' : ''}`}\n              onClick={() => onSelection(facet)}\n            >{facet.label}</a>\n            {\n              facet.children &&\n              facet.children.length &&\n              checked[facet.value] &&\n              <HierarchicalFacets\n                {...props}\n                title={null}\n                facets={facet.children}\n              />\n            }\n          </Fragment>\n        )\n      }\n    </nav>\n  )\n}\n\nexport function MultipleSelectionFacet(props) {\n  const {\n    title,\n    facets,\n    checked,\n    onSelection\n  } = props;\n  return (\n    <nav className=\"multiple-selection-facets\">\n      {title && <h2 className=\"facet-list-title\">{title}</h2>}\n      <div className=\"form__form-group\">\n        {\n          facets.map((facet) =>\n            <div key={facet.value} className=\"form__form-group-field\">\n              <CheckBox\n                name=\"categories\"\n                label={facet.label}\n                value={facet.value}\n                checked={checked.includes(facet.value)}\n                onChange={(e) => onSelection(e.target.checked, facet)}\n              />\n            </div>\n          )\n        }\n      </div>\n    </nav>\n  );\n}\n\nexport function SingleSelectionFacet(props) {\n  const {\n    title,\n    facets,\n    onSelection\n  } = props;\n  return (\n    <nav className=\"single-selection-facets\">\n      {title && <h2 className=\"facet-list-title\">{title}</h2>}\n      <div className=\"form__form-group\">\n        {\n          facets.map((facet) =>\n            <div key={facet.value} className=\"form__form-group-field\">\n              {\n                renderRadioButtonField({\n                  label: facet.label,\n                  radioValue: facet.value,\n                  input: {\n                    value: facets[0].value,\n                    name: 'singleGroupName',\n                    onChange: () => void null\n                  }\n                })\n              }\n            </div>\n          )\n        }\n      </div>\n    </nav>\n  );\n}\n\nexport function RangeFacet(props) {\n  const {\n    min,\n    max,\n    value,\n    title,\n    onChange,\n    tipFormatter\n  } = props;\n  return (\n    <nav className=\"range-selection-facet\">\n      <h2 className=\"facet-list-title\">{title}</h2>\n      <Range\n        min={min}\n        max={max}\n        value={value}\n        tipOptions={{ visible: false }}\n        onAfterChange={onChange}\n        tipFormatter={tipFormatter}\n      />\n    </nav>\n  )\n}\n\nSingleSelectionFacet.defaultProps =\n  MultipleSelectionFacet.defaultProps =\n    HierarchicalFacets.defaultProps = {\n      title: 'Clothing',\n      facets: SAMPLE,\n      checked: { cardigans_n_sweaters: true },\n      onSelection: (facet) => void null\n    };\n\n\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { money } from '../../util/string';\nimport Ratings from 'react-ratings-declarative';\n\nconst saleBadge = `${process.env.PUBLIC_URL}/img/for_store/catalog/sale_lable.png`;\nconst newBadge = `${process.env.PUBLIC_URL}/img/for_store/catalog/new_lable.png`;\n\nexport default function Product(props) {\n\n  let isNew, isSale;\n  const { product } = props;\n  const { id, name, variants, rating } = product || {};\n\n  const colors = variants\n    .filter(variant => variant.attributes.some(a => a.name === 'Color'))\n    .map((variant) =>\n      variant.attributes.find(a => a.name === 'Color').value.toLowerCase()\n    );\n\n  const price = variants[0].price;\n  const oldPrice = price * 2;\n\n  const img = variants[0].images[0];\n\n  const\n    widgetEmptyColors = '#ccc',\n    widgetHoverColors = '#FFCC00',\n    widgetRatedColors = '#FFCC00',\n    widgetDimensions = '20px',\n    widgetSpacings = '5px';\n\n  return (\n    <div className=\"catalog-item\">\n      <Link className=\"catalog-item__link\" to={`/catalog/${id}`}>\n\n        {isNew ? <img className=\"catalog-item__label\" src={newBadge} alt=\"new\"/> : ''}\n        {isSale ? <img className=\"catalog-item__label\" src={saleBadge} alt=\"sale\"/> : ''}\n\n        <div className=\"catalog-item__img-wrap\">\n          <img className=\"catalog-item__img\" src={img.url} alt={img.description}/>\n        </div>\n\n        <div className=\"catalog-item--rating-widget rating-widget\">\n          <section className=\"rating-widget__header\">\n            <div className=\"rating-widget__average\">\n              <div>\n                {\n                  (rating == null) ? 'No reviews yet.' : <>\n                    <Ratings\n                      rating={rating == null ? 0 : rating.average}\n                      widgetEmptyColors={widgetEmptyColors}\n                      widgetHoverColors={widgetHoverColors}\n                      widgetRatedColors={widgetRatedColors}\n                      widgetDimensions={widgetDimensions}\n                      widgetSpacings={widgetSpacings}\n                    >\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                    </Ratings>\n                  </>\n                }\n              </div>\n            </div>\n          </section>\n        </div>\n\n        <div className=\"catalog-item__info\">\n          <h4 className=\"catalog-item__title\">{name}</h4>\n          <em className=\"catalog-item__price\">{money(price, variants[0].currency)}</em>\n          {isSale ? <p className=\"catalog-item__old-price\">${oldPrice}</p> : ''}\n          {\n            colors.map((color, index) => (\n              <span\n                key={index}\n                className=\"catalog-item__color\"\n                style={{ background: color }}\n              />\n            ))\n          }\n        </div>\n\n      </Link>\n    </div>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useRef } from 'react';\nimport { Button, Col, Container, Row } from 'reactstrap';\nimport Layout from './Layout';\nimport {\n  MultipleSelectionFacet,\n  RangeFacet, SingleSelectionFacet,\n} from './Facets';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Spinner from '../shared/Spinner';\nimport Product from './Product';\nimport * as qs from 'query-string';\nimport { fetchProducts, FETCH_PRODUCTS } from '../../redux/actions/productsActions';\nimport Alert from '../shared/Alert';\nimport { Link } from 'react-router-dom';\nimport SearchIcon from 'mdi-react/SearchIcon';\nimport ChevronRightIcon from 'mdi-react/ChevronRightIcon';\nimport ChevronLeftIcon from 'mdi-react/ChevronLeftIcon';\nimport ReactPaginate from 'react-paginate';\n\nexport default function ProductListing(props) {\n\n  const dispatch = useDispatch();\n  const { history } = props;\n  const { byId, facets, query, loading, errors } = useSelector(state => state.products);\n  const products = byId ? Object.values(byId) : null;\n  const inputRef = useRef();\n\n  const queryString = qs.parse(props.location.search);\n  const facetMeta = { list: [], types: {}, state: {} };\n\n  if (facets) {\n    facets.forEach(({ type, value }) => {\n      facetMeta.list.push(value);\n      facetMeta.types[value] = type;\n      switch (type) {\n        case 'multiple':\n          facetMeta.state[value] = [];\n          break;\n        case 'single':\n          facetMeta.state[value] = '';\n          break;\n        case 'range':\n          facetMeta.state[value] = null;\n          break;\n      }\n    });\n  }\n\n  // Facets haven't loaded during the first render so can't rely\n  // on facet type to do the proper URL decoding. Relying on inspection\n  // for now.\n  Object.entries(queryString).forEach(([key, value]) => {\n    if (key === 'q') {\n      key = 'keywords';\n      facetMeta.state[key] = value;\n    } else if (key === 'offset' || key === 'limit') {\n      facetMeta.state[key] = value;\n    } else {\n      facetMeta.state[key] = (['rating', 'price'].includes(key))\n        ? (\n          value.split('-').reduce(\n            (obj, value, index) => ({\n              ...obj,\n              ...{ [index === 0 ? 'min' : 'max']: parseInt(value) }\n            }),\n            {}\n          )\n        ) : (\n          // This should catch both single and multiple all the same\n          facetMeta.state[key] = value.split(',')\n        );\n    }\n  });\n\n  const fetch = () => {\n    dispatch(fetchProducts(facetMeta.state));\n  };\n\n  useEffect(fetch, [history.location.search, query.locale, query.currency]);\n\n  useEffect(\n    () => {\n      (inputRef.current || { value: '' }).value = query.keywords;\n    },\n    [query.keywords]\n  );\n\n  function onRangeChange(which, value) {\n    const newQS = [];\n\n    queryString.q && newQS.push(`q=${queryString.q}`);\n    Object.entries(queryString).forEach(([key, val]) => key !== which && newQS.push(`${key}=${val}`));\n    newQS.push(`${which}=${value.join('-')}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n\n  }\n\n  function onMultipleValueChange(which, checked, { value }) {\n\n    let collection = query[which] || [];\n    if (checked) {\n      collection = [...collection, value];\n    } else {\n      collection = collection.filter((_value) => _value !== value);\n    }\n\n    const newQS = [];\n\n    queryString.q && newQS.push(`q=${queryString.q}`);\n    Object.entries(queryString).forEach(([key, val]) => {\n      if (key === 'offset') {\n        newQS.push(`${key}=0`)\n      } else if (key !== which)\n        newQS.push(`${key}=${val}`)\n    });\n    (collection.length > 0) && newQS.push(`${which}=${collection.join(',')}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n\n  }\n\n  function onKeywordsChange(value) {\n    const newQS = [];\n\n    newQS.push(`q=${value || ''}`);\n    queryString.price && newQS.push(`price=${queryString.price}`);\n    queryString.rating && newQS.push(`rating=${queryString.rating}`);\n    queryString.categories && newQS.push(`categories=${queryString.categories}`);\n    queryString.colors && newQS.push(`colors=${queryString.colors}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n  }\n\n  function onOffsetChanged(nextPage) {\n    const newQS = [];\n    const nextPageIndex = nextPage - 1;\n\n    const nextOffset = query.limit * nextPageIndex;\n\n    (nextOffset != null) && newQS.push(`offset=${nextOffset}`);\n    queryString.q && newQS.push(`q=${queryString.q}`);\n    queryString.price && newQS.push(`price=${queryString.price}`);\n    queryString.rating && newQS.push(`rating=${queryString.rating}`);\n    queryString.categories && newQS.push(`categories=${queryString.categories}`);\n    queryString.colors && newQS.push(`colors=${queryString.colors}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n  }\n\n  return (\n    <Layout>\n      <Container>\n        {\n          (errors[FETCH_PRODUCTS]) &&\n          <Alert color=\"danger\" className=\"alert--bordered\" icon dismiss={false}>\n            <span>\n              An error has occurred trying to fetch products.\n              <Button outline\n                      onClick={fetch}\n                      className=\"btn-retry btn-sm\"\n              >\n                Retry\n              </Button>\n            </span>\n          </Alert>\n        }\n        {\n          (loading[FETCH_PRODUCTS]) &&\n          <Spinner contained/>\n        }\n        {\n          (loading[FETCH_PRODUCTS] === false) &&\n          <>\n            <Row>\n              {\n                facetMeta.state.keywords &&\n                <Col md={12}>\n                  <h2 className=\"page-title\">Search results for \"{facetMeta.state.keywords}\"</h2>\n                  <Link className=\"page-subhead\" to=\"/catalog\">(clear query)</Link>\n                </Col>\n              }\n              <Col md={9}>\n                <div className=\"catalog-items__wrap\">\n                  <div className=\"catalog-page-controls\">\n                    <ReactPaginate\n                      containerClassName=\"pagination\"\n                      pageClassName=\"pagination__item\"\n                      pageLinkClassName=\"pagination__link\"\n                      previousClassName=\"pagination__item\"\n                      previousLinkClassName=\"pagination__link pagination__link--arrow\"\n                      nextClassName=\"pagination__item\"\n                      nextLinkClassName=\"pagination__link pagination__link--arrow\"\n                      pageRangeDisplayed={3}\n                      marginPagesDisplayed={3}\n                      activeClassName=\"active\"\n                      initialPage={(query.offset / query.limit)}\n                      pageCount={Math.ceil(query.total / query.limit)}\n                      onPageChange={({ selected: index }) => onOffsetChanged(index + 1)}\n                      disableInitialCallback={true}\n                      previousLabel={<ChevronLeftIcon className=\"pagination__link-icon\" />}\n                      nextLabel={<ChevronRightIcon className=\"pagination__link-icon\" />}\n                    />\n                  </div>\n                  <div className=\"catalog-items\">\n                    {products.map(product =>\n                      <Product key={product.id} product={product}/>\n                    )}\n                    {\n                      (products.length === 0) && (\n                        <Alert color=\"info\" className=\"alert--bordered\" icon dismiss={false}>\n                          <span>No products to display (\n                            <Link to=\"/catalog\">clear filters</Link>\n                          )</span>\n                        </Alert>\n                      )\n                    }\n                  </div>\n                </div>\n              </Col>\n              <Col md={3}>\n\n                <div className=\"form\" style={{ background: 'white', marginBottom: 20, border: '1px solid #ddd' }}>\n                  <div className=\"form__form-group-field\">\n                    <div className=\"form__form-group-icon\">\n                      <SearchIcon/>\n                    </div>\n                    <input\n                      ref={inputRef}\n                      type=\"text\"\n                      name=\"keywords\"\n                      placeholder=\"Keywords...\"\n                      defaultValue={query.keywords}\n                      onKeyPress={\n                        (e) =>\n                          e.key === 'Enter' &&\n                          onKeywordsChange(e.target.value)\n                      }\n                    />\n                  </div>\n                </div>\n\n                {\n                  facets && facets.map((facet) => {\n                    switch (facet.type) {\n                      case 'single':\n                      case 'multiple': {\n                        const Component = facet.type === 'multiple'\n                          ? MultipleSelectionFacet\n                          : SingleSelectionFacet;\n                        return <Component\n                          key={facet.value}\n                          title={facet.name}\n                          checked={facetMeta.state[facet.value]}\n                          onSelection={(checked, facetItem) => onMultipleValueChange(facet.value, checked, facetItem)}\n                          facets={\n                            facet.items.map((_facet_) => ({\n                              value: _facet_.value,\n                              label: _facet_.name\n                            }))\n                          }\n                        />;\n                      }\n                      case 'range': {\n                        return <RangeFacet\n                          onChange={(value) => onRangeChange(facet.value, value)}\n                          key={facet.value}\n                          title={facet.name}\n                          min={facet.min}\n                          max={facet.max}\n                          tipFormatter={facet.value === 'price' ? value => `$${value}` : value => value}\n                          value={\n                            facetMeta.state[facet.value]\n                              ? [facetMeta.state[facet.value].min, facetMeta.state[facet.value].max]\n                              : [facet.min, facet.max]\n                          }\n                        />;\n                      }\n                    }\n                  })\n                }\n\n              </Col>\n            </Row>\n          </>\n        }\n      </Container>\n    </Layout>\n  );\n};\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable react/no-array-index-key */\nimport React, { useEffect, useReducer } from 'react';\nimport Carousel, { Modal, ModalGateway } from 'react-images';\n\nfunction ProductGallery(props) {\n\n  const [state, setState] = useReducer(\n    (a, b) => ({ ...a, ...b }),\n    {\n      image: null,\n      currentIndex: 0,\n      lightboxIsOpen: false,\n    }\n  );\n\n  const { images } = props;\n\n  const { image, currentIndex, lightboxIsOpen } = state;\n\n  const changeImg = (index, e) => {\n    e.preventDefault();\n    setState({\n      currentIndex: index,\n      image: images[index]\n    });\n  };\n\n  const openLightbox = (event) => {\n    event.preventDefault();\n    setState({ lightboxIsOpen: true });\n  };\n\n  useEffect(\n    () => {\n      const index = 0;\n      setState({\n        image: images[index],\n        currentIndex: index\n      });\n    },\n    [images]\n  );\n\n  return (\n    <div className=\"product-gallery\">\n      {\n        (images && images.length && image)\n          ? (\n            <>\n              <a\n                className=\"product-gallery__current-img\"\n                onClick={e => openLightbox(e)}\n                href={state.image.src}\n              >\n                <img src={state.image.src} className=\"product-img\" alt={\"\"}/>\n              </a>\n              <div className=\"product_gallery__gallery\">\n                {images.map((img, i) => (\n                  <button type=\"button\" key={i} onClick={e => changeImg(i, e)} className=\"product-gallery__img-preview\">\n                    <img src={img.src} alt=\"product-img\"/>\n                  </button>\n                ))}\n              </div>\n              <ModalGateway>\n                {lightboxIsOpen ? (\n                  <Modal onClose={() => setState({ lightboxIsOpen: false })}>\n                    <Carousel currentIndex={currentIndex} views={images}/>\n                  </Modal>\n                ) : null}\n              </ModalGateway>\n            </>\n          ) : (\n            <div className=\"text-center\">No images are available for this product.</div>\n          )\n      }\n    </div>\n  );\n\n}\n\nexport default ProductGallery;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useReducer, useState } from 'react';\nimport {\n  Card, CardBody, ButtonToolbar, Button, Modal,\n} from 'reactstrap';\nimport ProductGallery from './ProductGallery';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Select from 'react-select';\nimport {\n  addToCart,\n  fetchCart, fetchProduct,\n  removeFromCart,\n  updateCartItemQuantity\n} from '../../redux/actions/productsActions';\nimport { money } from '../../util/string';\nimport { Link } from 'react-router-dom';\nimport ShoppingCartIcon from 'mdi-react/ShoppingCartIcon';\nimport Ratings from 'react-ratings-declarative';\nimport Alert from '../shared/Alert';\nimport { useCartUpdateInFlight } from '../../util/component';\n\nconst isSale = false;\n\nconst reducer = (a, b) => ({ ...a, ...b });\n\nexport function useMergeState(initialState) {\n  return useReducer(reducer, initialState);\n}\n\nfunction ProductCard(props) {\n\n  const dispatch = useDispatch();\n\n  const { cart } = useSelector(state => state.products);\n  const { user } = useSelector(state => state.users);\n  const { product } = props;\n\n  const [images, setImages] = useState([]);\n  const [variant, setVariant] = useState();\n  const [cartItem, setCartItem] = useMergeState({\n    id: null,\n    productId: product.id,\n    variantId: null,\n    quantity: 1\n  });\n\n  const isInCart = cartItem.id != null;\n  const updatesInFlight = useCartUpdateInFlight();\n\n  useEffect(\n    () => {\n      !cart && dispatch(fetchCart())\n    },\n    []\n  );\n\n  useEffect(\n    () => {\n      setVariant(product.variants[0]);\n    },\n    [product.id]\n  );\n\n  useEffect(\n    () => {\n      setImages(\n        (\n          variant != null\n            ? [variant]\n            : product.variants\n        ).reduce(\n          (images, iVariant) => images.concat(\n            iVariant.images.map((img) => ({ ...img, src: img.url }))\n          ),\n          []\n        )\n      );\n\n      if (variant == null)\n        return;\n\n      const item = (\n        cart\n          ? cart.items.find((item) => (\n            item.variantId === variant.id &&\n            item.productId === product.id\n          ))\n          : null\n      );\n\n      setCartItem({\n        variantId: variant.id,\n        productId: product.id,\n        ...(\n          item\n            ? { id: item.id, quantity: item.quantity }\n            : { id: null, quantity: 1 }\n        )\n      });\n\n    },\n    [variant, cart]\n  );\n\n  return (\n    <Card>\n      <CardBody>\n        <div className=\"product-card\">\n          <ProductGallery images={images}/>\n          <div className=\"product-card__info\">\n            <h1 className=\"product-card__title\">{product.name}</h1>\n            {\n              cartItem.variantId &&\n              <h2 className=\"product-card__price\">\n                {money(variant.price, variant.currency)}\n                {isSale && <span className=\"product-card__old-price\">$23</span>}\n              </h2>\n            }\n            {product.description && <p>{product.description}</p>}\n            <form className=\"form product-card__form\">\n              <div className=\"form__form-group\">\n                <span className=\"form__form-group-label product-card__form-label\">Select</span>\n                <div className=\"form__form-group-field\">\n                  <VariantSelection\n                    value={variant}\n                    variants={product.variants}\n                    onChange={({ variant }) => setVariant(variant)}\n                  />\n                </div>\n              </div>\n              <div className=\"form__form-group\">\n                <span className=\"form__form-group-label product-card__form-label\">Quantity</span>\n                <div className=\"form__form-group-field\">\n                  <input\n                    type=\"number\"\n                    disabled={updatesInFlight}\n                    value={cartItem.quantity}\n                    onChange={(e) => onUpdateQuantity(e.target.value)}\n                  />\n                </div>\n              </div>\n              <ButtonToolbar className=\"product-card__btn-toolbar\">\n                {\n                  isInCart\n                    ? (\n                      <ButtonToolbar className=\"product-card__btn-toolbar\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-warning\"\n                          disabled={updatesInFlight}\n                          onClick={onRemoveFromCart}\n                        >\n                          Remove from cart\n                        </button>\n                        <Link to=\"/cart\" className=\"product-card__wish-btn\">\n                          <ShoppingCartIcon/> View cart\n                        </Link>\n                      </ButtonToolbar>\n                    ) : (\n                      <ButtonToolbar className=\"product-card__btn-toolbar\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-primary\"\n                          disabled={!cartItem.variantId || updatesInFlight}\n                          onClick={onAddToCart}\n                        >\n                          Add to cart\n                        </button>\n                        {\n                          variant &&\n                          !variant.onStock &&\n                          <span className=\"product-card__not-in-stock\">\n                            (On backorder)\n                          </span>\n                        }\n                      </ButtonToolbar>\n                    )\n                }\n              </ButtonToolbar>\n            </form>\n            <div className=\"product-card_ _rate\">\n              <SubmitReview\n                product={product}\n                isLoggedIn={!!user}\n                onSuccess={() => dispatch(fetchProduct(product.id))}\n              />\n            </div>\n          </div>\n        </div>\n      </CardBody>\n    </Card>\n  );\n\n  function onAddToCart() {\n    (cartItem.quantity > 0) && dispatch(\n      addToCart(cartItem)\n    );\n  }\n\n  function onRemoveFromCart() {\n    isInCart && dispatch(\n      removeFromCart(cartItem)\n    );\n  }\n\n  function onUpdateQuantity(nextQuantity) {\n    nextQuantity = parseInt(nextQuantity, 10);\n    if (nextQuantity < 0) {\n      nextQuantity = 0;\n    }\n    if (isInCart) {\n      dispatch(\n        updateCartItemQuantity({ ...cartItem, quantity: nextQuantity })\n      );\n    }\n    setCartItem({ quantity: nextQuantity });\n  }\n\n}\n\nfunction SubmitReview(props) {\n\n  const { product, isLoggedIn, onSuccess } = props;\n  const { rating, name } = product;\n\n  const [value, setValue] = useState();\n  const [comments, setComments] = useState('');\n  const [openModal, setOpenModal] = useState(false);\n  const [message, setMessage] = useState();\n\n  const toggleOpen = () => setOpenModal(!openModal);\n  const submit = () => {\n    fetch(\n      `/api/1/product/${product.id}/review.json`,\n      {\n        body: JSON.stringify({ rating: value, text: comments }),\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json; charset=UTF-8' }\n      }\n    ).then(async (response) => {\n      const data = await response.json();\n      if (response.status === 200) {\n        setValue();\n        setMessage();\n        setComments('');\n        setOpenModal(false);\n        onSuccess && onSuccess(response);\n      } else {\n        setMessage({ type: 'danger', text: data.message });\n      }\n    });\n  };\n\n  const\n    widgetEmptyColors = '#ccc',\n    widgetHoverColors = '#FFCC00',\n    widgetRatedColors = '#FFCC00',\n    widgetDimensions = '20px',\n    widgetSpacings = '5px';\n\n  return (\n    <div className=\"rating-widget\">\n      <section className=\"rating-widget__header\">\n        <div className=\"rating-widget__average\">\n          <div>\n            <Ratings\n              rating={rating == null ? 0 : rating.average}\n              widgetEmptyColors={widgetEmptyColors}\n              widgetHoverColors={widgetHoverColors}\n              widgetRatedColors={widgetRatedColors}\n              widgetDimensions={widgetDimensions}\n              widgetSpacings={widgetSpacings}\n            >\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n            </Ratings>\n          </div>\n          <span className=\"rating-widget__label\">\n            {\n              rating == null\n                ? 'No reviews yet.'\n                : `${rating.reviews} review${rating.reviews > 1 ? 's' : ''}. ${rating.average} average rating.`\n            }\n          </span>\n        </div>\n        <div className=\"rating-widget__user\">\n          {\n            isLoggedIn &&\n            <Button outline className=\"btn-sm\" onClick={toggleOpen}>\n              Submit a review\n            </Button>\n          }\n        </div>\n      </section>\n      <section className=\"rating-widget__reviews\">\n        {\n          // rating && JSON.stringify(rating.reviews, null, '  ')\n          // rating && rating.reviews.map(review =>\n          // <div className=\"rating-widget__review\"></div>\n          // )\n        }\n      </section>\n      <Modal\n        isOpen={openModal}\n        toggle={toggleOpen}\n        className={`modal-dialog--`}\n      >\n        <div className=\"modal__header\">\n          <button className=\"lnr lnr-cross modal__close-btn\" type=\"button\" onClick={toggleOpen}/>\n          <h3 className=\"bold-text  modal__title\">Review \"{name}\"</h3>\n        </div>\n        <div className=\"modal__body\">\n          <div className=\"form\">\n            {\n              message &&\n              <Alert color={message.type} className=\"alert--bordered\">\n                <span>{message.text}</span>\n              </Alert>\n            }\n            <div className=\"form__form-group\">\n              <div>\n                <Ratings\n                  rating={value}\n                  changeRating={setValue}\n                  widgetEmptyColors={widgetEmptyColors}\n                  widgetHoverColors={widgetHoverColors}\n                  widgetRatedColors={widgetRatedColors}\n                  widgetDimensions={widgetDimensions}\n                  widgetSpacings={widgetSpacings}\n                >\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                </Ratings>\n              </div>\n              <span className=\"rating-widget__label\">\n                {value ? `Your rating: ${value} star${value > 1 ? 's' : ''}.` : `How would you rate ${name}?`}\n              </span>\n            </div>\n            <div className=\"form__form-group\">\n              <div className=\"form__form-group-field\">\n                <textarea\n                  value={comments}\n                  onChange={(e) => setComments(e.target.value)}\n                  placeholder={`Any additional comments...`}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <ButtonToolbar className=\"modal__footer\">\n          <Button onClick={toggleOpen}>Cancel</Button>\n          <Button outline onClick={submit} disabled={value == null}>Ok</Button>\n        </ButtonToolbar>\n      </Modal>\n    </div>\n  );\n\n}\n\nexport function VariantSelection(props) {\n  const { variants, value, onChange, placeholder, components } = props;\n  const options = variants ? variants.map((variant) => ({\n    value: variant.id,\n    label: getVariantLabel(variant),\n    variant\n  })) : [];\n  const option = value ? { value: value.id, label: getVariantLabel(value), variant: value } : null;\n  return (\n    <Select\n      value={option}\n      onChange={onChange}\n      options={options}\n      clearable={false}\n      className=\"react-select\"\n      classNamePrefix=\"react-select\"\n      placeholder={placeholder}\n      components={components}\n    />\n  );\n}\n\nVariantSelection.defaultProps = {\n  options: null,\n  components: {\n    Option: function Option({ innerProps, isDisabled, data }) {\n      data = data.variant;\n      const label = getVariantLabel(data);\n      const color = data.attributes.filter((attr) => attr.name === 'Color').map((attr) => attr.value.toLowerCase())[0];\n      // noinspection JSConstructorReturnsPrimitive\n      return (!isDisabled ? (\n        <div\n          className=\"react-select__option\"\n          {...innerProps}\n        >\n          {label}\n          {\n            color &&\n            <span\n              className=\"react-select__color\"\n              style={{ backgroundColor: color, boxShadow: '0 0 1px 0 rgba(0,0,0,.5)' }}\n            />\n          }\n        </div>\n      ) : null);\n    }\n  },\n  onChange: () => void null,\n  placeholder: 'Select...',\n};\n\nfunction getVariantLabel(variant) {\n  return variant.attributes.filter((attr) => attr.name === 'Filtersize').map((attr) => attr.value.label);\n}\n\nexport default ProductCard;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable max-len */\nimport React from 'react';\nimport {\n  Col,\n  Row,\n  Container,\n  Card,\n  CardBody\n} from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nfunction BlogTeaser(props) {\n\n  const {\n    label,\n    localId,\n    title_s,\n    posts_o // Fake model property. Injected by the reducer.\n  } = props;\n\n\n  return (\n    <section className=\"landing__section\" >\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h3 className=\"landing__section-title\">{title_s}</h3>\n          </Col>\n        </Row>\n        <Row className=\"landing__teasers\">\n          {\n            posts_o.slice(0, 3).map((post) =>\n              <Col key={post.localId} lg={4} md={6}>\n                <BlogPostCard {...post}/>\n              </Col>\n            )\n          }\n        </Row>\n      </Container>\n    </section>\n  );\n}\n\nexport function BlogPostCard({ localId, label, slug_s, title_s, image_s, summary_html_raw, hideSummary }) {\n  \n  return (\n    <Link to={`/blog/${slug_s}`}>\n      <Card>\n        <CardBody className=\"landing__teaser\">\n          <img src={image_s} alt=\"\" className=\"landing__teaser-img\"/>\n          <h3 className=\"landing__teaser-title\">{title_s}</h3>\n          {\n            !hideSummary && summary_html_raw &&\n            <p\n              className=\"landing__teaser-review\"\n              dangerouslySetInnerHTML={{ __html: summary_html_raw }}\n            />\n          }\n        </CardBody>\n      </Card>\n    </Link>\n  );\n}\n\nexport default BlogTeaser;\n","import { ajax } from 'rxjs/ajax';\nimport { useSelector } from 'react-redux';\n\nexport function getProducts(params = {}) {\n\n  const qs = Object.entries({\n    locale: 'en',\n    currency: 'USD',\n    ...(params || {})\n  }).map(([key, value]) => `${key}=${value}`);\n\n  return ajax.get(`/api/1/product/all.json${qs.length > 0 ? '?' : ''}${qs.join('&')}`);\n\n}\n\nexport function useProductsQuery(params = {}) {\n  const { query: { currency, locale } } = useSelector(state => state.products);\n  return { currency, locale, ...params };\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Col, Container, Row } from 'reactstrap';\nimport Layout from './Layout';\nimport ProductCard from './ProductCard';\nimport Spinner from '../shared/Spinner';\nimport { fetchProduct } from '../../redux/actions/productsActions';\nimport Product from './Product';\nimport { forkJoin, of } from 'rxjs';\nimport { ajax } from 'rxjs/ajax';\nimport { map } from 'rxjs/operators';\nimport { BlogPostCard } from './BlogTeaser';\nimport { getProducts } from '../../util/products';\n\nexport default function ProductDetails(props) {\n\n  const dispatch = useDispatch();\n  const products = useSelector(state => state.products);\n\n  const id = props.match.params.product;\n  const product = products.byId ? products.byId[id] : null;\n  const [related, setRelated] = useState();\n\n  useEffect(\n    () => {\n      // if (product == null)\n        dispatch(fetchProduct(id))\n    },\n    [id, products.query.locale, products.query.currency]\n  );\n\n  useEffect(\n    () => {\n      let sub = { unsubscribe: () => void null };\n      if (product != null) {\n\n        const keys = product.categories.reduce(\n          (oMap, category) => {\n            oMap.ids.push(category.id);\n            oMap.keys.push(`{matches: \"${category.key}\"}`);\n            return oMap;\n          },\n          { ids: [], keys: [] }\n        );\n\n        const products$ = keys.ids.length\n          ? getProducts({ limit: 4, filter: `categories:${keys.ids.join(',')}`, locale: products.query.locale, currency: products.query.currency })\n          : of({ response: { items: [] } });\n\n        const posts$ = keys.keys.length\n          ? ajax.post(\n            process.env.REACT_APP_GRAPHQL_SERVER,\n            {\n              query: `query {\n              posts: component_post(limit: 3) {\n                items {\n                  title_s\n                  image_s\n                  slug_s\n                  categories_o @skip(if: true) {\n                    item {\n                      key(filter: {or: [${keys.keys.join(',')}]})\n                    }\n                  }\n                }\n              }\n            }`,\n              variables: {}\n            },\n            { 'Content-Type': 'application/json; charset=UTF-8' }\n          ) : of({ response: { data: { posts: { items: [] } } } });\n\n        sub = forkJoin(products$, posts$).pipe(\n          map(([{ response: products }, { response: posts }]) => ([\n            products.items.filter((prod) => prod.id !== product.id).slice(0, 3),\n            posts.data.posts.items\n          ]))\n        ).subscribe(([products, posts]) => {\n          setRelated({ products, posts });\n        });\n\n      }\n      return () => sub.unsubscribe();\n    },\n    [product ? product.id : undefined, products.query.locale, products.query.currency]\n  );\n\n  return (\n    <Layout>\n      <Container>\n        {\n          product ? (\n            <Row>\n              <Col md={12} lg={12}>\n                <ProductCard product={product}/>\n              </Col>\n              {related && <>\n                {related.products.length > 0 && <Col md={12}>\n                  <h2 className=\"page-title page-title--not-last\">Related Products</h2>\n                  <div className=\"catalog-items__wrap\">\n                    <div className=\"catalog-items\">\n                      {\n                        related.products.map(product =>\n                          <Product key={product.id} product={product}/>\n                        )\n                      }\n                    </div>\n                  </div>\n                </Col>}\n                {related.posts.length > 0 && <Col md={12}>\n                  <h2 className=\"page-title page-title--not-last\">Related Posts</h2>\n                  <Row>\n                    {\n                      related.posts.map((post) =>\n                        <Col key={post.slug_s} md={4}>\n                          <BlogPostCard {...post} hideSummary/>\n                        </Col>\n                      )\n                    }\n                  </Row>\n                </Col>}\n              </>}\n            </Row>\n          ) : <Spinner/>\n        }\n      </Container>\n    </Layout>\n  );\n\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport Anchor from '../shared/Anchor';\nimport { getLoginFormDefaults } from '../../util/component';\nimport AssertContent from '../shared/AssertContent';\n\nimport { Field, reduxForm } from 'redux-form';\nimport EyeIcon from 'mdi-react/EyeIcon';\nimport KeyVariantIcon from 'mdi-react/KeyVariantIcon';\nimport AccountOutlineIcon from 'mdi-react/AccountOutlineIcon';\nimport { Link } from 'react-router-dom';\nimport renderCheckBoxField from '../shared/form/CheckBox';\nimport Alert from '../shared/Alert';\nimport { ajax } from 'rxjs/ajax';\nimport { catchError } from 'rxjs/operators';\nimport { __RouterContext } from 'react-router';\nimport { loginComplete } from '../../redux/actions/usersActions';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction LogInFormComponent(props) {\n\n  const dispatch = useDispatch();\n  const { history } = useContext(__RouterContext);\n  const state = useSelector(state => state);\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState();\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const data = state.form.login.values;\n    if (data) {\n      if (data.rememberMe) {\n        localStorage.setItem(`${process.env.REACT_APP_STORE_KEY}.email`, data.email);\n      } else {\n        localStorage.removeItem(`${process.env.REACT_APP_STORE_KEY}.email`);\n      }\n      ajax.post(\n        `/api/1/security/login.json`,\n        data,\n        {\n          'Content-Type': 'application/json; charset=UTF-8'\n        }\n      ).pipe(\n        catchError((error) => [error])\n      ).subscribe((response) => {\n        if (response.name === 'AjaxError') {\n          setError(response.response.message);\n        } else {\n          dispatch(loginComplete(response.response));\n          history.push(state.users.loginRedirect);\n        }\n      });\n    }\n  };\n\n  useEffect(\n    () => {\n      const meRemembered = !!localStorage.getItem(`${process.env.REACT_APP_STORE_KEY}.email`);\n      document.querySelectorAll('.form input')[meRemembered ? 1 : 0].focus();\n    },\n    []\n  );\n\n  return (\n    <form className=\"form\" onSubmit={onSubmit}>\n      {\n        error &&\n        <Alert color=\"danger\" className=\"alert--bordered\">\n          <p>{error}</p>\n        </Alert>\n      }\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <AccountOutlineIcon/>\n          </div>\n          <Field\n            name=\"email\"\n            type=\"text\"\n            component=\"input\"\n            placeholder=\"Name\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <KeyVariantIcon/>\n          </div>\n          <Field\n            name=\"password\"\n            component=\"input\"\n            type={showPassword ? 'text' : 'password'}\n            placeholder=\"Password\"\n          />\n          <button\n            type=\"button\"\n            className={`form__form-group-button${showPassword ? ' active' : ''}`}\n            onClick={() => setShowPassword(!showPassword)}\n          ><EyeIcon/>\n          </button>\n        </div>\n        <div className=\"account__forgot-password\">\n          <a href=\"/\">Forgot a password?</a>\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"checkbox\"\n            name=\"rememberMe\"\n            label=\"Remember me\"\n            component={renderCheckBoxField}\n          />\n        </div>\n      </div>\n      <div className=\"account__btns\">\n        <button className=\"btn btn-primary account__btn account__sign-in-btn\" type=\"submit\">Sign In</button>\n        <Link className=\"btn btn-outline-primary account__btn account__register-btn\" to=\"/register\">\n          Create Account\n        </Link>\n      </div>\n    </form>\n  );\n\n}\n\nexport const LogInForm = reduxForm({ form: 'login' })(LogInFormComponent);\n\nfunction LogIn() {\n  return <AssertContent\n    requirements={['header']}\n    render={({ header }) => {\n      const {\n        logo_s,\n        logo_alt_t,\n        logo_url_s\n      } = header;\n      return (\n        <div className=\"account\">\n          <div className=\"account__wrapper\">\n            <div className=\"account__card\">\n              <div className=\"login-view__logo\">\n                <Anchor href={logo_url_s} className=\"login-view__logo\">\n                  <img src={logo_s} alt={logo_alt_t} className=\"login-view__logo-img\"/>\n                </Anchor>\n              </div>\n              <div className=\"account__head\">\n                <h3 className=\"account__title\">Welcome</h3>\n                <h4 className=\"account__subhead subhead\">Please log in</h4>\n              </div>\n              <LogInForm onSubmit initialValues={getLoginFormDefaults()}/>\n            </div>\n          </div>\n        </div>\n      );\n    }}\n  />;\n}\n\nexport default LogIn;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { memo, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport AssertContent from '../shared/AssertContent';\nimport Anchor from '../shared/Anchor';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { registrationComplete } from '../../redux/actions/usersActions';\n\nimport { Button, ButtonToolbar } from 'reactstrap';\nimport CheckboxMarkedCircleIcon from 'mdi-react/CheckboxMarkedCircleIcon';\nimport EmailIcon from 'mdi-react/EmailIcon';\n\nimport { Field, reduxForm } from 'redux-form';\nimport EyeIcon from 'mdi-react/EyeIcon';\nimport KeyVariantIcon from 'mdi-react/KeyVariantIcon';\nimport AccountOutlineIcon from 'mdi-react/AccountOutlineIcon';\nimport MailRuIcon from 'mdi-react/MailRuIcon';\nimport Alert from '../shared/Alert';\nimport { catchError } from 'rxjs/operators';\nimport { ajax } from 'rxjs/ajax';\n\nexport const RegisterFormComponent = memo(function ({ handleSubmit, onSuccess }) {\n\n  const [error, setError] = useState();\n  const [showPassword, setShowPassword] = useState(false);\n\n  const submit = (values) => {\n    ajax.post(\n      `/api/1/customer/signup.json`,\n      values,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(\n      catchError((error) => [error])\n    ).subscribe((response) => {\n      if (response.name === 'AjaxError') {\n        setError(response.response.message);\n      } else {\n        onSuccess && onSuccess(response.response, values);\n      }\n    })\n  };\n\n  return (\n    <form className=\"form\" onSubmit={handleSubmit(submit)}>\n      {\n        error &&\n        <Alert color=\"danger\" className=\"alert--bordered\">\n          <p>{error}</p>\n        </Alert>\n      }\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <AccountOutlineIcon/>\n          </div>\n          <Field\n            name=\"firstName\"\n            component=\"input\"\n            type=\"text\"\n            placeholder=\"First Name\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <AccountOutlineIcon/>\n          </div>\n          <Field\n            name=\"lastName\"\n            component=\"input\"\n            type=\"text\"\n            placeholder=\"Last Name\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <MailRuIcon/>\n          </div>\n          <Field\n            name=\"email\"\n            component=\"input\"\n            type=\"email\"\n            placeholder=\"E-mail (username)\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group form__form-group--forgot\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <KeyVariantIcon/>\n          </div>\n          <Field\n            name=\"password\"\n            component=\"input\"\n            type={showPassword ? 'text' : 'password'}\n            placeholder=\"Password\"\n          />\n          <button\n            type=\"button\"\n            className={`form__form-group-button${showPassword ? ' active' : ''}`}\n            onClick={() => setShowPassword(!showPassword)}\n          ><EyeIcon/>\n          </button>\n        </div>\n      </div>\n      <div className=\"account__btns\">\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary account__btn\"\n        >\n          Sign Up\n        </button>\n      </div>\n    </form>\n  );\n});\n\nexport const RegisterForm = reduxForm({ form: 'registration' })(RegisterFormComponent);\n\nconst RegistrationConfirmation = () => (\n  <div className=\"email-confirmation\">\n    <div className=\"email-confirmation__icon\">\n      <EmailIcon className=\"email-confirmation__mail\"/>\n      <CheckboxMarkedCircleIcon className=\"email-confirmation__check\"/>\n    </div>\n    <h3 className=\"email-confirmation__title\">Your account was created successfully.</h3>\n    <p className=\"email-confirmation__sub\">Please check your email to confirm your account.</p>\n    <ButtonToolbar className=\"email-confirmation__buttons\">\n      <Button color=\"primary\">Resend E-mail</Button>\n    </ButtonToolbar>\n  </div>\n);\nconst Register = () => {\n  const dispatch = useDispatch();\n  const success = useSelector(state => state.users.registerConfirmPending);\n  return <AssertContent requirements={['header']} render={({ header }) => {\n    const {\n      logo_s,\n      logo_alt_t,\n      logo_url_s\n    } = header;\n    return (\n      <div className=\"account\">\n        <div className=\"account__wrapper\">\n          <div className=\"account__card\">\n            <div className=\"login-view__logo\">\n              <Anchor href={logo_url_s} className=\"login-view__logo\">\n                <img src={logo_s} alt={logo_alt_t} className=\"login-view__logo-img\"/>\n              </Anchor>\n            </div>\n            {\n              success\n                ? <RegistrationConfirmation/>\n                : <>\n                  <div className=\"account__head\">\n                    <h3 className=\"account__title\">\n                      Create an account\n                    </h3>\n                  </div>\n                  <RegisterForm onSuccess={() => dispatch(registrationComplete())}/>\n                  <div className=\"account__have-account\">\n                    <p>Already have an account? <Link to=\"/login\">Login</Link></p>\n                  </div>\n                </>\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }}/>;\n};\n\nexport default Register;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Col, Row, Container } from 'reactstrap';\nimport A from \"../shared/Anchor\";\n\nfunction Hero(props) {\n  const {\n    label,\n    title_t,\n    image_s,\n    localId,\n    image_alt_t,\n    section_background_image_s,\n    content_html_raw,\n    buttons_o\n  } = props;\n\n  return (\n    <div\n      className=\"landing__header\"\n      style={\n        section_background_image_s\n          ? { backgroundImage: `url(${section_background_image_s})` }\n          : {}\n      }>\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h2 className=\"landing__header-title\">\n              {title_t}\n            </h2>\n            <div\n              className=\"landing__header-subhead\"\n              dangerouslySetInnerHTML={{ __html: content_html_raw }}\n            />\n            {\n              buttons_o.item.map(({ label_s, link_s }, index) =>\n                <A\n                  key={index}\n                  href={link_s}\n                  className=\"landing__btn landing__btn--header\"\n                >\n                  {label_s}\n                </A>\n              )\n            }\n            {\n              image_s &&\n              <img\n                className=\"landing__header-img\"\n                src={image_s}\n                alt={image_alt_t || ''}\n              />\n            }\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default Hero;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Col, Row, Container } from 'reactstrap';\n\nfunction Features(props) {\n  const {\n    label,\n    localId,\n    title_s,\n    features_o,\n    closingContent_html_raw,\n    openingContent_html_raw\n  } = props;\n\n  return (\n    <section className=\"landing__section\">\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h3 className=\"landing__section-title\">{title_s}</h3>\n            {openingContent_html_raw &&\n            <div className=\"landing__feature landing__feature-caption\" style={{ width: '100%' }}\n                 dangerouslySetInnerHTML={{ __html: openingContent_html_raw }}/>}\n          </Col>\n        </Row>\n        <Row>\n          <Col md={12}>\n            <div className=\"landing__features-wrap\">\n              {\n                features_o.item.map(({ description_t, icon_s, title_s }, index) =>\n                  <div className=\"landing__feature\" key={index}>\n                    <div className=\"landing__feature-img-wrap\">\n                      <img src={icon_s} alt=\"\"/>\n                    </div>\n                    <p className=\"landing__feature-title\">{title_s}</p>\n                    <p className=\"landing__feature-caption\">{description_t}</p>\n                  </div>\n                )\n              }\n            </div>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={12}>\n            <p className=\"landing__additional-title\" dangerouslySetInnerHTML={{ __html: closingContent_html_raw }}/>\n          </Col>\n        </Row>\n      </Container>\n    </section>\n  );\n}\n\nexport default Features;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable max-len */\nimport React from 'react';\nimport {\n  Col, Row, Container, Card, CardBody,\n} from 'reactstrap';\nimport StarIcon from 'mdi-react/StarIcon';\n\nfunction Testimonials(props) {\n  const {\n    label,\n    localId,\n    title_s,\n    testimonials_o\n  } = props;\n\n  return (\n    <section className=\"landing__section\">\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h3 className=\"landing__section-title\">{title_s}</h3>\n          </Col>\n        </Row>\n        <Row className=\"landing__testimonials\">\n          {\n            testimonials_o.item.map(({ customer_s, description_html_raw, link_s, stars_i }, index) =>\n              <Col key={index} lg={4} md={6}>\n                <a\n                  href={link_s}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <Card>\n                    <CardBody className=\"landing__testimonial\">\n                      <p className=\"landing__testimonial-name\">{customer_s}</p>\n                      <div className=\"landing__testimonial-stars\">\n                        {(\n                          () => {\n                            const stars = [];\n                            for (let i = 0; i < stars_i; i++)\n                              stars.push(<StarIcon key={i}/>);\n                            return stars;\n                          }\n                        )()}\n                      </div>\n                      <p\n                        className=\"landing__testimonial-review\"\n                        dangerouslySetInnerHTML={{ __html: description_html_raw }}\n                      />\n                    </CardBody>\n                  </Card>\n                </a>\n              </Col>\n            )\n          }\n        </Row>\n      </Container>\n    </section>\n  );\n}\n\nexport default Testimonials;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Col, Container, Row } from 'reactstrap';\n\nfunction ContentSideImage(props) {\n  const {\n    section_background_image_s,\n    contentAlignment_s,\n    content_html_raw,\n    image_alt_s,\n    image_s,\n    title_s,\n    localId,\n    label\n  } = props;\n\n  const\n    CopyColumn = (\n      <Col md={6} sm={12} xs={12}>\n        <div className=\"landing__code-text\">\n          <div className=\"landing__code-wrap\">\n            <h3 className=\"landing__section-title\">{title_s}</h3>\n            <p className=\"landing__section-description\" dangerouslySetInnerHTML={{ __html: content_html_raw }}/>\n          </div>\n        </div>\n      </Col>\n    ),\n    ImageColumn = (\n      <Col md={6} sm={12} xs={12}>\n        <div className=\"landing__code-img landing__code-img--no-shadow\">\n          <div className=\"landing__code-wrap\">\n            <img className=\"landing__img landing__img--over\" src={image_s} alt={image_alt_s || ''}/>\n          </div>\n        </div>\n      </Col>\n    );\n\n  return (\n    <section className=\"landing__section\">\n      {\n        section_background_image_s &&\n        <img className=\"landing__section-background landing__section-background--technologies\" src={section_background_image_s} alt=\"\"/>\n      }\n      <Container>\n        <Row\n          className={`landing__code ${\n            contentAlignment_s === 'right'\n              ? 'landing__code--right'\n              : 'landing__code--first landing__code--left'\n          }`}\n        >\n          {\n            (contentAlignment_s === 'right')\n              ? (\n                <>\n                  {ImageColumn}\n                  {CopyColumn}\n                </>\n              ) : (\n                <>\n                  {CopyColumn}\n                  {ImageColumn}\n                </>\n              )\n          }\n        </Row>\n      </Container>\n    </section>\n  );\n}\n\nexport default ContentSideImage;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport Alert from './Alert';\nimport { Col, Container, Row } from 'reactstrap';\n\nconst NotImplemented = ({ contentType }) => (\n  <aside className=\"landing__section\">\n    <Container>\n      <Row>\n        <Col sm={12}>\n          <Alert color=\"warning\" className=\"alert--neutral\" icon>\n            <p>Unrecognized or unimplemented component of type \"{contentType}\".</p>\n          </Alert>\n        </Col>\n      </Row>\n    </Container>\n  </aside>\n);\n\nexport default NotImplemented;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect } from 'react';\n\nimport Hero from './Hero';\nimport Features from './Features';\nimport Testimonials from './Testimonials';\nimport ContentSideImage from './ContentSideImage';\nimport Layout from './Layout';\nimport NotImplemented from '../shared/NotImplemented';\nimport { useSelector } from 'react-redux';\nimport BlogTeaser from './BlogTeaser';\nimport { FETCH_GRAPH } from '../../redux/actions/contentActions';\nimport { byIdLoadingKey } from '../../util/redux';\nimport ProductTeaser from './ProductTeaser';\n\nconst ContentTypeMap = {\n  '/component/hero': Hero,\n  '/component/two-column': ContentSideImage,\n  '/component/feature-list': Features,\n  '/component/testimonials': Testimonials,\n  '/component/blog_teaser': BlogTeaser,\n  '/component/product-teaser': ProductTeaser\n};\n\nexport default function Home() {\n\n  const content = useSelector(state => state.content.home);\n  const persona = useSelector(state => state.users.persona);\n\n  return (\n    <Layout\n      className=\"landing__home-page\"\n      variables={{\n        post: [\n          { name: 'ageGroup', type: 'String', value: persona ? persona.age : null },\n          { name: 'gender', type: 'String', value: persona ? persona.gender : null },\n          { name: 'slug', type: 'String', value: null },\n          { name: 'limit', type: 'Int', value: 3 }\n        ]\n      }}\n    >\n      {\n        content && content.map((component) => {\n          const Component = ContentTypeMap[component.contentType] || NotImplemented;\n          return <Component key={component.objectId || component.localId} {...component} />\n        })\n      }\n    </Layout>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable max-len */\nimport React, { useEffect, useState } from 'react';\nimport {\n  Col,\n  Row,\n  Container,\n} from 'reactstrap';\nimport Product from './Product';\nimport { switchMap, map } from 'rxjs/operators';\nimport { getProducts, useProductsQuery } from '../../util/products';\n\nexport default function ProductTeaser(props) {\n\n  const {\n    label,\n    localId,\n    title_s,\n    numOfProducts_i = 3\n  } = props;\n\n  const [products, setProducts] = useState();\n  const query = useProductsQuery({ limit: numOfProducts_i });\n\n  useEffect(\n    () => {\n      // Probe for total number of catalog items\n      getProducts(query)\n        .pipe(\n          switchMap(({ response: { total, items } }) => {\n            if (total === 0 || total <= numOfProducts_i) {\n              return items;\n            } else {\n              // Get a few products from the catalog based on numOfProducts_i &\n              const offset = Math.ceil(Math.random() * total) - numOfProducts_i;\n              return getProducts({ ...query, offset }).pipe(\n                map(({ response: { items } }) => items)\n              );\n            }\n          })\n        ).subscribe(items => setProducts(items));\n    },\n    [query.locale, query.currency]\n  );\n\n  return (\n    <section className=\"landing__section\">\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h3 className=\"landing__section-title\">{title_s}</h3>\n          </Col>\n        </Row>\n        <Row className=\"landing__teasers\">\n          {\n            products && products.map((product) =>\n              <Product key={product.id} product={product}/>\n            )\n          }\n          {\n            products && products.length === 0 && <strong style={{\n              display:'block',\n              textAlign:'center',\n              width: '100%'\n            }}>\n              No products on the catalog yet. Please check back later!\n            </strong>\n          }\n        </Row>\n      </Container>\n    </section>\n  );\n}\n\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withTranslation } from 'react-i18next';\n\nconst NotFound404 = (props) => (\n  <div className=\"not-found\">\n    <div className=\"not-found__content\">\n      <h3 className=\"not-found__info\">The page you are looking for was not be found.</h3>\n      <Link className=\"btn btn-primary\" to={props.href || '/'}>{props.t('back_home')}</Link>\n    </div>\n  </div>\n);\n\nexport default withTranslation('common')(NotFound404);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\n\n// var defaultEmptyImg = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTg0IiBoZWlnaHQ9IjE1MiIgdmlld0JveD0iMCAwIDE4NCAxNTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDMxLjY3KSI+CiAgICAgIDxlbGxpcHNlIGZpbGwtb3BhY2l0eT0iLjgiIGZpbGw9IiNGNUY1RjciIGN4PSI2Ny43OTciIGN5PSIxMDYuODkiIHJ4PSI2Ny43OTciIHJ5PSIxMi42NjgiLz4KICAgICAgPHBhdGggZD0iTTEyMi4wMzQgNjkuNjc0TDk4LjEwOSA0MC4yMjljLTEuMTQ4LTEuMzg2LTIuODI2LTIuMjI1LTQuNTkzLTIuMjI1aC01MS40NGMtMS43NjYgMC0zLjQ0NC44MzktNC41OTIgMi4yMjVMMTMuNTYgNjkuNjc0djE1LjM4M2gxMDguNDc1VjY5LjY3NHoiIGZpbGw9IiNBRUI4QzIiLz4KICAgICAgPHBhdGggZD0iTTEwMS41MzcgODYuMjE0TDgwLjYzIDYxLjEwMmMtMS4wMDEtMS4yMDctMi41MDctMS44NjctNC4wNDgtMS44NjdIMzEuNzI0Yy0xLjU0IDAtMy4wNDcuNjYtNC4wNDggMS44NjdMNi43NjkgODYuMjE0djEzLjc5Mmg5NC43NjhWODYuMjE0eiIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC0xKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMuNTYpIi8+CiAgICAgIDxwYXRoIGQ9Ik0zMy44MyAwaDY3LjkzM2E0IDQgMCAwIDEgNCA0djkzLjM0NGE0IDQgMCAwIDEtNCA0SDMzLjgzYTQgNCAwIDAgMS00LTRWNGE0IDQgMCAwIDEgNC00eiIgZmlsbD0iI0Y1RjVGNyIvPgogICAgICA8cGF0aCBkPSJNNDIuNjc4IDkuOTUzaDUwLjIzN2EyIDIgMCAwIDEgMiAyVjM2LjkxYTIgMiAwIDAgMS0yIDJINDIuNjc4YTIgMiAwIDAgMS0yLTJWMTEuOTUzYTIgMiAwIDAgMSAyLTJ6TTQyLjk0IDQ5Ljc2N2g0OS43MTNhMi4yNjIgMi4yNjIgMCAxIDEgMCA0LjUyNEg0Mi45NGEyLjI2MiAyLjI2MiAwIDAgMSAwLTQuNTI0ek00Mi45NCA2MS41M2g0OS43MTNhMi4yNjIgMi4yNjIgMCAxIDEgMCA0LjUyNUg0Mi45NGEyLjI2MiAyLjI2MiAwIDAgMSAwLTQuNTI1ek0xMjEuODEzIDEwNS4wMzJjLS43NzUgMy4wNzEtMy40OTcgNS4zNi02LjczNSA1LjM2SDIwLjUxNWMtMy4yMzggMC01Ljk2LTIuMjktNi43MzQtNS4zNmE3LjMwOSA3LjMwOSAwIDAgMS0uMjIyLTEuNzlWNjkuNjc1aDI2LjMxOGMyLjkwNyAwIDUuMjUgMi40NDggNS4yNSA1LjQydi4wNGMwIDIuOTcxIDIuMzcgNS4zNyA1LjI3NyA1LjM3aDM0Ljc4NWMyLjkwNyAwIDUuMjc3LTIuNDIxIDUuMjc3LTUuMzkzVjc1LjFjMC0yLjk3MiAyLjM0My01LjQyNiA1LjI1LTUuNDI2aDI2LjMxOHYzMy41NjljMCAuNjE3LS4wNzcgMS4yMTYtLjIyMSAxLjc4OXoiIGZpbGw9IiNEQ0UwRTYiLz4KICAgIDwvZz4KICAgIDxwYXRoIGQ9Ik0xNDkuMTIxIDMzLjI5MmwtNi44MyAyLjY1YTEgMSAwIDAgMS0xLjMxNy0xLjIzbDEuOTM3LTYuMjA3Yy0yLjU4OS0yLjk0NC00LjEwOS02LjUzNC00LjEwOS0xMC40MDhDMTM4LjgwMiA4LjEwMiAxNDguOTIgMCAxNjEuNDAyIDAgMTczLjg4MSAwIDE4NCA4LjEwMiAxODQgMTguMDk3YzAgOS45OTUtMTAuMTE4IDE4LjA5Ny0yMi41OTkgMTguMDk3LTQuNTI4IDAtOC43NDQtMS4wNjYtMTIuMjgtMi45MDJ6IiBmaWxsPSIjRENFMEU2Ii8+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDkuNjUgMTUuMzgzKSIgZmlsbD0iI0ZGRiI+CiAgICAgIDxlbGxpcHNlIGN4PSIyMC42NTQiIGN5PSIzLjE2NyIgcng9IjIuODQ5IiByeT0iMi44MTUiLz4KICAgICAgPHBhdGggZD0iTTUuNjk4IDUuNjNIMEwyLjg5OC43MDR6TTkuMjU5LjcwNGg0Ljk4NVY1LjYzSDkuMjU5eiIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==\";\n// var simpleEmptyImg = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNDEiIHZpZXdCb3g9IjAgMCA2NCA0MSIgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxKSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxlbGxpcHNlIGZpbGw9IiNGNUY1RjUiIGN4PSIzMiIgY3k9IjMzIiByeD0iMzIiIHJ5PSI3Ii8+CiAgICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iI0Q5RDlEOSI+CiAgICAgIDxwYXRoIGQ9Ik01NSAxMi43Nkw0NC44NTQgMS4yNThDNDQuMzY3LjQ3NCA0My42NTYgMCA0Mi45MDcgMEgyMS4wOTNjLS43NDkgMC0xLjQ2LjQ3NC0xLjk0NyAxLjI1N0w5IDEyLjc2MVYyMmg0NnYtOS4yNHoiLz4KICAgICAgPHBhdGggZD0iTTQxLjYxMyAxNS45MzFjMC0xLjYwNS45OTQtMi45MyAyLjIyNy0yLjkzMUg1NXYxOC4xMzdDNTUgMzMuMjYgNTMuNjggMzUgNTIuMDUgMzVoLTQwLjFDMTAuMzIgMzUgOSAzMy4yNTkgOSAzMS4xMzdWMTNoMTEuMTZjMS4yMzMgMCAyLjIyNyAxLjMyMyAyLjIyNyAyLjkyOHYuMDIyYzAgMS42MDUgMS4wMDUgMi45MDEgMi4yMzcgMi45MDFoMTQuNzUyYzEuMjMyIDAgMi4yMzctMS4zMDggMi4yMzctMi45MTN2LS4wMDd6IiBmaWxsPSIjRkFGQUZBIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K\";\n\nconst img = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNDEiIHZpZXdCb3g9IjAgMCA2NCA0MSIgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxKSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxlbGxpcHNlIGZpbGw9IiNGNUY1RjUiIGN4PSIzMiIgY3k9IjMzIiByeD0iMzIiIHJ5PSI3Ii8+CiAgICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iI0Q5RDlEOSI+CiAgICAgIDxwYXRoIGQ9Ik01NSAxMi43Nkw0NC44NTQgMS4yNThDNDQuMzY3LjQ3NCA0My42NTYgMCA0Mi45MDcgMEgyMS4wOTNjLS43NDkgMC0xLjQ2LjQ3NC0xLjk0NyAxLjI1N0w5IDEyLjc2MVYyMmg0NnYtOS4yNHoiLz4KICAgICAgPHBhdGggZD0iTTQxLjYxMyAxNS45MzFjMC0xLjYwNS45OTQtMi45MyAyLjIyNy0yLjkzMUg1NXYxOC4xMzdDNTUgMzMuMjYgNTMuNjggMzUgNTIuMDUgMzVoLTQwLjFDMTAuMzIgMzUgOSAzMy4yNTkgOSAzMS4xMzdWMTNoMTEuMTZjMS4yMzMgMCAyLjIyNyAxLjMyMyAyLjIyNyAyLjkyOHYuMDIyYzAgMS42MDUgMS4wMDUgMi45MDEgMi4yMzcgMi45MDFoMTQuNzUyYzEuMjMyIDAgMi4yMzctMS4zMDggMi4yMzctMi45MTN2LS4wMDd6IiBmaWxsPSIjRkFGQUZBIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K';\n\nexport function Empty(props) {\n  return (\n    <section className=\"empty\">\n      <figure className=\"empty__fig\">\n        <img className=\"empty__img\" src={img} alt=\"\"/>\n      </figure>\n      {\n        props.description &&\n        <p className=\"empty__desc\">\n          {props.description}\n        </p>\n      }\n    </section>\n  )\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button, ButtonGroup, ButtonToolbar, Table } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport {\n  ADD_TO_CART,\n  REMOVE_FROM_CART,\n  removeFromCart,\n  UPDATE_CART, UPDATE_CART_ITEM_QUANTITY,\n  updateCartItemQuantity\n} from '../../redux/actions/productsActions';\nimport { money } from '../../util/string';\nimport AddCircleOutlineIcon from 'mdi-react/AddCircleOutlineIcon';\nimport DeleteForeverIcon from 'mdi-react/DeleteForeverIcon';\nimport RemoveCircleOutlineIcon from 'mdi-react/RemoveCircleOutlineIcon';\nimport { Empty } from '../shared/Empty';\nimport { useCartUpdateInFlight } from '../../util/component';\n\n\nexport function CartSummary() {\n  const { cart } = useSelector(state => state.products);\n  return (\n    (cart.items.length === 0) ? (\n      <h2 className=\"text-center\">Your cart is empty</h2>\n    ) : (\n      <Table className=\"table--bordered cart__table cart__summary-table\" responsive>\n        <thead>\n        <tr>\n          <th>Product</th>\n          <th/>\n        </tr>\n        </thead>\n        <tbody>\n        {\n          cart && cart.items.map((item) => (\n            <tr key={item.id}>\n              <td>\n                <span className=\"cart__preview-img\">\n                  <img src={item.images[0].url} alt=\"product_preview\"/>\n                </span>\n                <span className=\"cart__product-name--sm\">\n                  {item.productName}\n                </span>\n              </td>\n              <td>\n                <div className=\"cart__quantity-wrapper\">\n                  <span className=\"cart__quantity-display\">x{item.quantity}</span>\n                </div>\n              </td>\n            </tr>\n          ))\n        }\n        </tbody>\n      </Table>\n    )\n  );\n}\n\nfunction CartBody(props) {\n  const dispatch = useDispatch();\n  const { cart } = useSelector(state => state.products);\n  const options = {\n    ...props.displayOptions\n      ? { ...CartBody.defaultProps.displayOptions, ...props.displayOptions }\n      : CartBody.defaultProps.displayOptions\n  };\n  const updatesInFlight = useCartUpdateInFlight();\n  return (\n    (cart.items.length === 0) ? (\n      <Empty description={\n        <>\n          <span>Your cart is empty.</span><br/>\n          <span>If you had left items in your cart, simply <Link to=\"/login\">log in</Link> to recover them.</span>\n        </>\n      } />\n    ) : (\n      <Table className=\"table--bordered cart__table\" responsive>\n        <thead>\n        <tr>\n          <th>Product</th>\n          <th>Quantity</th>\n          {options.showPrice && <th>Price</th>}\n          {options.showTax && <th>Tax</th>}\n          {options.showTotal && <th>Total</th>}\n          {options.showRemove && <th/>}\n        </tr>\n        </thead>\n        <tbody>\n        {\n          cart && cart.items.map((item) => (\n            <tr key={item.id}>\n              <td>\n                <span className=\"cart__preview-img\">\n                  <img src={item.images[0].url} alt=\"product_preview\"/>\n                </span>\n                <Link\n                  className=\"cart__product-name\"\n                  to={`/catalog/${item.productId}`}\n                >\n                  {item.productName}\n                </Link>\n              </td>\n              <td>\n                <div className=\"cart__quantity-wrapper\">\n                  <span className=\"cart__quantity-display\">{item.quantity}</span>\n                  {\n                    options.showQuantityModifiers &&\n                    <ButtonToolbar>\n                      <ButtonGroup className=\"btn-group--icons\">\n                        <Button\n                          type=\"button\"\n                          className=\"cart__remove-one-button sm\"\n                          outline\n                          onClick={() =>\n                            dispatch(updateCartItemQuantity({\n                              ...item,\n                              quantity: item.quantity - 1\n                            }))\n                          }\n                          disabled={updatesInFlight}\n                        >\n                          <RemoveCircleOutlineIcon/>\n                        </Button>\n                        <Button\n                          type=\"button\"\n                          className=\"cart__add-one-button sm\"\n                          outline\n                          onClick={() =>\n                            dispatch(\n                              updateCartItemQuantity({\n                                ...item,\n                                quantity: item.quantity + 1\n                              })\n                            )\n                          }\n                          disabled={updatesInFlight}\n                        >\n                          <AddCircleOutlineIcon/>\n                        </Button>\n                      </ButtonGroup>\n                    </ButtonToolbar>\n                  }\n                </div>\n              </td>\n              {options.showPrice && <td>{money(item.unitPrice, cart.currency)}</td>}\n              {options.showTax && <td>{money(item.taxedPrice, cart.currency)}</td>}\n              {options.showTotal && <td>{money(item.totalPrice, cart.currency)}</td>}\n              {options.showRemove && <td>\n                <button\n                  className=\"cart__table-btn\" type=\"button\"\n                  onClick={() => dispatch(removeFromCart(item))}\n                >\n                  <DeleteForeverIcon/> Remove\n                </button>\n              </td>}\n            </tr>\n          ))\n        }\n        </tbody>\n      </Table>\n    )\n  );\n}\n\nexport function OrderTotals(props) {\n  const { cart } = useSelector(state => state.products);\n  return (\n    <>\n      <h3 className=\"order-details__title\">Order Details</h3>\n      <div className=\"order-details__body\">\n        <table className=\"order-details__table\">\n          <tbody>\n          <tr>\n            <th className=\"order-details__th\">Products</th>\n            <td className=\"order-details__td\">{money(cart.items.reduce((sum, item) => (sum + item.totalPrice), 0), cart.currency)}</td>\n          </tr>\n          <tr>\n            <th className=\"order-details__th\">Shipping</th>\n            <td className=\"order-details__td\">{money(cart.shippingPrice, cart.currency)}</td>\n          </tr>\n          <tr>\n            <th className=\"order-details__th\">Sub Total</th>\n            <td className=\"order-details__td\">{money(cart.totalPrice, cart.currency)}</td>\n          </tr>\n          {\n            cart.taxedPrice &&\n            <tr>\n              <th className=\"order-details__th\">Tax</th>\n              <td className=\"order-details__td\">{money(cart.taxedPrice - cart.totalPrice, cart.currency)}</td>\n            </tr>\n          }\n          <tr>\n            <th className=\"order-details__th\">Total</th>\n            <td className=\"order-details__td\">{money(cart.taxedPrice, cart.currency)}</td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n}\n\nCartBody.defaultProps = {\n  displayOptions: {\n    showTax: true,\n    showPrice: true,\n    showTotal: true,\n    showRemove: true,\n    showQuantityModifiers: true\n  }\n};\n\nexport default CartBody;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport Layout from './Layout';\nimport { ButtonToolbar, Card, CardBody, Col, Container, Row } from 'reactstrap';\n\nimport { Link } from 'react-router-dom';\nimport { money } from '../../util/string';\nimport Spinner from '../shared/Spinner';\nimport CartBody from './CartBody';\nimport { useCart } from '../../util/component';\n\nfunction CartView() {\n  const cart = useCart();\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={12} lg={12}>\n            {\n              (cart == null)\n                ? <Spinner contained/>\n                : <Card className=\"cart\">\n                  <CardBody>\n                    <div className=\"card__title\">\n                      <h1 className=\"page-title bold-text\">Cart</h1>\n                    </div>\n                    <CartBody/>\n                    {\n                      (cart.items.length > 0) &&\n                      <div className=\"cart__total-wrapper\">\n                        <h4 className=\"cart__total\">Sub-total: {money(cart.totalPrice, cart.currency)}</h4>\n                        <ButtonToolbar className=\"form__button-toolbar\">\n                          <Link className=\"btn btn-primary\" to=\"/checkout\">Checkout</Link>\n                        </ButtonToolbar>\n                      </div>\n                    }\n                  </CardBody>\n                </Card>\n            }\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport default CartView;\n\n\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable react/no-children-prop */\nimport React, { useState } from 'react';\nimport { Button, ButtonToolbar } from 'reactstrap';\nimport { Field, reduxForm, SubmissionError } from 'redux-form';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\nimport renderCheckBoxField from '../shared/form/CheckBox';\nimport Alert from '../shared/Alert';\nimport { loginComplete } from '../../redux/actions/usersActions';\nimport { useDispatch } from 'react-redux';\n\nconst renderTextField = ({ input, label, meta: { touched, error }, children }) => (\n  <TextField\n    className=\"material-form__field\"\n    label={label}\n    error={touched && error}\n    children={children}\n    value={input.value}\n    onChange={(e) => {\n      e.preventDefault();\n      input.onChange(e.target.value);\n    }}\n  />\n);\n\nrenderTextField.propTypes = {\n  input: PropTypes.shape().isRequired,\n  label: PropTypes.string,\n  meta: PropTypes.shape({\n    touched: PropTypes.bool,\n    error: PropTypes.string,\n  }),\n  children: PropTypes.arrayOf(PropTypes.element),\n};\n\nrenderTextField.defaultProps = {\n  meta: null,\n  label: '',\n  children: [],\n};\n\nfunction ProfileSettings(props) {\n  \n  const dispatch = useDispatch();\n\n  const { handleSubmit, reset, error } = props;\n  const [success, setSuccess] = useState();\n\n  function submit(values) {\n    success && setSuccess();\n    return fetch('/api/1/customer/update.json', {\n      body: JSON.stringify(values),\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=UTF-8'\n      }\n    }).then(async (response) => {\n      if (response.status !== 200) {\n        const data = await response.json();\n        throw new SubmissionError({\n          _error: data.message\n        });\n      }\n      setSuccess('Update successful.');\n      return response.json();\n    }).then((user) => {\n      dispatch(loginComplete(user))\n    });\n  }\n\n  return (\n    <form className=\"form\" onSubmit={handleSubmit(submit)}>\n      {\n        success &&\n        <Alert color=\"success\" className=\"alert--bordered\" onDismiss={() => setSuccess()}>\n          <p>{success}</p>\n        </Alert>\n      }\n      {\n        error &&\n        <Alert color=\"danger\" className=\"alert--bordered\">\n          <p>{error}</p>\n        </Alert>\n      }\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Name</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"text\"\n            name=\"firstName\"\n            component=\"input\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Middle Name</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"text\"\n            name=\"middleName\"\n            component=\"input\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Last Name</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"text\"\n            name=\"lastName\"\n            component=\"input\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Phone Number</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"text\"\n            name=\"phone\"\n            component=\"input\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">E-mail</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"text\"\n            name=\"email\"\n            component=\"input\"\n          />\n        </div>\n      </div>\n      <ButtonToolbar className=\"form__button-toolbar\">\n        <Button color=\"primary\" type=\"submit\">Update profile</Button>\n        <Button type=\"button\" onClick={reset}>\n          Cancel\n        </Button>\n      </ButtonToolbar>\n    </form>\n  );\n\n}\n\nfunction ChangePasswordFormComponent(props) {\n  const { handleSubmit, reset, error } = props;\n  const [type, setType] = useState('password');\n  const [success, setSuccess] = useState();\n\n  function submit(values) {\n    success && setSuccess();\n    return fetch('/api/1/customer/change-password.json', {\n      body: JSON.stringify(values),\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=UTF-8'\n      }\n    }).then(async (response) => {\n      if (response.status !== 200) {\n        const data = await response.json();\n        throw new SubmissionError({\n          _error: data.message\n        });\n      }\n      reset();\n      setSuccess('Update successful.');\n      return response.json();\n    });\n  }\n\n  return (\n    <form className=\"form\" onSubmit={handleSubmit(submit)}>\n      {\n        success &&\n        <Alert color=\"success\" className=\"alert--bordered\" onDismiss={() => setSuccess()}>\n          <p>{success}</p>\n        </Alert>\n      }\n      {\n        error &&\n        <Alert color=\"danger\" className=\"alert--bordered\">\n          <p>{error}</p>\n        </Alert>\n      }\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Current Password</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"currentPassword\"\n            component=\"input\"\n            type={type}\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">New Password</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"newPassword\"\n            component=\"input\"\n            type={type}\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"showPassword\"\n            onChange={(value, checked) => setType(checked ? 'text' : 'password')}\n            component={renderCheckBoxField}\n            label=\"Show passwords\"\n          />\n        </div>\n      </div>\n      <ButtonToolbar className=\"form__button-toolbar\">\n        <Button color=\"primary\" type=\"submit\">Submit</Button>\n        <Button type=\"button\" onClick={reset}>\n          Cancel\n        </Button>\n      </ButtonToolbar>\n    </form>\n  );\n}\n\nexport const ChangePasswordForm = reduxForm({ form: 'passwordUpdateForm' })(ChangePasswordFormComponent);\n\nexport default reduxForm({ form: 'profileForm' })(ProfileSettings);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Badge, Table } from 'reactstrap';\nimport React, { useContext, useEffect } from 'react';\nimport { FETCH_ORDERS, fetchOrders } from '../../redux/actions/usersActions';\nimport Spinner from '../shared/Spinner';\nimport { capitalize, money } from '../../util/string';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Empty } from '../shared/Empty';\nimport { __RouterContext } from 'react-router';\n\nfunction OrderList() {\n  const { history } = useContext(__RouterContext);\n  const dispatch = useDispatch();\n  const { orders: ordersTable, loading } = useSelector(state => state.users);\n  const orders = Object.values(ordersTable);\n  useEffect(\n    () => {\n      if (loading[FETCH_ORDERS] == null)\n        dispatch(fetchOrders());\n    },\n    []\n  );\n  if (loading[FETCH_ORDERS]) {\n    return <Spinner contained/>;\n  }\n  return (\n    (orders.length === 0) ? (\n      <Empty description={\n        <>You haven't placed any orders yet. Visit <Link to=\"/catalog\">the catalog</Link> to place your first order!</>\n      } />\n    ) : (\n      <Table responsive hover>\n        <thead>\n        <tr>\n          <th>Order ID</th>\n          <th>Created</th>\n          <th>Total</th>\n          <th>Shipping Status</th>\n          <th>Order Status</th>\n        </tr>\n        </thead>\n        <tbody>\n        {orders.map(({ id, created, modified, currency, totalPrice, taxedPrice, shippingStatus, paymentStatus, orderStatus }) =>\n          <tr key={id} onClick={() => history.push(`/account/orders/${id}`)}>\n            <td>{id.substr(0, id.indexOf('-'))}</td>\n            <td>{created}</td>\n            <td>{money(totalPrice + taxedPrice, currency)}</td>\n            <td>{shippingStatus}</td>\n            <td>\n              <Badge color={orderStatus === 'COMPLETE' ? 'success' : 'warning'}>{capitalize(orderStatus)}</Badge>\n            </td>\n          </tr>\n        )}\n        </tbody>\n      </Table>\n    )\n  );\n}\n\nexport default OrderList;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useMemo, useState } from 'react';\nimport { Field, reduxForm, SubmissionError } from 'redux-form';\nimport Layout from './Layout';\nimport { Button, ButtonToolbar, Card, CardBody, Col, Container, Row } from 'reactstrap';\nimport Alert from '../shared/Alert';\nimport Spinner from '../shared/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addAddressComplete, editAddressComplete } from '../../redux/actions/usersActions';\nimport { RadioButton } from '../shared/form/RadioButton';\nimport { Link } from 'react-router-dom';\nimport { Empty } from '../shared/Empty';\nimport { useUser } from '../../util/component';\nimport * as qs from 'query-string';\n\nexport function AddressCard({ address, user, showName }) {\n  return (\n    <address className=\"profile__contact\">\n      {\n        ((showName === undefined) || (showName)) &&\n        <p className=\"profile__name\">\n          {\n            address.addressName\n              ? address.addressName\n              : `${address.firstName || user.firstName} ${address.lastName || user.lastName}`\n          }\n        </p>\n      }\n      <div className=\"profile__work\">\n        {address.phone ? <div>{address.phone}</div> : null}\n        {address.mobile ? <div>{address.mobile}</div> : null}\n        {address.fax ? <div>{address.fax}</div> : null}\n      </div>\n      {address.streetAddressLineOne ? <div>{address.streetAddressLineOne}</div> : null}\n      {address.streetAddressLineTwo ? <div>{address.streetAddressLineTwo}</div> : null}\n      {\n        (address.city || address.postalCode) && (\n          <div>\n            {\n              (address.city && address.postalCode)\n                ? `${address.city}, ${address.postalCode}`\n                : address.city || address.postalCode\n            }\n          </div>\n        )\n      }\n      {address.state ? <div>{address.state}</div> : null}\n      <div>{address.country}</div>\n    </address>\n  );\n}\n\nexport const AddressForm = reduxForm({ form: 'addressForm' })(function (props) {\n\n  const {\n    handleSubmit,\n    error,\n    onSuccess,\n    onCancel,\n    isEditMode\n  } = props;\n\n  const [success, setSuccess] = useState();\n\n  const dispatch = useDispatch();\n\n  const submit = (values) => {\n    success && setSuccess();\n    return fetch('/api/1/customer/update.json', {\n      body: JSON.stringify({ [isEditMode ? 'changeAddress' : 'addAddress']: [values] }),\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json; charset=UTF-8' }\n    }).then(async (response) => {\n      const data = await response.json();\n      if (response.status !== 200) {\n        throw new SubmissionError({\n          _error: data.message\n        });\n      }\n      dispatch(isEditMode ? editAddressComplete(data) : addAddressComplete(data));\n      setSuccess('Update successful.');\n      onSuccess(data);\n    });\n  };\n\n  return (\n    <form className=\"form address-form\" onSubmit={handleSubmit(submit)}>\n      {\n        success &&\n        <Alert color=\"success\" className=\"alert--bordered\" onDismiss={() => setSuccess()}>\n          <p>{success}</p>\n        </Alert>\n      }\n      {\n        error &&\n        <Alert color=\"danger\" className=\"alert--bordered\">\n          <p>{error}</p>\n        </Alert>\n      }\n      <Field\n        name=\"id\"\n        component=\"input\"\n        type=\"hidden\"\n      />\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Address Name</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"addressName\"\n            component=\"input\"\n            type=\"text\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group-columns\">\n        <div className=\"form__form-group form__form-group-col-left\">\n          <span className=\"form__form-group-label\">First Name</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"firstName\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n        <div className=\"form__form-group form__form-group-col-right\">\n          <span className=\"form__form-group-label\">Last Name</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"lastName\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Street Address</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"streetAddressLineOne\"\n            component=\"input\"\n            type=\"text\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"streetAddressLineTwo\"\n            component=\"input\"\n            type=\"text\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group-columns\">\n        <div className=\"form__form-group form__form-group-col-left\">\n          <span className=\"form__form-group-label\">Country</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"country\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n        <div className=\"form__form-group form__form-group-col-right\">\n          <span className=\"form__form-group-label\">State</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"state\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"form__form-group-columns\">\n        <div className=\"form__form-group form__form-group-col-left\">\n          <span className=\"form__form-group-label\">City</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"city\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n        <div className=\"form__form-group form__form-group-col-right\">\n          <span className=\"form__form-group-label\">Postcode</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"postalCode\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Phone</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"phone\"\n            component=\"input\"\n            type=\"text\"\n          />\n        </div>\n      </div>\n      <ButtonToolbar className=\"form__button-toolbar\">\n        <Button color=\"primary\" type=\"submit\">Submit</Button>\n        <Button type=\"button\" onClick={onCancel}>\n          Cancel\n        </Button>\n      </ButtonToolbar>\n    </form>\n  );\n});\n\nexport function AddressEntry(props) {\n\n  const user = useSelector(state => state.users.user);\n  const addressId = props.match.params.id;\n  const queryString = qs.parse(props.location.search);\n  const backUrl = queryString.origin || '/account/address-book';\n\n  const isEditMode = useMemo(\n    () => props.match.params.id != null,\n    [props.match.params.id]\n  );\n\n  if (user == null) {\n    return <Spinner/>;\n  }\n\n  return (\n    <Layout>\n      <Container>\n        <Card>\n          <CardBody>\n            <h1 className=\"page-title\">\n              {`${isEditMode ? 'Edit' : 'Add'} Address`}\n            </h1>\n            <AddressForm\n              user={user}\n              isEditMode={isEditMode}\n              onSuccess={() => props.history.push(backUrl)}\n              onCancel={() => props.history.push(backUrl)}\n              initialValues={\n                isEditMode && user.addresses.find(\n                  (address) => address.id === addressId\n                ) || {\n                  firstName: user.firstName,\n                  lastName: user.lastName,\n                  email: user.email\n                }\n              }\n            />\n          </CardBody>\n        </Card>\n      </Container>\n    </Layout>\n  );\n}\n\nexport function AddressSelection({ name, onChange, currentValue, returnUrl }) {\n\n  const user = useUser();\n  const { addresses } = user;\n\n  let newAddressUrl = '/account/address-book/new';\n  if (returnUrl) {\n    newAddressUrl = `${newAddressUrl}?origin=${returnUrl}`;\n  }\n\n  return (\n    <Row>\n      {\n        (addresses && addresses.length > 0) ? <>\n\n          {addresses.map((address) =>\n            <Col md={4} sm={6} key={address.id}>\n              <RadioButton\n                label={`${address.firstName || user.firstName} ${address.lastName || user.lastName}`}\n                name={name}\n                value={address.id}\n                currentValue={currentValue}\n                onChange={(e) => onChange(e.target.value)}\n              />\n              <div className=\"cart__delivery-time\">\n                <AddressCard address={address} user={user} showName={false}/>\n              </div>\n            </Col>\n          )}\n          <Col md={12}>\n            <hr/>\n            <Link to={newAddressUrl}>\n              Add new address\n            </Link>\n          </Col>\n\n        </> : <Col md={12}>\n          <Empty\n            description={\n              <span>\n                Please <Link to={newAddressUrl}>add an address</Link> to your address book.\n              </span>\n            }\n          />\n        </Col>\n      }\n    </Row>\n  );\n}\n\nexport default AddressCard;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useMemo } from 'react';\nimport Layout from './Layout';\nimport {\n  Badge,\n  Button,\n  Card,\n  CardBody,\n  Col,\n  Container,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  Nav,\n  NavItem,\n  NavLink,\n  Row,\n  TabContent,\n  TabPane,\n  UncontrolledDropdown\n} from 'reactstrap';\n\nimport classnames from 'classnames';\nimport ProfileSettings, { ChangePasswordForm } from './ProfileSettings';\nimport OrdersList from './OrderList';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout, removeAddress, setAddressDefaults } from '../../redux/actions/usersActions';\nimport AddressCard from './AddressCard';\nimport ChevronDownIcon from 'mdi-react/ChevronDownIcon';\n\nimport authorized from '../shared/authorized';\nimport { Empty } from '../shared/Empty';\n\nfunction Account({ history, match, user }) {\n\n  const dispatch = useDispatch();\n  const { orders } = useSelector(state => state.users);\n\n  const activeTab = useMemo(\n    () => (\n      [\n        'profile',\n        'orders',\n        'address-book',\n        'password'\n      ].includes(match.params.tab)\n        ? match.params.tab\n        : 'profile'\n    ),\n    [match.params.tab]\n  );\n\n  const setActiveTab = (tab) => {\n    history.push(`/account/${tab}`);\n  };\n  \n  return (\n    <Layout>\n      <Container>\n        <div className=\"profile\">\n          <Row>\n            <Col md={12} lg={12} xl={4}>\n              <Card style={{ height: 'auto' }}>\n                <CardBody className=\"profile__card\">\n                  <div className=\"profile__information\">\n                    <div className=\"\">\n                      <p className=\"profile__name\">\n                        {`${user.firstName} ${user.middleName || ''} ${user.lastName}`}\n                      </p>\n                      <p className=\"profile__work\">{user.phone}</p>\n                      <p className=\"profile__contact\">{user.email}</p>\n                      <Button\n                        color=\"primary\"\n                        className=\"icon profile__btn\"\n                        onClick={() => dispatch(logout(history.push))}\n                      >\n                        Sign Out\n                      </Button>\n                    </div>\n                  </div>\n                  {\n                    orders &&\n                    <div className=\"profile__stats\">\n                      <div className=\"profile__stat\">\n                        <p className=\"profile__stat-number\">{Object.values(orders).length}</p>\n                        <p className=\"profile__stat-title\">Orders</p>\n                      </div>\n                    </div>\n                  }\n                </CardBody>\n              </Card>\n            </Col>\n            <Col md={12} lg={12} xl={8}>\n              <Card>\n                <div className=\"profile__card tabs tabs--bordered-bottom\">\n                  <div className=\"tabs__wrap\">\n                    <Nav tabs>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'profile' })}\n                          onClick={() => setActiveTab('profile')}\n                        >\n                          Profile\n                        </NavLink>\n                      </NavItem>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'address-book' })}\n                          onClick={() => setActiveTab('address-book')}\n                        >\n                          Address Book\n                        </NavLink>\n                      </NavItem>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'orders' })}\n                          onClick={() => setActiveTab('orders')}\n                        >\n                          Orders\n                        </NavLink>\n                      </NavItem>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'password' })}\n                          onClick={() => setActiveTab('password')}\n                        >\n                          Password\n                        </NavLink>\n                      </NavItem>\n                    </Nav>\n                    <TabContent activeTab={activeTab}>\n                      <TabPane tabId=\"profile\">\n                        <ProfileSettings initialValues={user}/>\n                      </TabPane>\n                      <TabPane tabId=\"address-book\">\n                        <Row>\n                          <Col md={12}>\n                            <Button color=\"primary\" onClick={() => history.push('/account/address-book/new')}>\n                              Add Address\n                            </Button>\n                            {\n                              (user.addresses == null || user.addresses.length === 0) &&\n                              <Empty description=\"You haven't registered any addresses yet.\"/>\n                            }\n                          </Col>\n                          {\n                            user.addresses && user.addresses.map((address) =>\n                              <Col md={4} sm={6} key={address.id}>\n                                <Card>\n                                  <CardBody>\n                                    <AddressCard address={address} user={user}/>\n                                    {\n                                      (user.addresses.length === 1 || address.isShippingDefault) &&\n                                      <div className=\"address-display__default\">\n                                        <Badge color=\"info\">Shipping Default</Badge>\n                                      </div>\n                                    }\n                                    {\n                                      (user.addresses.length === 1 || address.isBillingDefault) &&\n                                      <div className=\"address-display__default\">\n                                        <Badge color=\"success\">Billing Default</Badge>\n                                      </div>\n                                    }\n                                    <UncontrolledDropdown>\n                                      <DropdownToggle className=\"icon icon--right btn-sm address-options-btn\" outline>\n                                        <p>Options <ChevronDownIcon/></p>\n                                      </DropdownToggle>\n                                      <DropdownMenu className=\"dropdown__menu\">\n                                        <DropdownItem\n                                          onClick={() => history.push(`/account/address-book/edit/${address.id}`)}>\n                                          Edit\n                                        </DropdownItem>\n                                        <DropdownItem onClick={() => onSetDefaultBilling(address)}>\n                                          Set as billing default\n                                        </DropdownItem>\n                                        <DropdownItem onClick={() => onSetDefaultShipping(address)}>\n                                          Set as shipping default\n                                        </DropdownItem>\n                                        <DropdownItem divider/>\n                                        <DropdownItem onClick={() => onRemoveAddress(address.id)}>\n                                          Remove\n                                        </DropdownItem>\n                                      </DropdownMenu>\n                                    </UncontrolledDropdown>\n                                  </CardBody>\n                                </Card>\n                              </Col>\n                            )\n                          }\n                        </Row>\n                      </TabPane>\n                      <TabPane tabId='orders'>\n                        <OrdersList/>\n                      </TabPane>\n                      <TabPane tabId=\"password\">\n                        <ChangePasswordForm/>\n                      </TabPane>\n                    </TabContent>\n                  </div>\n                </div>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </Container>\n    </Layout>\n  );\n\n  function onRemoveAddress(addressId) {\n    dispatch(removeAddress(addressId));\n  }\n\n  function onSetDefaultBilling(address) {\n    const nextAddress = { ...address, isBillingDefault: true };\n    onUpdateAddressDefaults(nextAddress);\n  }\n\n  function onSetDefaultShipping(address) {\n    const nextAddress = { ...address, isShippingDefault: true };\n    onUpdateAddressDefaults(nextAddress);\n  }\n\n  function onUpdateAddressDefaults(address) {\n    dispatch(setAddressDefaults(address));\n  }\n\n}\n\nexport default authorized(Account);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useContext } from 'react';\n\n// import invariant from 'tiny-invariant';\nimport hoistStatics from 'hoist-non-react-statics';\n\nimport { __RouterContext } from 'react-router';\nimport { useUser } from '../../util/component';\nimport Spinner from './Spinner';\n\nexport default function authorized(Component) {\n\n  const displayName = `authorized(${Component.displayName || Component.name})`;\n  const C = props => {\n\n    const { history, location } = useContext(__RouterContext);\n    const { wrappedComponentRef, ...remainingProps } = props;\n\n    const user = useUser({\n      redirect: location.pathname,\n      onMissing: () => setTimeout(() => history.push('/login'))\n    });\n\n    if (user)\n      return (\n        <Component\n          {...remainingProps}\n          ref={wrappedComponentRef}\n          user={user}\n        />\n      );\n    else\n      return null;\n\n  };\n\n  C.displayName = displayName;\n  C.WrappedComponent = Component;\n\n  return hoistStatics(C, Component);\n\n}\n\nexport function awaitRequirements(Component, { requirements, onMissing }) {\n\n  const displayName = `awaitRequirements(${Component.displayName || Component.name})`;\n  const C = props => {\n\n    const { wrappedComponentRef, ...remainingProps } = props;\n\n    const reqs = {};\n    const missing = [];\n    Object.entries(requirements).forEach(([key, getter]) => {\n      reqs[key] = getter();\n      if (reqs[key] == null) {\n        missing.push(key);\n      }\n    });\n\n    onMissing && onMissing(missing);\n\n    if (missing.length > 0) {\n      return <Spinner/>;\n    } else {\n      return (\n        <Component\n          ref={wrappedComponentRef}\n          {...remainingProps}\n          {...reqs}\n        />\n      );\n    }\n\n  };\n\n  C.displayName = displayName;\n  C.WrappedComponent = Component;\n\n  return hoistStatics(C, Component);\n\n}\n\n// Example\n// export default awaitRequirements(LogIn, {\n//   ['onMissing']: (reqs) => {\n//     const dispatch = useDispatch();\n//     useEffect(\n//       () => {\n//         if (reqs.length)\n//           dispatch(fetchGraph(['header']));\n//       },\n//       []\n//     );\n//   },\n//   requirements: {\n//     ['header']: () => useHeader()\n//   }\n// });\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport Layout from './Layout';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Button, ButtonToolbar, Card, CardBody, Col, Container, Row } from 'reactstrap';\nimport { LogInForm } from './LogIn';\nimport { getLoginFormDefaults, useCart, useProductsBranch, useUser } from '../../util/component';\nimport { CartSummary, OrderTotals } from './CartBody';\nimport CreditCardIcon from 'mdi-react/CreditCardIcon';\nimport { RadioButton } from '../shared/form/RadioButton';\nimport { AddressSelection } from './AddressCard';\nimport Spinner from '../shared/Spinner';\nimport { money } from '../../util/string';\nimport { Empty } from '../shared/Empty';\nimport { useDispatch } from 'react-redux';\nimport {\n  checkout, UPDATE_CART,\n  updateCart\n} from '../../redux/actions/productsActions';\n\nfunction address(cart, user, type) {\n  if (cart == null || user == null) {\n    return;\n  }\n  const cartAddress = cart[type === 'shipping' ? 'shippingAddress' : 'billingAddress'];\n  if (cartAddress == null || user.addresses == null) {\n    return;\n  }\n  const address = user.addresses.find((_address_) =>\n    _address_.streetAddressLineOne === cartAddress.streetAddressLineOne\n  );\n  return address ? address.id : undefined;\n}\n\nfunction ShippingSelection({ onChange, selectedValue, items }) {\n  return (\n    <div className=\"form__form-group shipping-method-selection\">\n      <div className=\"form__form-group-field cart__delivery-field\">\n        {items ? items.map((item) =>\n          <div className=\"cart__delivery\" key={item.id}>\n            <RadioButton\n              label={item.name}\n              name=\"shippingMethod\"\n              value={item.id}\n              currentValue={selectedValue}\n              onChange={() => onChange(item.id)}\n            />\n            <p className=\"cart__delivery-time\">{item.description}</p>\n            <p className=\"cart__delivery-price\">{money(item.price, item.currency)}</p>\n          </div>\n        ) : (\n          <Empty description=\"Shipping is not available for your location. :(\"/>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction CreditCardForm({ cardNumber, cvc, expirationDate, nameOnCard, onChange }) {\n  return (\n    <form className=\"form payment__credit-cards\">\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Card number</span>\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <CreditCardIcon/>\n          </div>\n          <input\n            type=\"text\"\n            name=\"cardNumber\"\n            value={cardNumber}\n            onChange={onChange}\n            placeholder=\"xxxx-xxxx-xxxx-xxxx\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group-date-cvc\">\n        <div className=\"form__form-group form__form-group-date\">\n          <span className=\"form__form-group-label\">Expiration Date</span>\n          <div className=\"form__form-group-field\">\n            <input\n              type=\"month\"\n              name=\"expirationDate\"\n              placeholder=\"MM/YY\"\n              min=\"2019-07\"\n              value={expirationDate}\n              onChange={onChange}\n            />\n          </div>\n        </div>\n        <div className=\"form__form-group form__form-group-cvc\">\n          <span className=\"form__form-group-label\">CVC</span>\n          <div className=\"form__form-group-field\">\n            <input\n              type=\"number\"\n              name=\"cvc\"\n              minLength={3}\n              maxLength={4}\n              value={cvc}\n              onChange={onChange}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Cardholder name</span>\n        <div className=\"form__form-group-field\">\n          <input\n            type=\"text\"\n            name=\"nameOnCard\"\n            placeholder=\"Name and Surname\"\n            value={nameOnCard}\n            onChange={onChange}\n          />\n        </div>\n      </div>\n    </form>\n  );\n}\n\nfunction CheckoutView({ history }) {\n\n  const dispatch = useDispatch();\n  const { loading } = useProductsBranch();\n  const user = useUser({ redirect: '/checkout' });\n  const cart = useCart({ onEmpty: () => history.push('/cart') });\n  const [card, setState] = useState({\n    cvc: '',\n    nameOnCard: '',\n    cardNumber: '',\n    expirationDate: '',\n  });\n\n  const [shippingAddress, setShippingAddress] = useState();\n  const [billingAddress, setBillingAddress] = useState();\n  const [shippingMethod, setShippingMethod] = useState();\n\n  const onCardDataEntry = (e) => {\n    const { value, name } = e.target;\n    setState({ ...card, [name]: value });\n  };\n\n  const onAddressSelection = (value, type) => {\n    (type === 'shipping' ? setShippingAddress : setBillingAddress)(value);\n  };\n\n  useEffect(\n    () => {\n\n      const shipping = address(cart, user, 'shipping');\n      const billing = address(cart, user, 'billing');\n      const method = (cart || {}).shippingMethod;\n\n      shipping && (shipping !== shippingAddress) && setShippingAddress(shipping);\n      billing && (billing !== billingAddress) && setBillingAddress(billing);\n      method && (method !== shippingMethod) && setShippingMethod(method);\n\n    },\n    [cart]\n  );\n\n  useEffect(\n    () => {\n      if (cart) {\n\n        const\n          shippingCondition = (!!shippingAddress && shippingAddress !== address(cart, user, 'shipping')),\n          billingCondition = (!!billingAddress && billingAddress !== address(cart, user, 'billing')),\n          methodCondition = (!!shippingMethod && cart.shippingMethod !== shippingMethod);\n\n        if (\n          shippingCondition ||\n          billingCondition ||\n          methodCondition\n        ) {\n          dispatch(updateCart({\n            ...shippingCondition ? { shippingAddress } : {},\n            ...billingCondition ? { billingAddress } : {},\n            ...methodCondition ? { shippingMethod } : {}\n          }));\n        }\n\n      }\n\n    },\n    [shippingAddress, billingAddress, shippingMethod]\n  );\n\n  const checkoutDisabled = useMemo(\n    () => !(\n      shippingAddress &&\n      billingAddress &&\n      shippingMethod &&\n      card.cvc &&\n      card.nameOnCard &&\n      card.cardNumber &&\n      card.expirationDate\n    ),\n    [shippingAddress, billingAddress, shippingMethod, card]\n  );\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          {(cart == null) ? <Col md={12}><Spinner contained/></Col> : (user == null) ? <>\n\n            <Col md={12} lg={12}>\n              <Card>\n                <CardBody>\n                  <div className=\"text-center\">\n                    <h1 className=\"page-title\">Checkout</h1>\n                    <p className=\"page-subhead subhead\">\n                      In order to checkout please sign in or create an account if you don't have one.\n                    </p>\n                    <div className=\"payment-view__login\">\n                      <LogInForm initialValues={getLoginFormDefaults()}/>\n                    </div>\n                  </div>\n                </CardBody>\n              </Card>\n            </Col>\n\n          </> : <>\n\n            <Col md={9}>\n              <Card>\n                <CardBody>\n\n                  <div className=\"card__title\">\n                    <h1 className=\"bold-text\">Checkout</h1>\n                  </div>\n                  <div className=\"payment\">\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Shipping Address</legend>\n                      <AddressSelection\n                        returnUrl=\"/checkout\"\n                        name=\"shippingAddress\"\n                        currentValue={shippingAddress}\n                        onChange={(value) => onAddressSelection(value, 'shipping')}\n                      />\n                    </fieldset>\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Billing Address</legend>\n                      <AddressSelection\n                        returnUrl=\"/checkout\"\n                        name=\"billingAddress\"\n                        currentValue={billingAddress}\n                        onChange={(value) => onAddressSelection(value, 'billing')}\n                      />\n                    </fieldset>\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Shipping Method</legend>\n                      {\n                        loading[UPDATE_CART] ? <Spinner small/> : cart.shippingMethods ? (\n                          <ShippingSelection\n                            items={cart.shippingMethods}\n                            selectedValue={shippingMethod}\n                            onChange={(value) => setShippingMethod(value)}\n                          />\n                        ) : <Empty description=\"Select shipping address to view available shipping methods\"/>\n                      }\n                    </fieldset>\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Payment Method</legend>\n                      <CreditCardForm {...card} onChange={onCardDataEntry}/>\n                    </fieldset>\n                  </div>\n\n                </CardBody>\n              </Card>\n            </Col>\n\n            <Col md={3}>\n              <CartSummary/>\n              <OrderTotals/>\n              <ButtonToolbar className=\"form__button-toolbar\">\n                <Button\n                  type=\"button\"\n                  color=\"primary\"\n                  onClick={onCheckout}\n                  disabled={checkoutDisabled}\n                  className=\"payment__complete-purchase-btn\"\n                >\n                  Complete Purchase\n                </Button>\n              </ButtonToolbar>\n            </Col>\n\n          </>}\n        </Row>\n      </Container>\n    </Layout>\n  );\n\n  function onCheckout() {\n    dispatch(checkout({ card, shippingMethod, shippingAddress, billingAddress }, history.push));\n  }\n\n}\n\nexport default CheckoutView;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { PureComponent } from 'react';\nimport { Collapse } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport MinusIcon from 'mdi-react/MinusIcon';\nimport PlusIcon from 'mdi-react/PlusIcon';\nimport ChevronDownIcon from 'mdi-react/ChevronDownIcon';\n\nexport default class CollapseComponent extends PureComponent {\n  static propTypes = {\n    title: PropTypes.string,\n    className: PropTypes.string,\n    children: PropTypes.element.isRequired,\n  };\n\n  static defaultProps = {\n    title: '',\n    className: '',\n  };\n\n  constructor() {\n    super();\n    this.state = {\n      collapse: false,\n      status: 'closed',\n      icon: <PlusIcon />,\n    };\n  }\n\n  onEntering = () => {\n    this.setState({ status: 'opening', icon: <MinusIcon /> });\n  };\n\n  onEntered = () => {\n    this.setState({ status: 'opened', icon: <MinusIcon /> });\n  };\n\n  onExiting = () => {\n    this.setState({ status: 'closing', icon: <PlusIcon /> });\n  };\n\n  onExited = () => {\n    this.setState({ status: 'closed', icon: <PlusIcon /> });\n  };\n\n  toggle = () => {\n    this.setState(prevState => ({ collapse: !prevState.collapse }));\n  };\n\n  render() {\n    const { className, title, children } = this.props;\n    const { icon, collapse, status } = this.state;\n\n    return (\n      <div className={`collapse__wrapper ${status} ${className}`}>\n        <button onClick={this.toggle} className=\"collapse__title\" type=\"button\">\n          {icon}\n          <p>{title}<ChevronDownIcon /></p>\n        </button>\n        <Collapse\n          isOpen={collapse}\n          className=\"collapse__content\"\n          onEntering={this.onEntering}\n          onEntered={this.onEntered}\n          onExiting={this.onExiting}\n          onExited={this.onExited}\n        >\n          <div>\n            {children}\n          </div>\n        </Collapse>\n      </div>\n    );\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Badge, Card, CardBody, Col, Container, Row, Table } from 'reactstrap';\n\nimport Layout from './Layout';\nimport { useOrder } from '../../util/component';\nimport Spinner from '../shared/Spinner';\nimport { Link } from 'react-router-dom';\nimport { capitalize, money } from '../../util/string';\nimport Collapse from '../shared/Collapse';\n\n\nfunction OrderDetails(props) {\n\n  const id = props.match.params.id;\n  const order = useOrder(id);\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={9}>\n\n            <Card>\n              <CardBody>\n                <h1 className=\"page-title\">\n                  {`Order # ${id} - Details`}\n                </h1>\n\n                {order == null ? <Spinner contained/> : <>\n\n                  <Table className=\"table--bordered cart__table\" responsive>\n                    <thead>\n                    <tr>\n                      <th>Product</th>\n                      <th>Quantity</th>\n                      <th>Price</th>\n                      <th>Total</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {\n                      order.items && order.items.map((item) => (\n                        <tr key={item.id}>\n                          <td>\n                            <span className=\"cart__preview-img\">\n                              <img src={item.images[0].url} alt=\"product_preview\"/>\n                            </span>\n                            <Link\n                              className=\"cart__product-name\"\n                              to={`/catalog/${item.productId}`}\n                            >\n                              {item.productName}\n                            </Link>\n                          </td>\n                          <td>{item.quantity}</td>\n                          <td>{money(item.unitPrice, order.currency)}</td>\n                          <td>{money(item.totalPrice, order.currency)}</td>\n                        </tr>\n                      ))\n                    }\n                    </tbody>\n                  </Table>\n\n                </>}\n\n              </CardBody>\n            </Card>\n          </Col>\n          <Col md={3}>\n            {\n              order && order.items && <>\n\n                <table className=\"table\">\n                  <tbody>\n                  <tr>\n                    <th>Order Status</th>\n                    <td>\n                      <Badge color={['OPEN', 'CONFIRMED', 'COMPLETE'].includes(order.orderStatus) ? 'success' : 'warning'}>\n                        {capitalize(order.orderStatus)}\n                      </Badge>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>Payment Status</th>\n                    <td>\n                      <Badge color={order.paymentStatus === 'COMPLETE' ? 'success' : 'warning'}>\n                        {capitalize(order.paymentStatus || 'Pending')}\n                      </Badge>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>Shipping Status</th>\n                    <td>\n                      <Badge color={order.shippingStatus === 'COMPLETE' ? 'success' : 'warning'}>\n                        {capitalize(order.shippingStatus || 'Pending')}\n                      </Badge>\n                    </td>\n                  </tr>\n                  </tbody>\n                </table>\n\n                <div className=\"order-details__body\">\n                  <table className=\"order-details__table\">\n                    <tbody>\n                    <tr>\n                      <th className=\"order-details__th\">Products</th>\n                      <td className=\"order-details__td\">{money(order.items.reduce((sum, item) => (sum + item.totalPrice), 0), order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Shipping</th>\n                      <td className=\"order-details__td\">{money(order.shippingPrice, order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Sub Total</th>\n                      <td className=\"order-details__td\">{money(order.totalPrice, order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Tax</th>\n                      <td className=\"order-details__td\">{money(order.taxedPrice - order.totalPrice, order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Total</th>\n                      <td className=\"order-details__td\">{money(order.taxedPrice, order.currency)}</td>\n                    </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </>\n            }\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport default OrderDetails;\n\n// Payment:\n// BALANCE_DUE\n// PENDING\n// PAID\n// CREDIT_OWED\n// FAILED\n//\n// Shipping:\n// READY\n// PENDING\n// PARTIAL\n// DELAYED\n// SHIPPED\n// BACK_ORDER\n//\n// Order:\n// OPEN\n// CONFIRMED\n// COMPLETE\n// CANCELLED\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport Layout from './Layout';\nimport { Container, Row, Col, Card } from 'reactstrap';\nimport { useContentBranch } from '../../util/component';\nimport { loader } from 'graphql.macro';\nimport { ajax } from 'rxjs/ajax';\nimport { map, catchError } from 'rxjs/operators';\nimport { BlogPostCard } from './BlogTeaser';\nimport Spinner from '../shared/Spinner';\nimport { Empty } from '../shared/Empty';\nimport * as qs from 'query-string';\nimport KeyboardArrowLeftIcon from 'mdi-react/KeyboardArrowLeftIcon';\nimport { Link } from 'react-router-dom';\n\nconst query = loader('../../queries/Blog.graphql').loc.source.body;\n\nexport default function BlogRoll(props) {\n\n  const content = useContentBranch();\n  const [roll, setRoll] = useState();\n  const selectedCategory = qs.parse(props.location.search).category;\n\n  useEffect(\n    () => {\n      let sub = { unsubscribe: () => void null };\n      if (!!content.nav) {\n        const navItem = content.nav.find(item => props.location.pathname === item.url);\n        sub = ajax.post(\n          process.env.REACT_APP_GRAPHQL_SERVER,\n          { query, variables: { id: navItem.localId } },\n          { 'Content-Type': 'application/json; charset=UTF-8' }\n        ).pipe(\n          map(({ response }) => response.data),\n          catchError(({ response }) => [response])\n        ).subscribe((response) => {\n          setRoll({\n            blog: response.blog.items[0],\n            posts: response.post.items,\n            categories: response.categories.items[0].items.item\n          });\n        })\n      }\n      return () => sub.unsubscribe()\n    },\n    [content.nav != null]\n  );\n\n  if (!roll) {\n    return (\n      <Layout>\n        <Container>\n          <Row>\n            <Col md={12}>\n              <Spinner contained/>\n            </Col>\n          </Row>\n        </Container>\n      </Layout>\n    );\n  }\n\n  const posts = selectedCategory\n    ? roll.posts.filter(\n      ({categories_o}) => categories_o.item.some(i => i.key === selectedCategory)\n    )\n    : roll.posts;\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h1 className=\"page-title\">{roll.blog.title_s}</h1>\n          </Col>\n          <Col md={9}>\n            <Row>\n              {\n                posts.length === 0 && <Col sm={12}>\n                  <Card style={{ background: '#fff' }}>\n                    <Empty description=\"There are no posts at this time. Please check back often :)\"/>\n                  </Card>\n                </Col>\n              }\n              {\n                posts.map((post) =>\n                  <Col key={post.localId} xl={4} lg={6}>\n                    <BlogPostCard {...post} hideSummary/>\n                  </Col>\n                )\n              }\n            </Row>\n          </Col>\n          <Col md={3}>\n            <CategoryListing\n              categories={roll.categories}\n              selected={selectedCategory}\n            />\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport function CategoryListing(props) {\n  const { categories, selected } = props;\n  return (\n    categories && categories.length > 0 ? <div className=\"blog__sidebar-bar-block\">\n      <h2 className=\"blog__side-bar-title\">Categories</h2>\n      <nav className=\"blog__side-bar-list\">\n        {\n          selected\n            ? <>\n              <div>Viewing `{categories.find(({key}) => key === selected).value}`</div>\n              <Link to={`/blog`}>\n                <KeyboardArrowLeftIcon/> clear\n              </Link>\n            </>\n            : categories.map(({ key, value }) =>\n              <Link\n                key={key}\n                to={`/blog?category=${key}`}\n                className=\"blog__side-bar-item\"\n              >\n                {value}\n              </Link>\n            )\n        }\n      </nav>\n    </div> : <></>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport Layout from './Layout';\nimport { Container, Row, Col, Card, CardBody } from 'reactstrap';\nimport { CategoryListing } from './BlogRoll';\nimport { Link } from 'react-router-dom';\nimport { ajax } from 'rxjs/ajax';\nimport { catchError, map } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { getProducts, useProductsQuery } from '../../util/products';\n\nexport default function BlogEntry(props) {\n  const slug = props.match.params.slug;\n  return <Layout\n    requirements={[\n      {\n        name: 'categories',\n        optional: true,\n        getter: (content) => content.categories ? Object.values(content.categories.byId) : null\n      },\n      { name: 'post', getter: (content) => content.post && content.post.bySlug[slug] }\n    ]}\n    variables={{\n      post: [\n        { name: 'ageGroup', type: 'String', value: null },\n        { name: 'gender', type: 'String', value: null },\n        { name: 'slug', type: 'String', value: slug },\n        { name: 'limit', type: 'Int', value: 1 }\n      ]\n    }}\n    render={\n      (reqs) => (\n        <Container>\n          <Row>\n            <Col md={9}>\n              <Card>\n                <CardBody>\n                  <Post post={reqs.post}/>\n                </CardBody>\n              </Card>\n            </Col>\n            <Col md={3}>\n\n              <CategoryListing categories={reqs.categories}/>\n\n              <RelatedPosts categories={reqs.post.categories_o.item} slug={slug}/>\n              <RelatedProducts categories={reqs.post.categories_o.item}/>\n\n            </Col>\n          </Row>\n        </Container>\n      )\n    }\n  />;\n}\n\nfunction Post({ post }) {\n  const { title_s, image_s, author_s, subtitle_s, content_html_raw, categories_o, localId } = post;\n  return (\n    <>\n      <section className=\"post__head\">\n        <h1 className=\"post__title\">{title_s}</h1>\n        {subtitle_s && <p className=\"post__subtitle\">{subtitle_s}</p>}\n        {author_s && <p className=\"post__author\">By {author_s}</p>}\n      </section>\n      {image_s && <img className=\"post__image\" src={image_s} alt=\"\"/>}\n      <div className=\"post__body\" dangerouslySetInnerHTML={{ __html: content_html_raw }}/>\n      <div className=\"post__categories\">{categories_o.item.map((item) => item.value_smv).join(', ')}</div>\n    </>\n  );\n}\n\nfunction RelatedPosts({ categories, slug }) {\n  const [relatedPosts, setRelatedPosts] = useState();\n  useEffect(\n    () => {\n      ajax.post(\n        process.env.REACT_APP_GRAPHQL_SERVER,\n        {\n          query: `query {\n            posts: component_post (limit: 3, sortOrder: ASC, sortBy: \"title_s\") {\n              items {\n                title_s\n                image_s\n                slug_s(filter: { not: [{ equals: \"${slug}\" }]})\n                categories_o @skip(if: true) {\n                  item {\n                    key(filter: {matches: \"${categories[0].key}\"})\n                  }\n                }\n              }\n            }\n          }`\n        },\n        { 'Content-Type': 'application/json; charset=UTF-8' }\n      ).pipe(\n        map(({ response }) => (response.data.posts.items)),\n        catchError((response) => of(response)),\n      ).subscribe(posts => setRelatedPosts(posts));\n    },\n    [categories[0].key]\n  );\n  return (\n    relatedPosts ? <div className=\"blog__sidebar-bar-block\">\n      <h2 className=\"blog__side-bar-title\">Related Posts</h2>\n      <nav className=\"blog__side-bar-list\">\n        {\n          relatedPosts.map(({ title_s, image_s, slug_s }) =>\n            <Link key={slug_s} className=\"blog__side-bar-item\" to={`/blog/${slug_s}`}>\n              <img src={image_s} alt=\"\"/>\n              <h3 className=\"blog__related-post-title\">{title_s}</h3>\n            </Link>\n          )\n        }\n      </nav>\n    </div> : <></>\n  );\n}\n\nfunction RelatedProducts({ categories }) {\n  const [items, setItems] = useState();\n  const params = useProductsQuery();\n  useEffect(\n    () => {\n      getProducts({ limit: 3, offset: Math.floor(Math.random() * 11), ...params })\n        .subscribe(({ response }) => setItems(response.items));\n    },\n    [categories[0].key, params.locale, params.currency]\n  );\n  return (\n    items ? <div className=\"blog__sidebar-bar-block\">\n      <h2 className=\"blog__side-bar-title\">Related Products</h2>\n      <nav className=\"blog__side-bar-list\">\n        {\n          items.map(({ id, variants, name }) =>\n            <Link key={id} className=\"blog__side-bar-item blog__side-bar-item--horizontal\" to={`/catalog/${id}`}>\n              <img className=\"blog__side-bar-item-image\" src={variants[0].images[0].url} alt=\"\"/>\n              <h3 className=\"blog__related-post-title\">{name}</h3>\n            </Link>\n          )\n        }\n      </nav>\n    </div> : <></>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport Layout from './Layout';\nimport { Badge, Card, CardBody, Col, Container, Row } from 'reactstrap';\nimport * as qs from 'query-string';\n\nimport { SearchService } from '@craftercms/search';\n\nimport MagnifyIcon from 'mdi-react/MagnifyIcon';\nimport { Empty } from '../shared/Empty';\nimport { ajax } from 'rxjs/ajax';\nimport { Link } from 'react-router-dom';\nimport { capitalize } from '../../util/string';\nimport { crafterConf, getQuery } from '../../util/component';\nimport { getProducts, useProductsQuery } from '../../util/products';\n\nconst\n  ARTICLE = 'ARTICLE',\n  PRODUCT = 'PRODUCT';\n\nexport default function Search(props) {\n\n  const { q: query } = { q: '', ...qs.parse(props.location.search) };\n  const [value, setValue] = useState(query);\n\n  const [productResults, setProductResults] = useState();\n  const [contentResults, setContentResults] = useState();\n\n  const productsQueryParams = useProductsQuery({ q: query, limit: 10, offset: 10 });\n\n  useEffect(\n    () => {\n      if (query) {\n\n        SearchService.search(getQuery(query), crafterConf).subscribe((content) => {\n          setContentResults({\n            total: content.totalHits,\n            articles: content.hits.map(item => item.sourceAsMap)\n          });\n        });\n\n        getProducts(productsQueryParams).subscribe(({ response: catalog }) => {\n          setProductResults({\n            total: catalog.total,\n            products: catalog.items\n          });\n        });\n\n        setValue(query);\n\n      }\n    },\n    [query, productsQueryParams.locale, productsQueryParams.currency]\n  );\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={9}>\n            <Card>\n              <CardBody>\n                <div className=\"card__title\">\n                  <h1 className=\"bold-text\">Search</h1>\n                </div>\n                <form\n                  className=\"form\"\n                  onSubmit={(e) => {\n                    e.preventDefault();\n                    props.history.push(`/search?q=${value}`);\n                  }}\n                >\n                  <div className=\"form__form-group\">\n                    <div className=\"form__form-group-field\">\n                      <input name=\"q\" type=\"text\" placeholder=\"Search...\" value={value}\n                             onChange={(e) => setValue(e.target.value)}/>\n                      <button className=\"form__form-group-icon\">\n                        <MagnifyIcon/>\n                      </button>\n                    </div>\n                  </div>\n                </form>\n                {\n                  !query &&\n                  <Empty description=\"Please enter your search query to perform a search.\"/>\n                }\n                {\n                  contentResults && <>\n                    <h4>{`Search result for \"${query}\"`}</h4>\n                    <p className=\"subhead\">Found {contentResults.total} results.</p>\n                    <div>\n                      {\n                        contentResults.total === 0\n                          ? <Empty description=\"No results where found for your query.\"/>\n                          : contentResults.articles.map((item) =>\n                            <SearchResult\n                              key={item.objectId}\n                              type={ARTICLE}\n                              item={item}\n                            />\n                          )\n                      }\n                    </div>\n                  </>\n                }\n              </CardBody>\n            </Card>\n          </Col>\n          <Col md={3}>\n            {\n              productResults ?\n                productResults.total === 0\n                  ? 'No products matched your search'\n                  : <>\n                    <p className=\"subhead\">Products related to your search.</p>\n                    <div>\n                      {\n                        productResults.products.map((item) => <SearchResult\n                          key={item.id}\n                          type={PRODUCT}\n                          item={item}\n                        />)\n                      }\n                    </div>\n                  </>\n                : null\n            }\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport function SearchResult(props) {\n  const { type, item } = props;\n  const\n    title = item[type === ARTICLE ? 'title_s' : 'name'],\n    link = type === ARTICLE ? `/blog/${item.slug_s}` : `/catalog/${item.id}`,\n    preview = type === PRODUCT ? item.description : item.content_html.substr(0, 100),\n    img = type === PRODUCT ? item.variants[0].images[0].url : item.image_s;\n  return (\n    <div className=\"search-result\">\n      <Link to={link}>\n        <img className=\"search-result__img\" src={img} alt=\"\"/>\n      </Link>\n      <div className=\"search-result__content\">\n        <Link className=\"search-result__title\" to={link}>{title}</Link>\n        {type === PRODUCT ? null : <p className=\"search-result__preview\">{preview}</p>}\n        <Badge color=\"info\">{capitalize(type.toLowerCase())}</Badge>\n      </div>\n    </div>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useContext, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ProductListing from './app/ProductsListing';\nimport ProductDetails from './app/ProductDetails';\n\nimport LogIn from './app/LogIn';\nimport Register from './app/Register';\nimport Home from './app/Home';\nimport NotFound404 from './app/NotFoundView';\nimport CartView from './app/CartView';\nimport Account from './app/Account';\nimport CheckoutView from './app/CheckoutView';\nimport { AddressEntry } from './app/AddressCard';\nimport OrderDetails from './app/OrderDetails';\nimport BlogRoll from './app/BlogRoll';\nimport BlogEntry from './app/BlogEntry';\nimport Search from './app/Search';\nimport { __RouterContext } from 'react-router';\nimport { useSelector } from 'react-redux';\n\nconst Routes = () => {\n\n  const { history } = useContext(__RouterContext);\n  const { isAuthoring } = useSelector(state => state.theme);\n\n  useEffect(\n    () => {\n      if (isAuthoring) {\n        return history.listen((location) => {\n          window.require &&\n          window.require(['guest'], (guest) => {\n            guest.reportNavigation(location, location.pathname);\n          });\n        });\n      }\n    },\n    [isAuthoring]\n  );\n\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Home}/>\n      <Route exact path=\"/catalog\" component={ProductListing}/>\n      <Route path=\"/catalog/:product\" component={ProductDetails}/>\n      <Route path=\"/cart\" component={CartView}/>\n      <Route path=\"/checkout\" component={CheckoutView}/>\n      <Route exact path=\"/account/address-book/new\" component={AddressEntry}/>\n      <Route exact path=\"/account/address-book/edit/:id?\" component={AddressEntry}/>\n      <Route exact path=\"/account/orders/:id\" component={OrderDetails}/>\n      <Route path=\"/account/:tab?\" component={Account}/>\n      <Route exact path=\"/blog\" component={BlogRoll}/>\n      <Route path=\"/blog/:slug\" component={BlogEntry}/>\n      <Route path=\"/login\" component={LogIn}/>\n      <Route path=\"/register\" component={Register}/>\n      <Route path=\"/search\" component={Search}/>\n      <Route path=\"/\" component={NotFound404}/>\n    </Switch>\n  );\n};\n\nexport default Routes;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const CHANGE_THEME_TO_DARK = 'CHANGE_THEME_TO_DARK';\nexport const CHANGE_THEME_TO_LIGHT = 'CHANGE_THEME_TO_LIGHT';\nexport const SET_IS_AUTHORING = 'SET_IS_AUTHORING';\nexport const CHANGE_BORDER_RADIUS = 'CHANGE_BORDER_RADIUS';\nexport const TOGGLE_BOX_SHADOW = 'TOGGLE_BOX_SHADOW';\nexport const TOGGLE_TOP_NAVIGATION = 'TOGGLE_TOP_NAVIGATION';\n\nexport function changeThemeToDark() {\n  return {\n    type: CHANGE_THEME_TO_DARK,\n  };\n}\n\nexport function changeThemeToLight() {\n  return {\n    type: CHANGE_THEME_TO_LIGHT,\n  };\n}\n\nexport function setIsAuthoring(isAuthoring) {\n  return {\n    type: SET_IS_AUTHORING,\n    payload: { isAuthoring }\n  };\n}\n\nexport function changeBorderRadius() {\n  return {\n    type: CHANGE_BORDER_RADIUS,\n  };\n}\n\nexport function toggleBoxShadow() {\n  return {\n    type: TOGGLE_BOX_SHADOW,\n  };\n}\n\nexport function toggleTopNavigation() {\n  return {\n    type: TOGGLE_TOP_NAVIGATION,\n  };\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport {\n  CHANGE_THEME_TO_DARK,\n  CHANGE_THEME_TO_LIGHT,\n  SET_IS_AUTHORING,\n  CHANGE_BORDER_RADIUS,\n  TOGGLE_BOX_SHADOW,\n  TOGGLE_TOP_NAVIGATION\n} from '../actions/themeActions';\n\nconst initialState = {\n  isAuthoring: false,\n  className: 'theme-light',\n  squaredCorners: false,\n  withBoxShadow: false,\n  topNavigation: false,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_THEME_TO_DARK:\n      return { ...state, className: 'theme-dark' };\n    case CHANGE_THEME_TO_LIGHT:\n      return { ...state, className: 'theme-light' };\n    case SET_IS_AUTHORING:\n      return { ...state, isAuthoring: action.payload.isAuthoring };\n    case CHANGE_BORDER_RADIUS:\n      return { ...state, squaredCorners: !state.squaredCorners };\n    case TOGGLE_BOX_SHADOW:\n      return { ...state, withBoxShadow: !state.withBoxShadow };\n    case TOGGLE_TOP_NAVIGATION:\n      return { ...state, topNavigation: !state.topNavigation };\n    default:\n      return state;\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport function toLookupTable(array, prop = 'id') {\n  return array.reduce(\n    (table, item) => {\n      table[item[prop]] = item;\n      return table;\n    },\n    {}\n  )\n}\n\nexport function shuffle(source) {\n  let\n    array = [...source],\n    currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { FETCH_GRAPH, FETCH_GRAPH_COMPLETE, FETCH_GRAPH_FAILED } from '../actions/contentActions';\nimport { byIdLoadingKey, removeProp } from '../../util/redux';\nimport { toLookupTable } from '../../util/array';\nimport { LOGIN_COMPLETE } from '../actions/usersActions';\n\nconst initialState = {\n  nav: null,\n  header: null,\n  home: null,\n  footer: null,\n  store: null,\n  post: null,\n  categories: null,\n  loading: {},\n  errors: {}\n};\n\nexport default function contentReducer(state = initialState, action) {\n  const { payload, type } = action;\n  switch (type) {\n    case LOGIN_COMPLETE: {\n      return {\n        ...state,\n        home: null,\n        loading: removeProp(state.loading, byIdLoadingKey(FETCH_GRAPH, 'home'))\n      }\n    }\n    case FETCH_GRAPH: {\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [FETCH_GRAPH]: true,\n          ...payload.requirements.reduce(\n            (table, req) => {\n              const key = byIdLoadingKey(FETCH_GRAPH, req);\n              table[key] = true;\n              return table;\n            },\n            {}\n          )\n        }\n      };\n    }\n    case FETCH_GRAPH_COMPLETE: {\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [FETCH_GRAPH]: false,\n          ...action.rootPayload.requirements.reduce(\n            (table, req) => {\n              const key = byIdLoadingKey(FETCH_GRAPH, req);\n              table[key] = false;\n              return table;\n            },\n            {}\n          )\n        },\n        nav: getNav(payload) || state.nav,\n        header: getHeader(payload) || state.header,\n        home: getHome(payload) || state.home,\n        footer: getFooter(payload) || state.footer,\n        post: getPosts(state.post, payload),\n        categories: getCategories(state.categories, payload),\n        errors: removeProp(state.errors, FETCH_GRAPH),\n        store: getStore(state.store, payload)\n      };\n    }\n    case FETCH_GRAPH_FAILED: {\n      return {\n        ...state,\n        loading: removeProp(\n          state.loading,\n          FETCH_GRAPH,\n          ...action.rootPayload.requirements.map(req => byIdLoadingKey(FETCH_GRAPH, req))\n        ),\n        errors: {\n          ...state.errors,\n          [FETCH_GRAPH]: payload.errors\n        }\n      }\n    }\n    default:\n      return state;\n  }\n}\n\nfunction getHeader(data) {\n  return data && data.header ? data.header.items[0] : null;\n}\n\nfunction getFooter(data) {\n  return data && data.footer ? data.footer.items[0] : null;\n}\n\nfunction getNav(data) {\n  return data && data.nav ? data.nav.items : null;\n}\n\nfunction getHome(data) {\n  if (!data || !data.home)\n    return null;\n\n  const posts = data.post && data.post.items.length > 0 ? data.post.items : [];\n  const sections = data.home.items[0].sections_o.item;\n\n  return sections\n    .map(({ component, key, value }) => ({\n      localId: key,\n      label: value,\n      ...component,\n      ...component.contentType === '/component/blog_teaser' ? { posts_o: posts } : {}\n    }))\n    .filter(\n      (component) => ![\n        '/component/header',\n        '/component/footer'\n      ].includes(component.contentType)\n    );\n\n}\n\nfunction getPosts(state, payload) {\n  const data = payload && payload.post ? payload.post : null;\n  if (!data || !data && !state) {\n    return state;\n  }\n  return {\n    bySlug: {\n      ...state ? state.bySlug : {},\n      ...toLookupTable(data.items, 'slug_s')\n    }\n  };\n}\n\nfunction getStore(state, payload) {\n  const data = payload && payload.store ? payload.store : null;\n  if (!data || !data && !state) {\n    return state;\n  }\n  return {\n    ...payload.store.settings\n  };\n}\n\nfunction getCategories(state, payload) {\n  const data = payload && payload.categories ? payload.categories : null;\n  if (!data || !data && !state)\n    return state;\n  return {\n    byId: toLookupTable(payload.categories.items[0].items.item, 'key')\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport {\n  ADD_USER_ADDRESS,\n  ADD_USER_ADDRESS_COMPLETE,\n  ADD_USER_ADDRESS_FAILED,\n  EDIT_USER_ADDRESS,\n  EDIT_USER_ADDRESS_COMPLETE,\n  EDIT_USER_ADDRESS_FAILED, FETCH_ORDER, FETCH_ORDER_COMPLETE, FETCH_ORDER_FAILED,\n  FETCH_ORDERS,\n  FETCH_ORDERS_COMPLETE,\n  FETCH_ORDERS_FAILED, LOGIN,\n  LOGIN_COMPLETE,\n  LOGIN_FAILED,\n  LOGOUT_COMPLETE, REGISTRATION_COMPLETE,\n  REMOVE_USER_ADDRESS,\n  REMOVE_USER_ADDRESS_COMPLETE,\n  REMOVE_USER_ADDRESS_FAILED,\n  RESET_LOGIN_REDIRECT,\n  SET_LOGIN_REDIRECT, SET_PERSONA,\n  SET_USER_ADDRESS_DEFAULTS,\n  SET_USER_ADDRESS_DEFAULTS_COMPLETE,\n  SET_USER_ADDRESS_DEFAULTS_FAILED,\n  SUBMIT_REGISTRATION_FAILED\n} from '../actions/usersActions';\nimport { getRootType, removeProp } from '../../util/redux';\nimport { CHECKOUT_COMPLETE } from '../actions/productsActions';\nimport { toLookupTable } from '../../util/array';\n\nconst initialState = {\n  loading: {},\n  errors: {},\n  user: null,\n  orders: {},\n  persona: null,\n  loginRedirect: '/account',\n  registerConfirmPending: false\n};\n\nexport default function usersReducer(state = initialState, action) {\n  let { root, type, payload } = action;\n  if (!root) root = getRootType(type);\n  switch (type) {\n\n    case SET_PERSONA:\n      return {\n        ...state,\n        persona: payload.persona\n      };\n\n    case LOGIN:\n    case FETCH_ORDER:\n    case FETCH_ORDERS:\n    case ADD_USER_ADDRESS:\n    case EDIT_USER_ADDRESS:\n    case REMOVE_USER_ADDRESS:\n    case SET_USER_ADDRESS_DEFAULTS:\n      return {\n        ...state,\n        errors: removeProp(state.errors, type),\n        loading: {\n          ...state.loading,\n          [type]: true\n        }\n      };\n\n    case CHECKOUT_COMPLETE:\n    case FETCH_ORDER_COMPLETE:\n      return {\n        ...state,\n        orders: {\n          ...state.orders,\n          [payload.id]: payload\n        }\n      };\n\n    case LOGIN_COMPLETE:\n    case ADD_USER_ADDRESS_COMPLETE:\n    case EDIT_USER_ADDRESS_COMPLETE:\n    case REMOVE_USER_ADDRESS_COMPLETE:\n    case SET_USER_ADDRESS_DEFAULTS_COMPLETE:\n      return {\n        ...state,\n        persona: payload.attributes,\n        user: payload,\n        loading: {\n          ...state.loading,\n          [root]: false\n        }\n      };\n\n    case FETCH_ORDERS_COMPLETE:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_ORDERS),\n        loading: {\n          ...state.loading,\n          [FETCH_ORDERS]: false\n        },\n        orders: toLookupTable(payload.items)\n      };\n\n    case LOGOUT_COMPLETE:\n      return {\n        ...state,\n        user: null\n      };\n\n    case LOGIN_FAILED:\n    case FETCH_ORDER_FAILED:\n    case ADD_USER_ADDRESS_FAILED:\n    case EDIT_USER_ADDRESS_FAILED:\n    case REMOVE_USER_ADDRESS_FAILED:\n    case SET_USER_ADDRESS_DEFAULTS_FAILED:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [root]: false\n        },\n        errors: {\n          [root]: payload.message\n        }\n      };\n\n    case SUBMIT_REGISTRATION_FAILED:\n      return {\n        ...state,\n        errors: {\n          registration: payload.response.message\n        }\n      };\n    case FETCH_ORDERS_FAILED:\n      return payload.status === 403 ? {\n        ...state,\n        user: null\n      } : state;\n\n    case SET_LOGIN_REDIRECT:\n      return {\n        ...state,\n        loginRedirect: payload.url\n      };\n    case RESET_LOGIN_REDIRECT:\n      return {\n        ...state,\n        loginRedirect: initialState.loginRedirect\n      };\n\n    case REGISTRATION_COMPLETE:\n      return {\n        ...state,\n        registerConfirmPending: true\n      };\n\n    default:\n      return state;\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { LOGIN_COMPLETE } from '../actions/usersActions';\nimport {\n  ADD_TO_CART,\n  ADD_TO_CART_COMPLETE,\n  ADD_TO_CART_FAILED,\n  CHANGE_CURRENCY,\n  CHANGE_LOCALE,\n  CHECKOUT_COMPLETE,\n  FACETS_CHANGED,\n  FETCH_CART_COMPLETE,\n  FETCH_PRODUCT,\n  FETCH_PRODUCT_COMPLETE,\n  FETCH_PRODUCT_FAILED,\n  FETCH_PRODUCTS,\n  FETCH_PRODUCTS_COMPLETE,\n  FETCH_PRODUCTS_FAILED,\n  FETCH_SHIPPING_METHODS,\n  FETCH_SHIPPING_METHODS_COMPLETE,\n  FETCH_SHIPPING_METHODS_FAILED,\n  KEYWORDS_CHANGED, REMOVE_FROM_CART,\n  REMOVE_FROM_CART_COMPLETE, SET_STORE_SETTINGS,\n  UPDATE_CART,\n  UPDATE_CART_COMPLETE, UPDATE_CART_FAILED, UPDATE_CART_ITEM_QUANTITY,\n  UPDATE_CART_ITEM_QUANTITY_COMPLETE, UPDATE_CART_ITEM_QUANTITY_FAILED\n} from '../actions/productsActions';\nimport { toLookupTable } from '../../util/array';\nimport { byIdLoadingKey, getRootType, removeProp } from '../../util/redux';\nimport { FETCH_GRAPH_COMPLETE } from '../actions/contentActions';\n\nconst initialState = {\n  byId: null,\n  cart: null,\n  facets: [],\n  loading: {},\n  errors: {},\n  query: {\n    offset: 0,\n    limit: 10,\n    locale: 'en',\n    currency: 'USD'\n  }\n};\n\nexport default function productReducer(state = initialState, action) {\n  let { root, type, payload } = action;\n  if (root == null) root = getRootType(type);\n  switch (type) {\n\n    case ADD_TO_CART:\n    case UPDATE_CART:\n    case REMOVE_FROM_CART:\n    case UPDATE_CART_ITEM_QUANTITY:\n      return {\n        ...state,\n        errors: removeProp(state.errors, type),\n        loading: {\n          ...state.loading,\n          [type]: true\n        }\n      };\n\n    case CHECKOUT_COMPLETE:\n      return {\n        ...state,\n        cart: null\n      };\n\n    case FETCH_PRODUCTS:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_PRODUCTS),\n        loading: {\n          ...state.loading,\n          [FETCH_PRODUCTS]: true\n        },\n        query: payload.query\n          ? {\n            ...state.query,\n            ...payload.query\n          }\n          : state.query\n      };\n\n    case FETCH_PRODUCTS_COMPLETE:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [FETCH_PRODUCTS]: false\n        },\n        query: {\n          ...state.query,\n          total: payload.total\n        },\n        byId: toLookupTable(payload.items),\n        facets: payload.facets\n      };\n\n    case CHANGE_LOCALE:\n    case CHANGE_CURRENCY: {\n      return {\n        ...state,\n        query: {\n          ...state.query,\n          [type === CHANGE_LOCALE ? 'locale' : 'currency']: payload.value\n        }\n      }\n    }\n\n    case SET_STORE_SETTINGS: {\n      return {\n        ...state,\n        query: {\n          ...state.query,\n          ...payload\n        }\n      }\n    }\n\n    case FETCH_GRAPH_COMPLETE: {\n      // TODO: Enable optional chaining operator\n      if (payload && payload.store && payload.store.settings) {\n        return {\n          ...state,\n          query: {\n            ...state.query,\n            currency: payload.store.settings.currencies[0],\n            locale: payload.store.settings.locales[0]\n          }\n        };\n      } else {\n        return state;\n      }\n    }\n\n    case FETCH_PRODUCT:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_PRODUCT),\n        loading: {\n          ...state.loading,\n          [byIdLoadingKey(root, payload.id)]: true\n        }\n      };\n\n    case FETCH_PRODUCT_COMPLETE:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [byIdLoadingKey(root, payload.item.id)]: false\n        },\n        byId: {\n          ...state.byId,\n          [payload.item.id]: payload.item\n        }\n      };\n\n    case LOGIN_COMPLETE:\n      return payload.cart ? {\n        ...state,\n        cart: payload.cart\n      } : state;\n\n    case FETCH_CART_COMPLETE:\n    case UPDATE_CART_COMPLETE:\n    case ADD_TO_CART_COMPLETE:\n    case REMOVE_FROM_CART_COMPLETE:\n    case UPDATE_CART_ITEM_QUANTITY_COMPLETE:\n      return {\n        ...state,\n        cart: payload,\n        loading: {\n          ...state.loading,\n          [root]: false\n        }\n      };\n\n    case FACETS_CHANGED:\n      return {\n        ...state,\n        query: {\n          ...state.query,\n          ...payload.query\n        }\n      };\n\n    case KEYWORDS_CHANGED:\n      return {\n        ...state,\n        query: {\n          ...state.query,\n          keywords: payload.keywords\n        }\n      };\n\n    case FETCH_SHIPPING_METHODS:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_SHIPPING_METHODS),\n        loading: {\n          ...state.loading,\n          [FETCH_SHIPPING_METHODS]: true\n        }\n      };\n\n    case FETCH_SHIPPING_METHODS_COMPLETE:\n      return {\n        ...state,\n        shippingMethods: payload,\n        loading: {\n          ...state.loading,\n          [FETCH_SHIPPING_METHODS]: false\n        }\n      };\n\n\n    case ADD_TO_CART_FAILED:\n    case UPDATE_CART_FAILED:\n    case FETCH_PRODUCT_FAILED:\n    case FETCH_PRODUCTS_FAILED:\n    case FETCH_SHIPPING_METHODS_FAILED:\n    case UPDATE_CART_ITEM_QUANTITY_FAILED:\n      return {\n        ...state,\n        errors: {\n          ...state.errors,\n          [root]: payload.message || payload.response.message\n        },\n        loading: {\n          ...state.loading,\n          [root]: false\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { ofType } from 'redux-observable';\nimport {\n  LOGIN,\n  LOGOUT,\n  FETCH_ORDERS,\n  UNAUTHORIZED,\n  SUBMIT_REGISTRATION,\n  fetchOrdersComplete,\n  fetchOrdersFailed,\n  loginComplete,\n  loginFailed,\n  logoutComplete,\n  logoutFailed,\n  submitRegistrationComplete,\n  submitRegistrationFailed,\n  ADD_USER_ADDRESS,\n  addAddressComplete,\n  addAddressFailed,\n  EDIT_USER_ADDRESS,\n  editAddressComplete,\n  editAddressFailed,\n  REMOVE_USER_ADDRESS,\n  removeAddressFailed,\n  removeAddressComplete,\n  SET_USER_ADDRESS_DEFAULTS,\n  setAddressDefaultsComplete,\n  setAddressDefaultsFailed,\n  FETCH_ORDER,\n  fetchOrderFailed,\n  fetchOrderComplete\n} from '../actions/usersActions';\nimport { catchError, ignoreElements, map, switchMap, tap, withLatestFrom } from 'rxjs/operators';\nimport { ajax } from 'rxjs/ajax';\nimport { errorOp, mapOp } from '../../util/redux';\n\nexport function submitRegistrationEpic(action$, state$) {\n  return action$.pipe(\n    ofType(SUBMIT_REGISTRATION),\n    switchMap(() => {\n      const data = state$.value.form.registration.values;\n      return ajax.post(\n        `/api/1/customer/signup.json`,\n        data,\n        {\n          'Content-Type': 'application/json; charset=UTF-8'\n        }\n      ).pipe(\n        catchError((error) => [error])\n      );\n    }),\n    map((response) => {\n      if (response.name === 'AjaxError') {\n        return submitRegistrationFailed(response);\n      } else {\n        return submitRegistrationComplete(response.response);\n      }\n    })\n  );\n}\n\nexport const loginEpic = (action$, state$) => action$.pipe(\n  ofType(LOGIN),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/security/login.json`,\n      payload.data,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(\n      tap(() => setTimeout(() =>\n        payload.redirect &&\n        payload.redirect(state$.value.users.loginRedirect)\n      )),\n      errorOp\n    )\n  ),\n  mapOp(loginComplete, loginFailed)\n);\n\nexport const logoutEpic = (action$) => action$.pipe(\n  ofType(LOGOUT),\n  switchMap(({ payload }) =>\n    ajax\n      .post(`/api/1/security/logout.json`)\n      .pipe(\n        withLatestFrom([payload.redirect]),\n        errorOp\n      )\n  ),\n  map(([response, redirect]) => {\n    if (response.name === 'AjaxError') {\n      return logoutFailed(response);\n    } else {\n      redirect('/');\n      return logoutComplete(response.response);\n    }\n  })\n);\n\nexport const unauthorizedEpic = (action$) => action$.pipe(\n  ofType(UNAUTHORIZED),\n  tap(({ payload }) => payload.redirect('/login')),\n  ignoreElements()\n);\n\nexport const fetchOrdersEpic = (action$) => action$.pipe(\n  ofType(FETCH_ORDERS),\n  switchMap(() => ajax\n    .get(`/api/1/customer/orders.json`)\n    .pipe(errorOp)\n  ),\n  map((response) =>\n    (response.name === 'AjaxError')\n      ? fetchOrdersFailed(response)\n      : fetchOrdersComplete(response.response)\n  )\n);\n\nexport const fetchOrderEpic = (action$) => action$.pipe(\n  ofType(FETCH_ORDER),\n  switchMap(({ payload }) => ajax\n    .get(`/api/1/customer/orders/${payload.id}.json`)\n    .pipe(errorOp)\n  ),\n  mapOp(fetchOrderComplete, fetchOrderFailed)\n);\n\nexport const addUserAddressEpic = (action$) => action$.pipe(\n  ofType(ADD_USER_ADDRESS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      { addAddress: [payload.address] },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(addAddressComplete, addAddressFailed)\n);\n\nexport const editUserAddressEpic = (action$) => action$.pipe(\n  ofType(EDIT_USER_ADDRESS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      { changeAddress: [payload.address] },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(editAddressComplete, editAddressFailed)\n);\n\nexport const removeUserAddressEpic = (action$) => action$.pipe(\n  ofType(REMOVE_USER_ADDRESS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      { removeAddress: [{ id: payload.id }] },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(removeAddressComplete, removeAddressFailed)\n);\n\nexport const setAsDefaultAddressEpic = (action$) => action$.pipe(\n  ofType(SET_USER_ADDRESS_DEFAULTS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      {\n        ...payload.address.isBillingDefault ? { defaultBillingAddress: payload.address.id } : {},\n        ...payload.address.isShippingDefault ? { defaultShippingAddress: payload.address.id } : {}\n      },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    )\n  ),\n  mapOp(setAddressDefaultsComplete, setAddressDefaultsFailed)\n);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { ajax } from 'rxjs/ajax';\nimport { of } from 'rxjs';\n\nimport { loader } from 'graphql.macro';\nimport {\n  FETCH_GRAPH,\n  fetchGraphComplete,\n  fetchGraphFailed\n} from '../actions/contentActions';\nimport { combineEpics, ofType } from 'redux-observable';\nimport { capitalize } from '../../util/string';\nimport {\n  fetchProductEpic,\n  fetchProductsEpic,\n  fetchCartEpic,\n  addToCartEpic,\n  removeFromCartEpic,\n  updateCartItemEpic,\n  facetsChangedEpic,\n  updateCartEpic,\n  checkoutEpic\n} from './products';\nimport {\n  addUserAddressEpic,\n  editUserAddressEpic, fetchOrderEpic,\n  fetchOrdersEpic,\n  loginEpic,\n  logoutEpic, removeUserAddressEpic, setAsDefaultAddressEpic,\n  unauthorizedEpic\n} from './users';\nimport { fetchGraphEpic } from './content';\n\n// (action$: Observable<Action>, state$: StateObservable<State>): Observable<Action>;\n\nexport default combineEpics(\n  fetchProductEpic,\n  fetchProductsEpic,\n  fetchGraphEpic,\n  fetchCartEpic,\n  addToCartEpic,\n  removeFromCartEpic,\n  updateCartItemEpic,\n  fetchOrdersEpic,\n  loginEpic,\n  logoutEpic,\n  unauthorizedEpic,\n  facetsChangedEpic,\n  addUserAddressEpic,\n  editUserAddressEpic,\n  removeUserAddressEpic,\n  setAsDefaultAddressEpic,\n  updateCartEpic,\n  checkoutEpic,\n  fetchOrderEpic\n);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { ofType } from 'redux-observable';\nimport { switchMap, mapTo, map, withLatestFrom, pluck, tap } from 'rxjs/operators';\nimport { ajax } from 'rxjs/ajax';\n\nimport {\n  FETCH_CART,\n  ADD_TO_CART,\n  FETCH_PRODUCT,\n  FETCH_PRODUCTS,\n  FACETS_CHANGED,\n  REMOVE_FROM_CART,\n  UPDATE_CART_ITEM_QUANTITY,\n  UPDATE_CART,\n  UPDATE_CART_COMPLETE,\n  FETCH_SHIPPING_METHODS,\n  CHECKOUT,\n  addToCartComplete,\n  fetchCartComplete,\n  fetchProductComplete,\n  fetchProductsComplete,\n  updateCartItemQuantityComplete,\n  removeFromCartComplete,\n  fetchProducts,\n  fetchProductsFailed,\n  fetchCartFailed,\n  fetchProductFailed,\n  updateCartComplete,\n  updateCartFailed,\n  fetchShippingMethodsComplete,\n  fetchShippingMethodsFailed,\n  checkoutComplete,\n  checkoutFailed,\n  updateCartItemQuantityFailed,\n  addToCartFailed, removeFromCartFailed\n} from '../actions/productsActions';\nimport { errorOp, mapOp } from '../../util/redux';\n\nexport const fetchProductEpic = (action$, state$) => action$.pipe(\n  ofType(FETCH_PRODUCT),\n  withLatestFrom(state$.pipe(pluck('products'))),\n  switchMap(([{ payload }, state]) =>\n    ajax\n      .get(`/api/1/product/${payload.id}.json?locale=${state.query.locale}&currency=${state.query.currency}`)\n      .pipe(errorOp)\n  ),\n  mapOp(fetchProductComplete, fetchProductFailed)\n);\n\nexport const fetchProductsEpic = (action$, state$) => action$.pipe(\n  ofType(FETCH_PRODUCTS),\n  withLatestFrom(state$.pipe(pluck('products'))),\n  switchMap(([action, state]) => {\n    const { query } = state;\n    const qs = [];\n\n    Object.entries(query).forEach(([key, value]) => {\n      if (key !== 'total' && value != null && value !== '') {\n        if (Array.isArray(value)) {\n          (value.length > 0) && qs.push(`filter=${key}:${value.join(',')}`)\n        } else if (typeof value === 'object') {\n          qs.push(`filter=${key}:${value.min};${value.max}`);\n        } else {\n          qs.push(`${key}=${value}`);\n        }\n      }\n    });\n\n    return ajax\n      .get(`/api/1/product/all.json?${qs.join('&')}`)\n      .pipe(errorOp);\n  }),\n  mapOp(fetchProductsComplete, fetchProductsFailed)\n);\n\nexport const fetchCartEpic = (action$) => action$.pipe(\n  ofType(FETCH_CART),\n  switchMap(() => ajax.get('/api/1/cart/current.json').pipe(errorOp)),\n  mapOp(fetchCartComplete, fetchCartFailed)\n);\n\nexport const addToCartEpic = (action$) => action$.pipe(\n  ofType(ADD_TO_CART),\n  switchMap(\n    ({ payload }) => ajax.post(\n      '/api/1/cart/item/add.json',\n      payload,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(addToCartComplete, addToCartFailed)\n);\n\nexport const updateCartItemEpic = (action$) => action$.pipe(\n  ofType(UPDATE_CART_ITEM_QUANTITY),\n  switchMap(\n    ({ payload }) => ajax.post(\n      '/api/1/cart/item/change.json',\n      { itemId: payload.id, quantity: payload.quantity },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(updateCartItemQuantityComplete, updateCartItemQuantityFailed)\n);\n\nexport const updateCartEpic = (action$) => action$.pipe(\n  ofType(UPDATE_CART),\n  switchMap(({ payload }) =>\n    ajax.post(\n      '/api/1/cart/update.json',\n      payload,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(updateCartComplete, updateCartFailed)\n);\n\nexport const fetchShippingMethodsEpic = (action$) => action$.pipe(\n  ofType(UPDATE_CART_COMPLETE, FETCH_SHIPPING_METHODS),\n  switchMap(() =>\n    ajax\n      .get('/api/1/cart/shipping-methods.json')\n      .pipe(errorOp)\n  ),\n  mapOp(fetchShippingMethodsComplete, fetchShippingMethodsFailed)\n);\n\nexport const removeFromCartEpic = (action$) => action$.pipe(\n  ofType(REMOVE_FROM_CART),\n  switchMap(({ payload }) =>\n    ajax.post(\n      '/api/1/cart/item/change.json',\n      { itemId: payload.id, quantity: 0 },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(removeFromCartComplete, removeFromCartFailed)\n);\n\nexport const facetsChangedEpic = (action$) => action$.pipe(\n  ofType(FACETS_CHANGED),\n  mapTo(fetchProducts())\n);\n\nexport const checkoutEpic = (action$) => action$.pipe(\n  ofType(CHECKOUT),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/cart/checkout.json`,\n      payload.data.card,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    )\n    .pipe(\n      tap(({ response }) => payload.redirect(`/account/orders/${response.id}`)),\n      errorOp\n    )\n  ),\n  mapOp(checkoutComplete, checkoutFailed)\n);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { loader } from 'graphql.macro';\nimport { ofType } from 'redux-observable';\nimport { FETCH_GRAPH, FETCH_GRAPH_COMPLETE, fetchGraphComplete, fetchGraphFailed } from '../actions/contentActions';\nimport { catchError, map, mapTo, switchMap, filter } from 'rxjs/operators';\nimport { capitalize } from '../../util/string';\nimport { ajax } from 'rxjs/ajax';\nimport { of } from 'rxjs';\nimport { changeCurrency, changeLocale, setStoreSettings } from '../actions/productsActions';\n\nexport function fetchGraphEpic(action$) {\n  return action$.pipe(\n    ofType(FETCH_GRAPH),\n    switchMap(({ payload }) => {\n      const { requirements, variables } = payload;\n      return of( fetchGraphComplete( \n\n\n\n{\n  \"nav\": {\n    \"items\": [\n      {\n        \"url\": \"/\",\n        \"label\": \"Home\",\n        \"localId\": \"/site/website/index.xml\"\n      },\n      {\n        \"url\": \"/blog\",\n        \"label\": \"Blog\",\n        \"localId\": \"/site/website/blog/index.xml\"\n      }\n    ]\n  },\n  \"header\": {\n    \"items\": [\n      {\n        \"localId\": \"/site/components/headers/685fa223-9083-a2d6-c668-a08157db5490.xml\",\n        \"objectId\": \"685fa223-9083-a2d6-c668-a08157db5490\",\n        \"logo_s\": \"/images/logos/sunrise-logo.svg\",\n        \"logo_url_s\": \"/\",\n        \"logo_alt_t\": \"Crafter E-Commerce\",\n        \"buttons_o\": {\n          \"item\": [\n            {\n              \"label_s\": \"Sign Up\",\n              \"link_s\": \"/sign-up\"\n            }\n          ]\n        }\n      }\n    ]\n  },\n  \"footer\": {\n    \"items\": [\n      {\n        \"localId\": \"/site/components/footers/44e945bd-563c-c2c5-f223-a9c14471cd3c.xml\",\n        \"objectId\": \"44e945bd-563c-c2c5-f223-a9c14471cd3c\",\n        \"logo_s\": \"/images/logos/crafter-cms.svg\",\n        \"logo_url_s\": \"https://craftercms.org\",\n        \"logo_alt_t\": \"Crafter CMS\"\n      }\n    ]\n  },\n  \"store\": {\n    \"settings\": {\n      \"name\": \"Acme\",\n      \"locales\": [\n        \"en\"\n      ],\n      \"currencies\": [\n        \"USD\"\n      ]\n    }\n  },\n  \"home\": {\n    \"items\": [\n      {\n        \"sections_o\": {\n          \"item\": [\n            {\n              \"key\": \"/site/components/page/8d7f21fa-5e09-00aa-8340-853b7db302da/afcc4f84-f568-955c-1faf-a17975aa0b9e.xml\",\n              \"value\": \"Home Page Hero\",\n              \"component\": {\n                \"contentType\": \"/component/hero\",\n                \"objectId\": \"afcc4f84-f568-955c-1faf-a17975aa0b9e\",\n                \"image_s\": \"/images/page/afcc4f84-f568-955c-1faf-a17975aa0b9e/1.jpg\",\n                \"title_t\": \"City Essentials\",\n                \"content_html_raw\": \"<p>MAKE TODAY HAPPEN</p>\",\n                \"section_background_image_s\": \"/images/page/afcc4f84-f568-955c-1faf-a17975aa0b9e/header-gradient-blue.svg\",\n                \"buttons_o\": {\n                  \"item\": [\n                    {\n                      \"label_s\": \"Shop Collection\",\n                      \"link_s\": \"/catalog\"\n                    }\n                  ]\n                }\n              }\n            },\n            {\n              \"key\": \"/site/components/page/8d7f21fa-5e09-00aa-8340-853b7db302da/home-product-teaser.xml\",\n              \"value\": \"Home Product Teaser\",\n              \"component\": {\n                \"contentType\": \"/component/product-teaser\",\n                \"objectId\": \"b7a3ab68-396e-1856-8db9-5e1b0d364bcb\",\n                \"title_s\": \"From The Catalog...\",\n                \"numOfProducts_i\": 3\n              }\n            },\n            {\n              \"key\": \"/site/components/page/8d7f21fa-5e09-00aa-8340-853b7db302da/7e169b07-0f58-8818-2b4c-bd25ecd2409b.xml\",\n              \"value\": \"Home Blog Teaser\",\n              \"component\": {\n                \"contentType\": \"/component/blog_teaser\",\n                \"objectId\": \"7e169b07-0f58-8818-2b4c-bd25ecd2409b\",\n                \"title_s\": \"Latest blogs\"\n              }\n            },\n            {\n              \"key\": \"/site/components/page/8d7f21fa-5e09-00aa-8340-853b7db302da/400fa07c-4fa5-3b22-6c31-c15f581b767a.xml\",\n              \"value\": \"Two Columns - Right image, left content\",\n              \"component\": {\n                \"contentType\": \"/component/two-column\",\n                \"title_s\": \"Here Comes The Sun\",\n                \"image_s\": \"/images/page/400fa07c-4fa5-3b22-6c31-c15f581b767a/top-right.bed4700e.jpg\",\n                \"objectId\": \"400fa07c-4fa5-3b22-6c31-c15f581b767a\",\n                \"contentAlignment_s\": \"right\",\n                \"content_html_raw\": \"<p>FABULOUS EVERY DAY - SUMMER CHIC 😎</p> <p>Between rising temperature outside and cool A/C inside, dressing for the the summer can be a tricky business. Luckily, we pulled together the most inspiring looks for. Check out our must-to-have-it pieces.</p>\",\n                \"section_background_image_s\": null\n              }\n            },\n            {\n              \"key\": \"/site/components/page/8d7f21fa-5e09-00aa-8340-853b7db302da/c8a45606-4804-a83a-bdde-44292dce1ab3.xml\",\n              \"value\": \"Two Columns - Left Image, Right Content\",\n              \"component\": {\n                \"contentType\": \"/component/two-column\",\n                \"title_s\": \"Accessories For The Perfect Summer\",\n                \"image_s\": \"/images/page/c8a45606-4804-a83a-bdde-44292dce1ab3/top-left.b27bc488.jpg\",\n                \"objectId\": \"c8a45606-4804-a83a-bdde-44292dce1ab3\",\n                \"contentAlignment_s\": \"left\",\n                \"content_html_raw\": \"<p>The weather is heating up, but you don&rsquo;t have the right outfit yet. Thankfully, we are here to help you out. Spring break is upon us and it's essential to migrate. So whether you're jetting off to Ibiza or Mallorca for a party vacation or getting away to greener pastures - here are the fashion pieces we'll be stashing in ourfavorite getaway bags.</p>\",\n                \"section_background_image_s\": \"/images/page/c8a45606-4804-a83a-bdde-44292dce1ab3/body-gradient-right.svg\"\n              }\n            },\n            {\n              \"key\": \"/site/components/page/8d7f21fa-5e09-00aa-8340-853b7db302da/eba9134c-0b15-5f87-1b28-bf746535d8e2.xml\",\n              \"value\": \"Home Page Features\",\n              \"component\": {\n                \"contentType\": \"/component/feature-list\",\n                \"objectId\": \"eba9134c-0b15-5f87-1b28-bf746535d8e2\",\n                \"title_s\": \"Our Commitment\",\n                \"openingContent_html_raw\": \"<p>The journey to making better things in a better way is a long one, and we&rsquo;re just getting started. Here are a few of our proudest moments so far:</p>\",\n                \"closingContent_html_raw\": null,\n                \"features_o\": {\n                  \"item\": [\n                    {\n                      \"icon_s\": \"/images/icons/b-corp.svg\",\n                      \"title_s\": \"B CORP\",\n                      \"description_t\": \"As a certified B Corp, we do business differently. The environment is a stakeholder here, and how we treat it is just as important as the bottom line.\"\n                    },\n                    {\n                      \"icon_s\": \"/images/icons/s4s.svg\",\n                      \"title_s\": \"SOLES4SOULS®\",\n                      \"description_t\": \"Thanks to our friends at Soles4Souls®, lightly used products find new life all around the world, helping communities in need thrive in the process.\"\n                    }\n                  ]\n                }\n              }\n            },\n            {\n              \"key\": \"/site/components/page/8d7f21fa-5e09-00aa-8340-853b7db302da/49fff40d-2751-1f03-c9e3-74ee66797113.xml\",\n              \"value\": \"Home Page Testimonials\",\n              \"component\": {\n                \"contentType\": \"/component/testimonials\",\n                \"objectId\": \"49fff40d-2751-1f03-c9e3-74ee66797113\",\n                \"title_s\": \"Testimonials\",\n                \"testimonials_o\": {\n                  \"item\": [\n                    {\n                      \"link_s\": \"http://www.example.com\",\n                      \"stars_i\": 4,\n                      \"customer_s\": \"Pharetra Tortor\",\n                      \"description_html_raw\": \"<p>Nullam quis risus eget urna mollis ornare vel eu leo. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam.</p>\"\n                    },\n                    {\n                      \"link_s\": \"http://www.example.com\",\n                      \"stars_i\": 5,\n                      \"customer_s\": \"Euismod Porta\",\n                      \"description_html_raw\": \"<p>Curabitur blandit tempus porttitor. Cras mattis consectetur purus sit amet fermentum. Integer posuere erat a ante venenatis dapibus posuere velit aliquet.</p>\"\n                    },\n                    {\n                      \"link_s\": \"http://www.example.com\",\n                      \"stars_i\": 5,\n                      \"customer_s\": \"Adipiscing Justo Amet\",\n                      \"description_html_raw\": \"<p>Maecenas faucibus mollis interdum. Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>\"\n                    }\n                  ]\n                }\n              }\n            }\n          ]\n        }\n      }\n    ]\n  },\n  \"post\": {\n    \"total\": 12,\n    \"items\": [\n      {\n        \"label\": \"Black and White\",\n        \"slug_s\": \"black-and-white\",\n        \"localId\": \"/site/components/posts/2019/10/14/b2b1c932-551f-e641-9394-bace726fd4e4.xml\",\n        \"title_s\": \"Black and White\",\n        \"image_s\": \"/images/post/b2b1c932-551f-e641-9394-bace726fd4e4/naeim-jafari-svQZUVLOLjM-unsplash.jpg\",\n        \"author_s\": \"Jane Smith\",\n        \"subtitle_s\": null,\n        \"content__type\": \"/component/post\",\n        \"content_html_raw\": \"<p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam tincidunt at nulla eget maximus. Nullam neque massa, malesuada vel est id, consectetur tempor sapien. Vestibulum id massa sed tellus condimentum congue sit amet nec lorem. Ut quis massa a mi pharetra cursus ac in mauris. Fusce sit amet lorem hendrerit, fermentum dolor ac, molestie augue. Nam nec rhoncus orci. Phasellus in libero in purus hendrerit tincidunt vitae malesuada orci. Cras turpis lectus, ornare bibendum purus a, ullamcorper fermentum sem. Sed nec pretium lorem, et scelerisque arcu. Integer nec risus felis. Etiam vitae nulla quam. Ut tortor sem, egestas ac urna vitae, ornare fringilla mauris. Proin sagittis diam vitae sodales eleifend. Nunc ut orci et urna congue ullamcorper id id justo. Cras sagittis eleifend blandit.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\"><span style=\\\"box-sizing: inherit;\\\">Female Male Child Teen Adult Senior T-Shirts Jackets Boots Blazers Trousers Sandals Sneakers Sunglasses Lace-up Shoes Wallets Shirts</span><br style=\\\"box-sizing: inherit;\\\" /></p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Proin euismod tempor purus, quis malesuada ipsum bibendum gravida. Mauris et congue ipsum. Fusce ut lacus semper, eleifend quam quis, interdum dui. Proin eu leo eu leo condimentum sodales sit amet sed augue. Nam posuere ut justo ut consectetur. Cras in dapibus urna. Maecenas orci dolor, ultrices id ex sed, posuere efficitur lorem. Aenean felis mi, tincidunt vitae vestibulum vel, mollis ut felis. Proin faucibus nunc porta massa varius, ut posuere dui rhoncus. Nunc dictum hendrerit odio, a interdum nunc dignissim eu.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Phasellus et facilisis libero. Nam vulputate vitae lacus nec lacinia. Proin finibus aliquam erat. Ut vehicula a nulla ac gravida. Donec tempus, nibh ac sagittis feugiat, lectus ipsum venenatis mi, sit amet gravida ipsum lectus quis massa. Donec viverra tincidunt urna, eget rutrum orci tincidunt ac. Curabitur efficitur tempor nunc, et condimentum turpis posuere ac. Curabitur tempus id eros at feugiat. Maecenas volutpat augue at urna finibus tempus. Donec tempor tortor semper eros pharetra posuere. Maecenas vel ultrices lacus, et viverra nisi. Sed porta leo lacus, ut interdum nibh mollis eu. Integer sed arcu et enim facilisis iaculis. Suspendisse potenti. Quisque gravida leo dui, quis auctor turpis tristique nec.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Morbi at vulputate mauris. Vestibulum ac scelerisque nibh. Nunc porttitor risus ut ante auctor volutpat. Donec malesuada nulla at arcu maximus, ut tincidunt arcu gravida. Integer ac egestas libero. Nullam condimentum mauris sed lobortis ultrices. Vivamus a viverra odio, et tincidunt orci. Etiam venenatis mi sit amet nibh pulvinar fringilla. Morbi interdum est at enim pulvinar, sed consectetur justo euismod. Integer porta elit nec sem lobortis, nec bibendum orci malesuada. In efficitur placerat justo, in pulvinar turpis egestas id.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-family: 'Open Sans', sans-serif; font-size: 13px; padding: 0px; text-align: justify; background-color: #ffffff;\\\"><span style=\\\"box-sizing: inherit; font-family: 'Open Sans', Arial, sans-serif;\\\"><span style=\\\"box-sizing: inherit; font-size: 14px;\\\">Female Male Child Teen Adult Senior T-Shirts Jackets Boots Blazers Trousers Sandals Sneakers Sunglasses Lace-up Shoes Wallets Shirts</span></span></p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Vivamus ante nunc, suscipit vitae nunc ut, varius pellentesque libero. In justo risus, maximus ut vehicula eu, semper non erat. Mauris eget aliquet dui, vitae pretium enim. Phasellus sit amet neque nisl. Donec at nunc at ligula placerat lobortis a vel ligula. Sed interdum eros ut lacinia bibendum. Phasellus at purus leo. Vivamus et ultricies sem. Nunc vel pellentesque nisi. Donec et fringilla diam. Etiam ullamcorper lectus in nulla cursus pulvinar eu et lacus. Praesent suscipit vehicula mauris, vel mattis libero consequat eget. Cras vel porttitor ipsum. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nullam leo sapien, mollis at tempus a, volutpat id dui.</p>\",\n        \"summary_html_raw\": \"<p><span style=\\\"font-family: 'Open Sans', Arial, sans-serif; font-size: 14px; text-align: justify; background-color: #ffffff;\\\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam tincidunt at nulla eget maximus. Nullam neque massa, malesuada vel est id, consectetur tempor sapien.</span></p>\",\n        \"categories_o\": {\n          \"item\": [\n            {\n              \"key\": \"dresses\",\n              \"value_smv\": \"Dresses\"\n            },\n            {\n              \"key\": \"trousers\",\n              \"value_smv\": \"Trousers\"\n            },\n            {\n              \"key\": \"shirts\",\n              \"value_smv\": \"Shirts\"\n            }\n          ]\n        }\n      },\n      {\n        \"label\": \"Should You Shop Clearance\",\n        \"slug_s\": \"should-you-shop-clearance\",\n        \"localId\": \"/site/components/posts/2019/10/14/fb249864-8ca6-2083-ba78-f392a6aef5f5.xml\",\n        \"title_s\": \"Should You Shop Clearance?\",\n        \"image_s\": \"/images/post/fb249864-8ca6-2083-ba78-f392a6aef5f5/jeff-sheldon-Lj1S1_KD61k-unsplash.jpg\",\n        \"author_s\": \"Jane Smith\",\n        \"subtitle_s\": null,\n        \"content__type\": \"/component/post\",\n        \"content_html_raw\": \"<p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam tincidunt at nulla eget maximus. Nullam neque massa, malesuada vel est id, consectetur tempor sapien. Vestibulum id massa sed tellus condimentum congue sit amet nec lorem. Ut quis massa a mi pharetra cursus ac in mauris. Fusce sit amet lorem hendrerit, fermentum dolor ac, molestie augue. Nam nec rhoncus orci. Phasellus in libero in purus hendrerit tincidunt vitae malesuada orci. Cras turpis lectus, ornare bibendum purus a, ullamcorper fermentum sem. Sed nec pretium lorem, et scelerisque arcu. Integer nec risus felis. Etiam vitae nulla quam. Ut tortor sem, egestas ac urna vitae, ornare fringilla mauris. Proin sagittis diam vitae sodales eleifend. Nunc ut orci et urna congue ullamcorper id id justo. Cras sagittis eleifend blandit.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\"><span style=\\\"box-sizing: inherit;\\\">Female Male Child Teen Adult Senior T-Shirts Jackets Boots Blazers Trousers Sandals Sneakers Sunglasses Lace-up Shoes Wallets Shirts</span><br style=\\\"box-sizing: inherit;\\\" /></p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Proin euismod tempor purus, quis malesuada ipsum bibendum gravida. Mauris et congue ipsum. Fusce ut lacus semper, eleifend quam quis, interdum dui. Proin eu leo eu leo condimentum sodales sit amet sed augue. Nam posuere ut justo ut consectetur. Cras in dapibus urna. Maecenas orci dolor, ultrices id ex sed, posuere efficitur lorem. Aenean felis mi, tincidunt vitae vestibulum vel, mollis ut felis. Proin faucibus nunc porta massa varius, ut posuere dui rhoncus. Nunc dictum hendrerit odio, a interdum nunc dignissim eu.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Phasellus et facilisis libero. Nam vulputate vitae lacus nec lacinia. Proin finibus aliquam erat. Ut vehicula a nulla ac gravida. Donec tempus, nibh ac sagittis feugiat, lectus ipsum venenatis mi, sit amet gravida ipsum lectus quis massa. Donec viverra tincidunt urna, eget rutrum orci tincidunt ac. Curabitur efficitur tempor nunc, et condimentum turpis posuere ac. Curabitur tempus id eros at feugiat. Maecenas volutpat augue at urna finibus tempus. Donec tempor tortor semper eros pharetra posuere. Maecenas vel ultrices lacus, et viverra nisi. Sed porta leo lacus, ut interdum nibh mollis eu. Integer sed arcu et enim facilisis iaculis. Suspendisse potenti. Quisque gravida leo dui, quis auctor turpis tristique nec.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Morbi at vulputate mauris. Vestibulum ac scelerisque nibh. Nunc porttitor risus ut ante auctor volutpat. Donec malesuada nulla at arcu maximus, ut tincidunt arcu gravida. Integer ac egestas libero. Nullam condimentum mauris sed lobortis ultrices. Vivamus a viverra odio, et tincidunt orci. Etiam venenatis mi sit amet nibh pulvinar fringilla. Morbi interdum est at enim pulvinar, sed consectetur justo euismod. Integer porta elit nec sem lobortis, nec bibendum orci malesuada. In efficitur placerat justo, in pulvinar turpis egestas id.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-family: 'Open Sans', sans-serif; font-size: 13px; padding: 0px; text-align: justify; background-color: #ffffff;\\\"><span style=\\\"box-sizing: inherit; font-family: 'Open Sans', Arial, sans-serif;\\\"><span style=\\\"box-sizing: inherit; font-size: 14px;\\\">Female Male Child Teen Adult Senior T-Shirts Jackets Boots Blazers Trousers Sandals Sneakers Sunglasses Lace-up Shoes Wallets Shirts</span></span></p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Vivamus ante nunc, suscipit vitae nunc ut, varius pellentesque libero. In justo risus, maximus ut vehicula eu, semper non erat. Mauris eget aliquet dui, vitae pretium enim. Phasellus sit amet neque nisl. Donec at nunc at ligula placerat lobortis a vel ligula. Sed interdum eros ut lacinia bibendum. Phasellus at purus leo. Vivamus et ultricies sem. Nunc vel pellentesque nisi. Donec et fringilla diam. Etiam ullamcorper lectus in nulla cursus pulvinar eu et lacus. Praesent suscipit vehicula mauris, vel mattis libero consequat eget. Cras vel porttitor ipsum. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nullam leo sapien, mollis at tempus a, volutpat id dui.</p>\",\n        \"summary_html_raw\": \"<p><span style=\\\"font-family: 'Open Sans', Arial, sans-serif; font-size: 14px; text-align: justify; background-color: #ffffff;\\\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam tincidunt at nulla eget maximus. Nullam neque massa, malesuada vel est id, consectetur tempor sapien.</span></p>\",\n        \"categories_o\": {\n          \"item\": [\n            {\n              \"key\": \"t-shirts\",\n              \"value_smv\": \"T-Shirts\"\n            },\n            {\n              \"key\": \"boots\",\n              \"value_smv\": \"Boots\"\n            },\n            {\n              \"key\": \"trousers\",\n              \"value_smv\": \"Trousers\"\n            },\n            {\n              \"key\": \"sneakers\",\n              \"value_smv\": \"Sneakers\"\n            },\n            {\n              \"key\": \"lace-up-shoes\",\n              \"value_smv\": \"Lace-up Shoes\"\n            },\n            {\n              \"key\": \"shirts\",\n              \"value_smv\": \"Shirts\"\n            },\n            {\n              \"key\": \"dresses\",\n              \"value_smv\": \"Dresses\"\n            },\n            {\n              \"key\": \"wallets\",\n              \"value_smv\": \"Wallets\"\n            },\n            {\n              \"key\": \"sunglasses\",\n              \"value_smv\": \"Sunglasses\"\n            },\n            {\n              \"key\": \"sandals\",\n              \"value_smv\": \"Sandals\"\n            },\n            {\n              \"key\": \"blazers\",\n              \"value_smv\": \"Blazers\"\n            },\n            {\n              \"key\": \"jackets\",\n              \"value_smv\": \"Jackets\"\n            }\n          ]\n        }\n      },\n      {\n        \"label\": \"Urban Styles for Men\",\n        \"slug_s\": \"urben-styles-for-men\",\n        \"localId\": \"/site/components/posts/2019/10/14/dd82e32b-4e2e-d6df-a7d4-4227413d4c6f.xml\",\n        \"title_s\": \"Urban Styles for Men\",\n        \"image_s\": \"/images/post/dd82e32b-4e2e-d6df-a7d4-4227413d4c6f/mubariz-mehdizadeh-o-wlIFT4zE4-unsplash.jpg\",\n        \"author_s\": \"Joe Bloggs\",\n        \"subtitle_s\": null,\n        \"content__type\": \"/component/post\",\n        \"content_html_raw\": \"<p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam tincidunt at nulla eget maximus. Nullam neque massa, malesuada vel est id, consectetur tempor sapien. Vestibulum id massa sed tellus condimentum congue sit amet nec lorem. Ut quis massa a mi pharetra cursus ac in mauris. Fusce sit amet lorem hendrerit, fermentum dolor ac, molestie augue. Nam nec rhoncus orci. Phasellus in libero in purus hendrerit tincidunt vitae malesuada orci. Cras turpis lectus, ornare bibendum purus a, ullamcorper fermentum sem. Sed nec pretium lorem, et scelerisque arcu. Integer nec risus felis. Etiam vitae nulla quam. Ut tortor sem, egestas ac urna vitae, ornare fringilla mauris. Proin sagittis diam vitae sodales eleifend. Nunc ut orci et urna congue ullamcorper id id justo. Cras sagittis eleifend blandit.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\"><span style=\\\"box-sizing: inherit;\\\">Female Male Child Teen Adult Senior T-Shirts Jackets Boots Blazers Trousers Sandals Sneakers Sunglasses Lace-up Shoes Wallets Shirts</span><br style=\\\"box-sizing: inherit;\\\" /></p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Proin euismod tempor purus, quis malesuada ipsum bibendum gravida. Mauris et congue ipsum. Fusce ut lacus semper, eleifend quam quis, interdum dui. Proin eu leo eu leo condimentum sodales sit amet sed augue. Nam posuere ut justo ut consectetur. Cras in dapibus urna. Maecenas orci dolor, ultrices id ex sed, posuere efficitur lorem. Aenean felis mi, tincidunt vitae vestibulum vel, mollis ut felis. Proin faucibus nunc porta massa varius, ut posuere dui rhoncus. Nunc dictum hendrerit odio, a interdum nunc dignissim eu.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Phasellus et facilisis libero. Nam vulputate vitae lacus nec lacinia. Proin finibus aliquam erat. Ut vehicula a nulla ac gravida. Donec tempus, nibh ac sagittis feugiat, lectus ipsum venenatis mi, sit amet gravida ipsum lectus quis massa. Donec viverra tincidunt urna, eget rutrum orci tincidunt ac. Curabitur efficitur tempor nunc, et condimentum turpis posuere ac. Curabitur tempus id eros at feugiat. Maecenas volutpat augue at urna finibus tempus. Donec tempor tortor semper eros pharetra posuere. Maecenas vel ultrices lacus, et viverra nisi. Sed porta leo lacus, ut interdum nibh mollis eu. Integer sed arcu et enim facilisis iaculis. Suspendisse potenti. Quisque gravida leo dui, quis auctor turpis tristique nec.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Morbi at vulputate mauris. Vestibulum ac scelerisque nibh. Nunc porttitor risus ut ante auctor volutpat. Donec malesuada nulla at arcu maximus, ut tincidunt arcu gravida. Integer ac egestas libero. Nullam condimentum mauris sed lobortis ultrices. Vivamus a viverra odio, et tincidunt orci. Etiam venenatis mi sit amet nibh pulvinar fringilla. Morbi interdum est at enim pulvinar, sed consectetur justo euismod. Integer porta elit nec sem lobortis, nec bibendum orci malesuada. In efficitur placerat justo, in pulvinar turpis egestas id.</p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-family: 'Open Sans', sans-serif; font-size: 13px; padding: 0px; text-align: justify; background-color: #ffffff;\\\"><span style=\\\"box-sizing: inherit; font-family: 'Open Sans', Arial, sans-serif;\\\"><span style=\\\"box-sizing: inherit; font-size: 14px;\\\">Female Male Child Teen Adult Senior T-Shirts Jackets Boots Blazers Trousers Sandals Sneakers Sunglasses Lace-up Shoes Wallets Shirts</span></span></p> <p style=\\\"box-sizing: inherit; margin: 0px 0px 15px; color: #48484a; font-size: 14px; padding: 0px; text-align: justify; font-family: 'Open Sans', Arial, sans-serif; background-color: #ffffff;\\\">Vivamus ante nunc, suscipit vitae nunc ut, varius pellentesque libero. In justo risus, maximus ut vehicula eu, semper non erat. Mauris eget aliquet dui, vitae pretium enim. Phasellus sit amet neque nisl. Donec at nunc at ligula placerat lobortis a vel ligula. Sed interdum eros ut lacinia bibendum. Phasellus at purus leo. Vivamus et ultricies sem. Nunc vel pellentesque nisi. Donec et fringilla diam. Etiam ullamcorper lectus in nulla cursus pulvinar eu et lacus. Praesent suscipit vehicula mauris, vel mattis libero consequat eget. Cras vel porttitor ipsum. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nullam leo sapien, mollis at tempus a, volutpat id dui.</p>\",\n        \"summary_html_raw\": \"<p><span style=\\\"font-family: 'Open Sans', Arial, sans-serif; font-size: 14px; text-align: justify; background-color: #ffffff;\\\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam tincidunt at nulla eget maximus. Nullam neque massa, malesuada vel est id, consectetur tempor sapien.</span></p>\",\n        \"categories_o\": {\n          \"item\": [\n            {\n              \"key\": \"t-shirts\",\n              \"value_smv\": \"T-Shirts\"\n            },\n            {\n              \"key\": \"trousers\",\n              \"value_smv\": \"Trousers\"\n            },\n            {\n              \"key\": \"sneakers\",\n              \"value_smv\": \"Sneakers\"\n            },\n            {\n              \"key\": \"shirts\",\n              \"value_smv\": \"Shirts\"\n            },\n            {\n              \"key\": \"jackets\",\n              \"value_smv\": \"Jackets\"\n            },\n            {\n              \"key\": \"sunglasses\",\n              \"value_smv\": \"Sunglasses\"\n            },\n            {\n              \"key\": \"wallets\",\n              \"value_smv\": \"Wallets\"\n            }\n          ]\n        }\n      }\n    ]\n  }\n}\n\n\n\n      \t, payload));\n    })\n  );\n}\n\nexport function fetchGraphCompleteEpic(action$) {\n  return action$.pipe(\n    ofType(FETCH_GRAPH_COMPLETE),\n    filter(({ payload }) => (\n      payload &&\n      payload.store &&\n      payload.store.settings\n    )),\n    map(({ payload: { store: { settings } } }) => setStoreSettings(settings))\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { combineReducers, createStore, applyMiddleware, compose } from 'redux';\nimport { reducer as reduxFormReducer } from 'redux-form';\nimport { createEpicMiddleware } from 'redux-observable';\nimport {\n  themeReducer,\n  contentReducer,\n  usersReducer,\n  productsReducer\n} from './reducers';\n\nimport rootEpic from './epics/epics';\nimport { loginComplete, setPersona } from './actions/usersActions';\nimport { setIsAuthoring } from './actions/themeActions';\nimport { setStoreSettings } from './actions/productsActions';\n\nconst reducer = combineReducers({\n  form: reduxFormReducer,\n  theme: themeReducer,\n  content: contentReducer,\n  users: usersReducer,\n  products: productsReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst epicMiddleware = createEpicMiddleware();\n\nconst store = createStore(\n  reducer,\n  composeEnhancers(\n    applyMiddleware(epicMiddleware)\n  )\n);\n\nconst json = document.getElementById('userJSON').innerHTML;\ntry {\n  const user = JSON.parse(json);\n  user && store.dispatch(loginComplete(user));\n} catch (e) {\n  (process.env.NODE_ENV === 'development') && console.error('Invalid syntax for user JSON.', e.message);\n}\n\nlet persona = null;\ntry {\n  const json = document.getElementById('personaJSON').innerHTML;\n  persona = JSON.parse(json);\n  persona && store.dispatch(setPersona(persona))\n} catch (e) {\n  (process.env.NODE_ENV === 'development') && console.error('Invalid syntax for persona JSON.', e.message);\n}\n\nlet storeSettings = null;\ntry {\n  const json = document.getElementById('storeSettingsJSON').innerHTML;\n  storeSettings = JSON.parse(json);\n  storeSettings && store.dispatch(setStoreSettings(storeSettings));\n} catch (e) {\n  (process.env.NODE_ENV === 'development') && console.error('Invalid syntax for store settings JSON.', e.message);\n}\n\n// True if the site is being view via authoring (studio).\n// False if it's the live site.\nconst isAuthoring = ['true']\n  .includes(\n    document\n      .querySelector('html')\n      .getAttribute('data-craftercms-preview')\n  );\n\nif (isAuthoring) {\n  store.dispatch(setIsAuthoring(isAuthoring));\n}\n\nepicMiddleware.run(rootEpic);\n\nexport default store;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable camelcase */\nimport es from './es/main.json';\nimport en from './en/main.json';\n\nexport default {\n  en: { ...en },\n  es: { ...es  }\n};\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport resources from './resources';\n\nexport const config = {\n  interpolation: { escapeValue: false }, // React already does escaping\n  lng: 'en',\n  resources,\n};\n\nexport { resources };\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { catchError, map } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\nexport function removeProp(branch, ...keys) {\n  const next = { ...branch };\n  keys.forEach((key) => {\n    delete next[key];\n  });\n  return next;\n}\n\nexport const errorOp = catchError((response) => of(response));\n\nexport const mapOp = (success, fail) => map(\n  ({ response, name }) =>\n    (name !== 'AjaxError')\n      ? success(response)\n      : fail(response)\n);\n\nexport function getRootType(type) {\n  return type.replace(/_FAILED|_COMPLETE/g, '');\n}\n\nexport function byIdLoadingKey(root, id) {\n  return `${root}[${id}]`;\n}\n","\n/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const FETCH_GRAPH = 'FETCH_GRAPH';\nexport const FETCH_GRAPH_COMPLETE = 'FETCH_GRAPH_COMPLETE';\nexport const FETCH_GRAPH_FAILED = 'FETCH_GRAPH_FAILED';\n\nexport function fetchGraph(requirements, variables) {\n  return {\n    type: FETCH_GRAPH,\n    payload: { requirements, variables }\n  };\n}\n\nexport function fetchGraphComplete(data, rootPayload) {\n  return {\n    type: FETCH_GRAPH_COMPLETE,\n    payload: data,\n    rootPayload\n  };\n}\n\nexport function fetchGraphFailed(response, rootPayload) {\n  return {\n    type: FETCH_GRAPH_FAILED,\n    payload: response,\n    rootPayload\n  };\n}\n"],"sourceRoot":""}